/*! Copyright 2003-2022 Rustici Software, LLC All Rights Reserved. Rustici-Engine 21.1.1 2023-10-04T17:27:55+0000 4e6e4eb modern */

var RscpCfg,ReadyThePlayer,rscpCustomizationCompleted,rscpCfg,IntegrationImplementation,Control,DebugCommandSentry,HistoryLog,calcContentFrameSize;function Integration(){this.CONTENT_FRAME_NAME="ScormContent",this.MENU_INDENT=20,this.NumDeliverableScos=null}function GetControlWindow(){var t=window,e=t.Control,i=0;if(!this.controlWindow){for(;!(e||10<i);)e=(t=window.parent).Control,i+=1;this.controlWindow=t}return this.controlWindow}function _exitElementHandler(t){var e,i;if("keydown"!==t.type||13===t.keyCode||32===t.keyCode){if(i=GetControlWindow().Control,-1<t.currentTarget.id.indexOf("NoDebug")?i.ShouldSaveClientDebugLogs=!1:i.ShouldSaveClientDebugLogs=rscpCfg.get("shouldSaveClientDebugLogs"),(e=$("#returnToLms").get(0)).shouldToggle=!1,i.TriggerReturnToLMS(),e.shouldToggle)return!0;t.stopPropagation()}}function Integration_PostResourceStringsLoaded(){var t=rscpCfg.get("topParams"),e=rscpCfg.get("intermediatePage"),i=rscpCfg.get("modernLogo"),n=rscpCfg.get("privacyPolicyUrl"),r=$("body"),o=this.CONTENT_FRAME_NAME,s=$("#ContentDiv").find("iframe");document.title=void 0!==t.courseTitle?t.courseTitle:rscpCfg.get("registrationToDeliver").Package.LearningObjects[0].Title,this.UpdateLocalizedStrings(),void 0!==t.showNavBar&&t.showNavBar&&r.removeClass("hideNavBar"),void 0!==t.showProgress&&t.showProgress&&r.removeClass("hideProgress"),void 0!==t.showTitleBar&&t.showTitleBar&&r.removeClass("hideTitleBar"),void 0!==t.enableFlow&&t.enableFlow&&r.removeClass("disableFlow"),void 0!==t.showClose&&t.showClose&&r.removeClass("hideClose"),void 0!==t.showFinish&&t.showFinish&&r.removeClass("hideFinish"),void 0!==t.showCourseStructure&&t.showCourseStructure&&($("#rscp-sidebar").addClass("sr-only"),r.removeClass("hideCourseStructure"),$("#toggleMenu").on("click",function(){GetControlWindow().Control.ToggleMenuVisibility(),calcContentFrameSize()})),rscpCfg.get("shouldSaveClientDebugLogs")&&(r.removeClass("hideDebug").addClass("showDebug"),$("#viewDebug").on("click",function(){GetControlWindow().Debug.ShowAllAvailableData()}),$("#returnToLmsNoDebug").on("click keydown",_exitElementHandler)),""!==i&&($("#rscp-logo").attr("src",i),r.removeClass("hideLogo")),""!==n&&($("#rscp-privacyPolicy-link").attr("href",n),r.removeClass("hidePrivacyPolicy")),s.attr("id",o).attr("name",o),rscpCfg.get("intermediatePageLoadAtStart")&&s.attr("src",MergeQueryStringParameters(e.PageHref,e.Parameters)+"&SignalLoaded=false"),s[0].contentWindow.name=o,$("html").attr("lang",t.cc),$("#courseTitleText").text(document.title),void 0!==t.preventRightClick&&t.preventRightClick&&(window.document.oncontextmenu=function(){return!1}),calcContentFrameSize()}function Integration_PostRunTimeCreation(){DebugCommandSentry.addTargetElement()}function DisplayState(){this.SuccessImageClass="",this.CompletionImageClass="",this.ActiveDisplayed=null,this.EnabledDisplayed=null,this.StatusTitleDisplayed=null,this.MenuTitleDisplayed=null}function Integration_GetString(t){for(var e,i=AppStrings[t],n=null!=i&&0<i.length?i:t,r=Array.prototype.slice.call(arguments),o=1;o<r.length;o+=1)e=new RegExp("\\{"+(o-1)+"\\}","g"),null===r[o]&&(r[o]=""),n=n.replace(e,r[o].toString());return n}function Integration_GetMenuItemElementTag(){return"li"}function Integration_PopulateMenuItemElement(t,e,i,n,r,o,s,a,u,l,c){var d,h,p,f=rscpCfg.get("langDirection"),g=r*this.MENU_INDENT,m=e.createElement("span");return m.id="CompletionStatusImg"+i,m.className="sidebar-completion-unknown",m.setAttribute("role","presentation"),(d=e.createElement("span")).id="SuccessStatusImg"+i,d.className="sidebar-success-unknown",d.setAttribute("role","presentation"),(h=e.createElement("a")).id="MenuItemText"+i,h.className="menulink",h.text=n,h.setAttribute("role","presentation"),"rtl"===f?h.style.paddingRight=g+"px":h.style.paddingLeft=g+"px",a!==STATUS_DISPLAY_COMPLETION_ONLY&&a!==STATUS_DISPLAY_SEPERATE&&a!==STATUS_DISPLAY_COMBINED||t.appendChild(m),a!==STATUS_DISPLAY_SUCCESS_ONLY&&a!==STATUS_DISPLAY_SEPERATE||t.appendChild(d),t.appendChild(h),t.className="menuitem",t.title=n,t.setAttribute("aria-level",r+1),o?t.setAttribute("role","link"):t.setAttribute("role","heading"),c.Enabled&&(c.Enabled=!1,c.Enable(u,n)),(p=new DisplayState).SuccessImageClass="sidebar-success-unknown",p.CompletionImageClass="sidebar-completion-unknown",p.ActiveDisplayed=null,p.EnabledDisplayed=null,p.StatusTitleDisplayed="",p.MenuTitleDisplayed="",p}function Integration_UpdateIndentLevel(t,e,i){var n=i*this.MENU_INDENT,r=t.getElementsByTagName("a")[0];n<0&&(n=0),"rtl"===rscpCfg.get("langDirection")?r.style.paddingRight=n+"px":r.style.paddingLeft=n+"px",t.setAttribute("aria-level",i+1)}function Integration_GetDocumentObjectForMenu(){return window.document}function Integration_GetDocumentObjectForControls(){return window.document}function Integration_GetHtmlElementToInsertMenuWithin(){return $("#MenuPlaceHolderDiv")[0]}function Integration_UpdateMenuStateDisplay(t,e,i,n,r,o,s,a,u,l,c){var d,h,p,f,g=new DisplayState,m="",S="",v="",A=null!=o&&i.GetItemIdentifier()===o.GetItemIdentifier(),y=null,T=null;return g.ActiveDisplayed=null,g.EnabledDisplayed=null,d=!(g.TitleDisplayed="")===i.WasAutoCompleted&&!0===i.LookAheadActivity&&!0===c?RESULT_UNKNOWN:i.IsCompleted(),h=!0===i.WasAutoSatisfied&&!0===i.LookAheadActivity&&!0===c?RESULT_UNKNOWN:i.IsSatisfied(),u===STATUS_DISPLAY_SEPERATE?(m=(S=!0===d?(g.CompletionImageClass="sidebar-completion-completed",this.GetString("Completed")):!1===d?(g.CompletionImageClass="sidebar-completion-incomplete",this.GetString("Requirement Not Fulfilled")):(g.CompletionImageClass="sidebar-completion-unknown",this.GetString("Not Started")))+" / ",!0===h?(g.SuccessImageClass="sidebar-success-passed",v+=this.GetString("Passed")):!1===h?(g.SuccessImageClass="sidebar-success-failed",v+=this.GetString("Requirement Not Fulfilled")):(g.SuccessImageClass="sidebar-success-unknown",v+=this.GetString("Unknown")),m+=v):u===STATUS_DISPLAY_COMPLETION_ONLY||u===STATUS_DISPLAY_COMBINED?(m=!0===d?(g.CompletionImageClass="sidebar-completion-completed",this.GetString("Completed")):!1===d?(g.CompletionImageClass="sidebar-completion-incomplete",this.GetString("Requirement Not Fulfilled")):(g.CompletionImageClass="sidebar-completion-unknown",this.GetString("Not Started")),u===STATUS_DISPLAY_COMBINED&&(!0===h?m=this.GetString("Passed"):!1===h&&(m=this.GetString("Requirement Not Fulfilled")))):u===STATUS_DISPLAY_SUCCESS_ONLY&&(!0===h?(g.SuccessImageClass="sidebar-success-passed",m+=this.GetString("Passed")):!1===h?(g.SuccessImageClass="sidebar-success-failed",m+=this.GetString("Requirement Not Fulfilled")):(g.SuccessImageClass="sidebar-success-unknown",m+=this.GetString("Unknown"))),!0===s.WillSucceed?g.EnabledDisplayed=!0:g.EnabledDisplayed=!1,g.ActiveDisplayed=A,a.is2004()?i.GetPrimaryObjective().GetMeasureStatus(null,!1)&&(m+=" / ",m+=this.GetString("Score: {0}",i.GetPrimaryObjective().GetNormalizedMeasure(null,!1)),v+=" / ",v+=this.GetString("Score: {0}",i.GetPrimaryObjective().GetNormalizedMeasure(null,!1))):null!==i.RunTime&&null!==i.RunTime.ScoreRaw&&(m+=" / ",v+=" / ",null!==i.RunTime.ScoreMax?(m+=this.GetString("Score: {0} of {1}",i.RunTime.ScoreRaw,i.RunTime.ScoreMax),v+=this.GetString("Score: {0} of {1}",i.RunTime.ScoreRaw,i.RunTime.ScoreMax)):(m+=this.GetString("Score: {0}",i.RunTime.ScoreRaw),v+=this.GetString("Score: {0}",i.RunTime.ScoreRaw))),g.StatusTitleDisplayed=m,g.MenuTitleDisplayed=m,u!==STATUS_DISPLAY_SEPERATE&&u!==STATUS_DISPLAY_COMBINED&&u!==STATUS_DISPLAY_COMPLETION_ONLY||g.CompletionImageClass!==l.CompletionImageClass&&((y=e.getElementById("CompletionStatusImg"+n)).className=g.CompletionImageClass),u!==STATUS_DISPLAY_SEPERATE&&u!==STATUS_DISPLAY_SUCCESS_ONLY||g.SuccessImageClass!==l.SuccessImageClass&&((T=e.getElementById("SuccessStatusImg"+n)).className=g.SuccessImageClass),g.EnabledDisplayed===l.EnabledDisplayed&&g.ActiveDisplayed===l.ActiveDisplayed&&g.MenuTitleDisplayed===l.MenuTitleDisplayed||(p=e.getElementById("MenuItemText"+n),!0===g.ActiveDisplayed?g.ActiveDisplayed===l.ActiveDisplayed&&g.EnabledDisplayed===l.EnabledDisplayed||(!0===g.EnabledDisplayed?p.className="activeMenulink":p.className="activeMenulinkDisabled"):(g.EnabledDisplayed!==l.EnabledDisplayed||!1===g.ActiveDisplayed&&g.ActiveDisplayed!==l.ActiveDisplayed)&&(!0===g.EnabledDisplayed?(p.className="enabledMenulink",p.title=""):(p.className="disabledMenulink",p.title=s.Exception+" "+s.ExceptionText)),g.MenuTitleDisplayed!==l.MenuTitleDisplayed&&(p.title=g.MenuTitleDisplayed),!0===g.EnabledDisplayed?(t.disabled=!1,t.setAttribute("aria-disabled",!1)):(t.disabled=!0,t.setAttribute("aria-disabled",!0))),g.StatusTitleDisplayed!==l.StatusTitleDisplayed&&(f=e.getElementById("MenuItem"+n),u===STATUS_DISPLAY_SEPERATE?(null===y&&(y=e.getElementById("CompletionStatusImg"+n)),null===T&&(T=e.getElementById("SuccessStatusImg"+n)),y.title=S,T.title=v,f.setAttribute("aria-label",i.GetTitle()+" - Completion status: "+S+", Success status: "+v)):u===STATUS_DISPLAY_COMBINED||u===STATUS_DISPLAY_COMPLETION_ONLY?(null===y&&(y=e.getElementById("CompletionStatusImg"+n)),y.title=m,u===STATUS_DISPLAY_COMBINED?f.setAttribute("aria-label",i.GetTitle()+" - Completion+Success status: "+m):f.setAttribute("aria-label",i.GetTitle()+" - Completion status: "+m)):u===STATUS_DISPLAY_SUCCESS_ONLY&&(null===T&&(T=e.getElementById("SuccessStatusImg"+n)),T.title=m,f.setAttribute("aria-label",i.GetTitle()+" - Success status: "+m))),g}function Integration_SetMenuToggleVisibility(t){var e=this.GetDocumentObjectForControls().getElementById("toggleMenu");null!==e&&(e.style.visibility=!0===t?"visible":"hidden")}function Integration_ShowMenu(){var t=this.GetString("Hide Menu");$("#rscp-sidebar").removeClass("sr-only").addClass("col-md-3"),$("#rscp-main").addClass("col-md-9"),$("#sidebar-text").html(t),$("#toggleMenu").attr("title",t)}function Integration_HideMenu(){var t=this.GetString("Show Menu");$("#rscp-sidebar").removeClass("col-md-3").addClass("sr-only"),$("#rscp-main").removeClass("col-md-9"),$("#sidebar-text").html(t),$("#toggleMenu").attr("title",t)}function Integration_ShowExitDialog(){$("#returnToLms").get(0).shouldToggle=!0,GetControlWindow().Control.ExitDialogVisible=!1,$("#exit_dialog_suspend").on("click.rs",function(t){t.preventDefault(),GetControlWindow().Control.ReturnToLms("suspend_all")}),$("#exit_dialog_exit").on("click.rs",function(t){t.preventDefault(),GetControlWindow().Control.ReturnToLms("exit_all")})}function Integration_HideExitDialog(){$("#exit_dialog_suspend").off("click.rs"),$("#exit_dialog_exit").off("click.rs")}function Integration_UpdateControlState(t,e,i){var n,r=GetControlWindow().Control,o=$("#next"),s=$("#previous"),a=$("#closeSco"),u=$("#returnToLms"),l=!1,c=!1,d=!1,h=!1,p=!1,f=!1,g=r.Package.Properties.InvalidMenuItemAction;null!==i&&(l=i.LearningObject.SequencingData.HidePrevious,c=i.LearningObject.SequencingData.HideContinue,d=i.LearningObject.SequencingData.HideExit,i.LearningObject.SequencingData.HideAbandon,h=i.LearningObject.SequencingData.HideSuspendAll,p=i.LearningObject.SequencingData.HideAbandonAll,f=i.LearningObject.SequencingData.HideExitAll),0!==o.length&&(o.attr("title",this.GetString("Next")),!0===e[POSSIBLE_NAVIGATION_REQUEST_INDEX_CONTINUE].WillSucceed&&!1===c||g===INVALID_MENU_ITEM_ACTION_SHOW_ENABLE?(o.removeClass("disabledTopMenuItem"),o.addClass("enabledTopMenuItem"),o.prop("disabled",!1),o.off("click"),o.on("click",function(){return GetControlWindow().Control.Next(),!0})):g===INVALID_MENU_ITEM_ACTION_DISABLE?(o.removeClass("enabledTopMenuItem"),o.addClass("disabledTopMenuItem"),o.prop("disabled",!0),o.off("click"),c?o.attr("title",this.GetString("You cannot use 'Next' with this item.")):(n=e[POSSIBLE_NAVIGATION_REQUEST_INDEX_CONTINUE].GetErrorString())&&o.attr("title",n)):g===INVALID_MENU_ITEM_ACTION_HIDE&&o.removeClass("disabledTopMenuItem enabledTopMenuItem")),0!==s.length&&(s.attr("title",this.GetString("Previous")),!0===e[POSSIBLE_NAVIGATION_REQUEST_INDEX_PREVIOUS].WillSucceed&&!1===l||g===INVALID_MENU_ITEM_ACTION_SHOW_ENABLE?(s.removeClass("disabledTopMenuItem"),s.addClass("enabledTopMenuItem"),s.prop("disabled",!1),s.off("click"),s.on("click",function(){return GetControlWindow().Control.Previous(),!0})):g===INVALID_MENU_ITEM_ACTION_DISABLE?(s.removeClass("enabledTopMenuItem"),s.addClass("disabledTopMenuItem"),s.prop("disabled",!0),s.off("click"),l?s.attr("title",this.GetString("This lesson does not allow 'Previous' requests.")):(n=e[POSSIBLE_NAVIGATION_REQUEST_INDEX_PREVIOUS].GetErrorString())&&s.attr("title",n)):g===INVALID_MENU_ITEM_ACTION_HIDE&&s.removeClass("disabledTopMenuItem enabledTopMenuItem")),0!==a.length&&(a.attr("title",this.GetString("Close Item")),!0===e[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT].WillSucceed&&!1===d||g===INVALID_MENU_ITEM_ACTION_SHOW_ENABLE?(a.removeClass("disabledTopMenuItem"),a.addClass("enabledTopMenuItem"),a.prop("disabled",!1),a.off("click"),a.on("click",function(){return GetControlWindow().Control.CloseSco(),!0})):g===INVALID_MENU_ITEM_ACTION_DISABLE?(a.removeClass("enabledTopMenuItem"),a.addClass("disabledTopMenuItem"),a.prop("disabled",!0),a.off("click"),d?a.attr("title",this.GetString("You cannot use 'Exit' with this item.")):(n=e[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT].GetErrorString())&&a.attr("title",n)):g===INVALID_MENU_ITEM_ACTION_HIDE&&a.removeClass("disabledTopMenuItem enabledTopMenuItem")),null!==u&&(u.off("click.rs.TriggerReturnToLMS keydown.rs.TriggerReturnToLMS"),u.attr("title",this.GetString("Return to LMS")),!0===f&&!0===h&&!0===p?(u.removeClass("enabledTopMenuItem"),u.addClass("disabledTopMenuItem"),u.prop("disabled",!0),(n=e[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT_ALL].GetErrorString())&&u.attr("title",n)):(u.removeClass("disabledTopMenuItem"),u.addClass("enabledTopMenuItem"),u.prop("disabled",!1),r.Package.LearningStandard.is2004()&&"selectable"===r.Package.Properties.ReturnToLmsAction&&(u.attr("aria-haspopup","true"),u.attr("aria-expanded","false"),u.attr("aria-controls","returnToLmsMenu")),u.off("click.rs.TriggerReturnToLMS keydown.rs.TriggerReturnToLMS"),u.on("click.rs.TriggerReturnToLMS keydown.rs.TriggerReturnToLMS",_exitElementHandler)))}function Integration_UpdateProgressBar(t,e){var i,n,r,o,s,a,u,l=rscpCfg.get("topParams"),c=GetControlWindow().Control,d=$("#progressText"),h=$("#progressImage"),p="";if(void 0!==l.useMeasureProgress&&l.useMeasureProgress){if(null!==(u=e)){for(;!0!==u.IsTheRoot();)u=u.ParentActivity;i=parseInt(100*u.GetAttemptCompletionAmount(),10)}else i=0;p=i+"%",n=i,r="100"}else{for(null===this.NumDeliverableScos&&(this.NumDeliverableScos=c.Activities.GetNumDeliverableActivities()),o=c.Activities.ActivityList,a=s=0;a<o.length;a+=1)o[a].IsDeliverable()&&!0===o[a].IsCompleted()&&!1!==o[a].IsSatisfied()&&(s+=1);p=s+" / "+this.NumDeliverableScos,n=s,r=this.NumDeliverableScos,i=parseInt(s/this.NumDeliverableScos*100,10)}h.css("width",i+"%"),h.attr("aria-valuenow",n),h.attr("aria-valuemax",r),d.html(p)}function Integration_PreOverallSequencingProcess(){}function Integration_PostScoLoaded(t){var e=document.getElementById(this.CONTENT_FRAME_NAME);e.setAttribute("title",t.GetTitle()),e.contentWindow.focus()}function Integration_PostScoUnloaded(){var t=document.getElementById(this.CONTENT_FRAME_NAME),e=document.getElementsByClassName("menuitem")[0],i=document.getElementById("toggleMenu"),n=null!==i&&"visible"===i.style.visibility?this.GetString("Please make a selection from the Course Menu."):this.GetString("Please make a selection from the Navigation Controls.");t.setAttribute("title",n),e.focus()}function Integration_OverrideMenuLookAndFeel(){}!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(_,t){"use strict";function g(t){return null!=t&&t===t.window}var e=[],n=Object.getPrototypeOf,a=e.slice,m=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},u=e.push,r=e.indexOf,i={},o=i.toString,S=i.hasOwnProperty,s=S.toString,l=s.call(Object),v={},A=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=_.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,i){var n,r,o=(i=i||b).createElement("script");if(o.text=t,e)for(n in c)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&o.setAttribute(n,r);i.head.appendChild(o).parentNode.removeChild(o)}function T(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[o.call(t)]||"object":typeof t}var d="3.5.0",E=function(t,e){return new E.fn.init(t,e)};function h(t){var e=!!t&&"length"in t&&t.length,i=T(t);return!A(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}E.fn=E.prototype={jquery:d,constructor:E,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(i){return this.pushStack(E.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:e.sort,splice:e.splice},E.extend=E.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||A(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&s!==n&&(l&&n&&(E.isPlainObject(n)||(r=Array.isArray(n)))?(i=s[e],o=r&&!Array.isArray(i)?[]:r||E.isPlainObject(i)?i:{},r=!1,s[e]=E.extend(l,o,n)):void 0!==n&&(s[e]=n));return s},E.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==o.call(t))&&(!(e=n(t))||"function"==typeof(i=S.call(e,"constructor")&&e.constructor)&&s.call(i)===l)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){y(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(h(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(h(Object(t))?E.merge(i,"string"==typeof t?[t]:t):u.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:r.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;r<o;r++)!e(t[r],r)!=s&&n.push(t[r]);return n},map:function(t,e,i){var n,r,o=0,s=[];if(h(t))for(n=t.length;o<n;o++)null!=(r=e(t[o],o,i))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&s.push(r);return m(s)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=e[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var p=function(i){function d(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320))}function r(){C()}var t,p,y,o,s,f,h,g,T,u,l,C,_,a,b,m,c,S,v,E="sizzle"+ +new Date,A=i.document,R=0,n=0,I=ut(),D=ut(),O=ut(),P=ut(),N=function(t,e){return t===e&&(l=!0),0},L={}.hasOwnProperty,e=[],w=e.pop,M=e.push,x=e.push,U=e.slice,G=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",q="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+q+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+q+"*("+j+")(?:"+q+"*([*^$|!~]?=)"+q+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+q+"*\\]",B=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",W=new RegExp(q+"+","g"),H=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),V=new RegExp("^"+q+"*,"+q+"*"),z=new RegExp("^"+q+"*([>+~]|"+q+")"+q+"*"),X=new RegExp(q+"|>"),Y=new RegExp(B),K=new RegExp("^"+j+"$"),Q={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,it=/[+~]/,nt=new RegExp("\\\\[\\da-fA-F]{1,6}"+q+"?|\\\\([^\\r\\n\\f])","g"),rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=vt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{x.apply(e=U.call(A.childNodes),A.childNodes),e[A.childNodes.length].nodeType}catch(t){x={apply:e.length?function(t,e){M.apply(t,U.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(e,t,i,n){var r,o,s,a,u,l,c,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return i;if(!n&&(C(t),t=t||_,b)){if(11!==h&&(u=et.exec(e)))if(r=u[1]){if(9===h){if(!(s=t.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(d&&(s=d.getElementById(r))&&v(t,s)&&s.id===r)return i.push(s),i}else{if(u[2])return x.apply(i,t.getElementsByTagName(e)),i;if((r=u[3])&&p.getElementsByClassName&&t.getElementsByClassName)return x.apply(i,t.getElementsByClassName(r)),i}if(p.qsa&&!P[e+" "]&&(!m||!m.test(e))&&(1!==h||"object"!==t.nodeName.toLowerCase())){if(c=e,d=t,1===h&&(X.test(e)||z.test(e))){for((d=it.test(e)&&gt(t.parentNode)||t)===t&&p.scope||((a=t.getAttribute("id"))?a=a.replace(rt,ot):t.setAttribute("id",a=E)),o=(l=f(e)).length;o--;)l[o]=(a?"#"+a:":scope")+" "+St(l[o]);c=l.join(",")}try{return x.apply(i,d.querySelectorAll(c)),i}catch(t){P(e,!0)}finally{a===E&&t.removeAttribute("id")}}}return g(e.replace(H,"$1"),t,i,n)}function ut(){var i=[];function n(t,e){return i.push(t+" ")>y.cacheLength&&delete n[i.shift()],n[t+" "]=e}return n}function lt(t){return t[E]=!0,t}function ct(t){var e=_.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var i=t.split("|"),n=i.length;n--;)y.attrHandle[i[n]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&st(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ft(s){return lt(function(o){return o=+o,lt(function(t,e){for(var i,n=s([],t.length,o),r=n.length;r--;)t[i=n[r]]&&(t[i]=!(e[i]=t[i]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!$.test(e||i&&i.nodeName||"HTML")},C=at.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:A;return n!=_&&9===n.nodeType&&n.documentElement&&(a=(_=n).documentElement,b=!s(_),A!=_&&(i=_.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",r,!1):i.attachEvent&&i.attachEvent("onunload",r)),p.scope=ct(function(t){return a.appendChild(t).appendChild(_.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),p.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=ct(function(t){return t.appendChild(_.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=tt.test(_.getElementsByClassName),p.getById=ct(function(t){return a.appendChild(t).id=E,!_.getElementsByName||!_.getElementsByName(E).length}),p.getById?(y.filter.ID=function(t){var e=t.replace(nt,d);return function(t){return t.getAttribute("id")===e}},y.find.ID=function(t,e){if(void 0!==e.getElementById&&b){var i=e.getElementById(t);return i?[i]:[]}}):(y.filter.ID=function(t){var i=t.replace(nt,d);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}},y.find.ID=function(t,e){if(void 0!==e.getElementById&&b){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),y.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;i=o[r++];)1===i.nodeType&&n.push(i);return n},y.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&b)return e.getElementsByClassName(t)},c=[],m=[],(p.qsa=tt.test(_.querySelectorAll))&&(ct(function(t){var e;a.appendChild(t).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+q+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+q+"*(?:value|"+k+")"),t.querySelectorAll("[id~="+E+"-]").length||m.push("~="),(e=_.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+q+"*name"+q+"*="+q+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+E+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=_.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+q+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(p.matchesSelector=tt.test(S=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ct(function(t){p.disconnectedMatch=S.call(t,"*"),S.call(t,"[s!='']:x"),c.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),c=c.length&&new RegExp(c.join("|")),e=tt.test(a.compareDocumentPosition),v=e||tt.test(a.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},N=e?function(t,e){if(t===e)return l=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===i?t==_||t.ownerDocument==A&&v(A,t)?-1:e==_||e.ownerDocument==A&&v(A,e)?1:u?G(u,t)-G(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return l=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t==_?-1:e==_?1:r?-1:o?1:u?G(u,t)-G(u,e):0;if(r===o)return ht(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?ht(s[n],a[n]):s[n]==A?-1:a[n]==A?1:0}),_},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(C(t),p.matchesSelector&&b&&!P[e+" "]&&(!c||!c.test(e))&&(!m||!m.test(e)))try{var i=S.call(t,e);if(i||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){P(e,!0)}return 0<at(e,_,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=_&&C(t),v(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=_&&C(t);var i=y.attrHandle[e.toLowerCase()],n=i&&L.call(y.attrHandle,e.toLowerCase())?i(t,e,!b):void 0;return void 0!==n?n:p.attributes||!b?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},at.escape=function(t){return(t+"").replace(rt,ot)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],n=0,r=0;if(l=!p.detectDuplicates,u=!p.sortStable&&t.slice(0),t.sort(N),l){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return u=null,t},o=at.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=o(e);return i},(y=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,d),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,d),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Y.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,d).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=I[t+" "];return e||(e=new RegExp("(^|"+q+")"+t+"("+q+"|$)"))&&I(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,n,r){return function(t){var e=at.attr(t,i);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(W," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,t,e,g,m){var S="nth"!==f.slice(0,3),v="last"!==f.slice(-4),A="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,i){var n,r,o,s,a,u,l=S!=v?"nextSibling":"previousSibling",c=t.parentNode,d=A&&t.nodeName.toLowerCase(),h=!i&&!A,p=!1;if(c){if(S){for(;l;){for(s=t;s=s[l];)if(A?s.nodeName.toLowerCase()===d:1===s.nodeType)return!1;u=l="only"===f&&!u&&"nextSibling"}return!0}if(u=[v?c.firstChild:c.lastChild],v&&h){for(p=(a=(n=(r=(o=(s=c)[E]||(s[E]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]||[])[0]===R&&n[1])&&n[2],s=a&&c.childNodes[a];s=++a&&s&&s[l]||(p=a=0)||u.pop();)if(1===s.nodeType&&++p&&s===t){r[f]=[R,a,p];break}}else if(h&&(p=a=(n=(r=(o=(s=t)[E]||(s[E]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]||[])[0]===R&&n[1]),!1===p)for(;(s=++a&&s&&s[l]||(p=a=0)||u.pop())&&((A?s.nodeName.toLowerCase()!==d:1!==s.nodeType)||!++p||(h&&((r=(o=s[E]||(s[E]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]=[R,p]),s!==t)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(t,o){var e,s=y.pseudos[t]||y.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return s[E]?s(o):1<s.length?(e=[t,t,"",o],y.setFilters.hasOwnProperty(t.toLowerCase())?lt(function(t,e){for(var i,n=s(t,o),r=n.length;r--;)t[i=G(t,n[r])]=!(e[i]=n[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:lt(function(t){var n=[],r=[],a=h(t.replace(H,"$1"));return a[E]?lt(function(t,e,i,n){for(var r,o=a(t,null,n,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,i){return n[0]=t,a(n,null,i,r),n[0]=null,!r.pop()}}),has:lt(function(e){return function(t){return 0<at(e,t).length}}),contains:lt(function(e){return e=e.replace(nt,d),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:lt(function(i){return K.test(i||"")||at.error("unsupported lang: "+i),i=i.replace(nt,d).toLowerCase(),function(t){var e;do{if(e=b?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!y.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t}),gt:ft(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=y.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})y.pseudos[t]=function(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}(t);function mt(){}function St(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function vt(a,t,e){var u=t.dir,l=t.next,c=l||u,d=e&&"parentNode"===c,h=n++;return t.first?function(t,e,i){for(;t=t[u];)if(1===t.nodeType||d)return a(t,e,i);return!1}:function(t,e,i){var n,r,o,s=[R,h];if(i){for(;t=t[u];)if((1===t.nodeType||d)&&a(t,e,i))return!0}else for(;t=t[u];)if(1===t.nodeType||d)if(r=(o=t[E]||(t[E]={}))[t.uniqueID]||(o[t.uniqueID]={}),l&&l===t.nodeName.toLowerCase())t=t[u]||t;else{if((n=r[c])&&n[0]===R&&n[1]===h)return s[2]=n[2];if((r[c]=s)[2]=a(t,e,i))return!0}return!1}}function At(r){return 1<r.length?function(t,e,i){for(var n=r.length;n--;)if(!r[n](t,e,i))return!1;return!0}:r[0]}function yt(t,e,i,n,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),l&&e.push(a)));return s}function Tt(p,f,g,m,S,t){return m&&!m[E]&&(m=Tt(m)),S&&!S[E]&&(S=Tt(S,t)),lt(function(t,e,i,n){var r,o,s,a=[],u=[],l=e.length,c=t||function(t,e,i){for(var n=0,r=e.length;n<r;n++)at(t,e[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),d=!p||!t&&f?c:yt(c,a,p,i,n),h=g?S||(t?p:l||m)?[]:e:d;if(g&&g(d,h,i,n),m)for(r=yt(h,u),m(r,[],i,n),o=r.length;o--;)(s=r[o])&&(h[u[o]]=!(d[u[o]]=s));if(t){if(S||p){if(S){for(r=[],o=h.length;o--;)(s=h[o])&&r.push(d[o]=s);S(null,h=[],r,n)}for(o=h.length;o--;)(s=h[o])&&-1<(r=S?G(t,s):a[o])&&(t[r]=!(e[r]=s))}}else h=yt(h===e?h.splice(l,h.length):h),S?S(null,e,h,n):x.apply(e,h)})}function Ct(m,S){function t(t,e,i,n,r){var o,s,a,u=0,l="0",c=t&&[],d=[],h=T,p=t||A&&y.find.TAG("*",r),f=R+=null==h?1:Math.random()||.1,g=p.length;for(r&&(T=e==_||e||r);l!==g&&null!=(o=p[l]);l++){if(A&&o){for(s=0,e||o.ownerDocument==_||(C(o),i=!b);a=m[s++];)if(a(o,e||_,i)){n.push(o);break}r&&(R=f)}v&&((o=!a&&o)&&u--,t&&c.push(o))}if(u+=l,v&&l!==u){for(s=0;a=S[s++];)a(c,d,e,i);if(t){if(0<u)for(;l--;)c[l]||d[l]||(d[l]=w.call(n));d=yt(d)}x.apply(n,d),r&&!t&&0<d.length&&1<u+S.length&&at.uniqueSort(n)}return r&&(R=f,T=h),c}var v=0<S.length,A=0<m.length;return v?lt(t):t}return mt.prototype=y.filters=y.pseudos,y.setFilters=new mt,f=at.tokenize=function(t,e){var i,n,r,o,s,a,u,l=D[t+" "];if(l)return e?0:l.slice(0);for(s=t,a=[],u=y.preFilter;s;){for(o in i&&!(n=V.exec(s))||(n&&(s=s.slice(n[0].length)||s),a.push(r=[])),i=!1,(n=z.exec(s))&&(i=n.shift(),r.push({value:i,type:n[0].replace(H," ")}),s=s.slice(i.length)),y.filter)!(n=Q[o].exec(s))||u[o]&&!(n=u[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),s=s.slice(i.length));if(!i)break}return e?s.length:s?at.error(t):D(t,a).slice(0)},h=at.compile=function(t,e){var i,n=[],r=[],o=O[t+" "];if(!o){for(i=(e=e||f(t)).length;i--;)(o=function t(e){for(var r,i,n,o=e.length,s=y.relative[e[0].type],a=s||y.relative[" "],u=s?1:0,l=vt(function(t){return t===r},a,!0),c=vt(function(t){return-1<G(r,t)},a,!0),d=[function(t,e,i){var n=!s&&(i||e!==T)||((r=e).nodeType?l:c)(t,e,i);return r=null,n}];u<o;u++)if(i=y.relative[e[u].type])d=[vt(At(d),i)];else{if((i=y.filter[e[u].type].apply(null,e[u].matches))[E]){for(n=++u;n<o&&!y.relative[e[n].type];n++);return Tt(1<u&&At(d),1<u&&St(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(H,"$1"),i,u<n&&t(e.slice(u,n)),n<o&&t(e=e.slice(n)),n<o&&St(e))}d.push(i)}return At(d)}(e[i]))[E]?n.push(o):r.push(o);(o=O(t,Ct(r,n))).selector=t}return o},g=at.select=function(t,e,i,n){var r,o,s,a,u,l="function"==typeof t&&t,c=!n&&f(t=l.selector||t);if(i=i||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===e.nodeType&&b&&y.relative[o[1].type]){if(!(e=(y.find.ID(s.matches[0].replace(nt,d),e)||[])[0]))return i;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=Q.needsContext.test(t)?0:o.length;r--&&(s=o[r],!y.relative[a=s.type]);)if((u=y.find[a])&&(n=u(s.matches[0].replace(nt,d),it.test(o[0].type)&&gt(e.parentNode)||e))){if(o.splice(r,1),!(t=n.length&&St(o)))return x.apply(i,n),i;break}}return(l||h(t,c))(n,e,!b,i,!e||it.test(t)&&gt(e.parentNode)||e),i},p.sortStable=E.split("").sort(N).join("")===E,p.detectDuplicates=!!l,C(),p.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(_.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||dt("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||dt("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||dt(k,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),at}(_);E.find=p,E.expr=p.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=p.uniqueSort,E.text=p.getText,E.isXMLDoc=p.isXML,E.contains=p.contains,E.escapeSelector=p.escape;function f(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(i))break;n.push(t)}return n}function C(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}var R=E.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,i,n){return A(i)?E.grep(t,function(t,e){return!!i.call(t,e,t)!==n}):i.nodeType?E.grep(t,function(t){return t===i!==n}):"string"!=typeof i?E.grep(t,function(t){return-1<r.call(i,t)!==n}):E.filter(i,t,n)}E.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?E.find.matchesSelector(n,t)?[n]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<n;e++)if(E.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)E.find(t,r[e],i);return 1<n?E.uniqueSort(i):i},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&R.test(t)?E(t):t||[],!1).length}});var P,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||P,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):A(t)?void 0!==i.ready?i.ready(t):t(E):E.makeArray(t,this);if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:N.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),D.test(n[1])&&E.isPlainObject(e))for(n in e)A(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=b.getElementById(n[2]))&&(this[0]=r,this.length=1),this}).prototype=E.fn,P=E(b);var L=/^(?:parents|prev(?:Until|All))/,w={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],s="string"!=typeof t&&E(t);if(!R.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&E.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(1<o.length?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?r.call(E(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,i){return f(t,"parentNode",i)},next:function(t){return M(t,"nextSibling")},prev:function(t){return M(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,i){return f(t,"nextSibling",i)},prevUntil:function(t,e,i){return f(t,"previousSibling",i)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return null!=t.contentDocument&&n(t.contentDocument)?t.contentDocument:(I(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(n,r){E.fn[n]=function(t,e){var i=E.map(this,r,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=E.filter(e,i)),1<this.length&&(w[n]||E.uniqueSort(i),L.test(n)&&i.reverse()),this.pushStack(i)}});var x=/[^\x20\t\r\n\f]+/g;function U(t){return t}function G(t){throw t}function k(t,e,i,n){var r;try{t&&A(r=t.promise)?r.call(t).done(e).fail(i):t&&A(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}E.Callbacks=function(n){var t,i;n="string"==typeof n?(t=n,i={},E.each(t.match(x)||[],function(t,e){i[e]=!0}),i):E.extend({},n);function r(){for(a=a||n.once,s=o=!0;l.length;c=-1)for(e=l.shift();++c<u.length;)!1===u[c].apply(e[0],e[1])&&n.stopOnFalse&&(c=u.length,e=!1);n.memory||(e=!1),o=!1,a&&(u=e?[]:"")}var o,e,s,a,u=[],l=[],c=-1,d={add:function(){return u&&(e&&!o&&(c=u.length-1,l.push(e)),function i(t){E.each(t,function(t,e){A(e)?n.unique&&d.has(e)||u.push(e):e&&e.length&&"string"!==T(e)&&i(e)})}(arguments),e&&!o&&r()),this},remove:function(){return E.each(arguments,function(t,e){for(var i;-1<(i=E.inArray(e,u,i));)u.splice(i,1),i<=c&&c--}),this},has:function(t){return t?-1<E.inArray(t,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return a=l=[],u=e="",this},disabled:function(){return!u},lock:function(){return a=l=[],e||o||(u=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),o||r()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},E.extend({Deferred:function(t){var o=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var r=arguments;return E.Deferred(function(n){E.each(o,function(t,e){var i=A(r[e[4]])&&r[e[4]];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&A(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,i?[t]:arguments)})}),r=null}).promise()},then:function(e,i,n){var u=0;function l(r,o,s,a){return function(){function t(){var t,e;if(!(r<u)){if((t=s.apply(i,n))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,A(e)?a?e.call(t,l(u,o,U,a),l(u,o,G,a)):(u++,e.call(t,l(u,o,U,a),l(u,o,G,a),l(u,o,U,o.notifyWith))):(s!==U&&(i=void 0,n=[t]),(a||o.resolveWith)(i,n))}}var i=this,n=arguments,e=a?t:function(){try{t()}catch(t){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(t,e.stackTrace),u<=r+1&&(s!==G&&(i=void 0,n=[t]),o.rejectWith(i,n))}};r?e():(E.Deferred.getStackHook&&(e.stackTrace=E.Deferred.getStackHook()),_.setTimeout(e))}}return E.Deferred(function(t){o[0][3].add(l(0,t,A(n)?n:U,t.notifyWith)),o[1][3].add(l(0,t,A(e)?e:U)),o[2][3].add(l(0,t,A(i)?i:G))}).promise()},promise:function(t){return null!=t?E.extend(t,s):s}},a={};return E.each(o,function(t,e){var i=e[2],n=e[5];s[e[1]]=i.add,n&&i.add(function(){r=n},o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),i.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=i.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){r[e]=this,o[e]=1<arguments.length?a.call(arguments):t,--i||s.resolveWith(r,o)}}var i=arguments.length,n=i,r=Array(n),o=a.call(arguments),s=E.Deferred();if(i<=1&&(k(t,s.done(e(n)).resolve,s.reject,!i),"pending"===s.state()||A(o[n]&&o[n].then)))return s.then();for(;n--;)k(o[n],e(n),s.reject);return s.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){_.console&&_.console.warn&&t&&q.test(t.name)&&_.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){_.setTimeout(function(){throw t})};var j=E.Deferred();function F(){b.removeEventListener("DOMContentLoaded",F),_.removeEventListener("load",F),E.ready()}E.fn.ready=function(t){return j.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0)!==t&&0<--E.readyWait||j.resolveWith(b,[E])}}),E.ready.then=j.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?_.setTimeout(E.ready):(b.addEventListener("DOMContentLoaded",F),_.addEventListener("load",F));var B=function(t,e,i,n,r,o,s){var a=0,u=t.length,l=null==i;if("object"===T(i))for(a in r=!0,i)B(t,e,a,i[a],!0,o,s);else if(void 0!==n&&(r=!0,A(n)||(s=!0),l&&(e=s?(e.call(t,n),null):(l=e,function(t,e,i){return l.call(E(t),i)})),e))for(;a<u;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):u?e(t[0],i):o},W=/^-ms-/,H=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function z(t){return t.replace(W,"ms-").replace(H,V)}function X(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function Y(){this.expando=E.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e=Object.create(null),X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[z(e)]=i;else for(n in e)r[z(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][z(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(z):(e=z(e))in n?[e]:e.match(x)||[]).length;for(;i--;)delete n[e[i]]}void 0!==e&&!E.isEmptyObject(n)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var K=new Y,Q=new Y,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(t,e,i){var n,r;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:$.test(r)?JSON.parse(r):r)}catch(t){}Q.set(t,e,i)}else i=void 0;return i}E.extend({hasData:function(t){return Q.hasData(t)||K.hasData(t)},data:function(t,e,i){return Q.access(t,e,i)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,i){return K.access(t,e,i)},_removeData:function(t,e){K.remove(t,e)}}),E.fn.extend({data:function(i,t){var e,n,r,o=this[0],s=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){Q.set(this,i)}):B(this,function(t){var e;return o&&void 0===t?void 0!==(e=Q.get(o,i))||void 0!==(e=Z(o,i))?e:void 0:void this.each(function(){Q.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=Q.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(n=s[e].name).indexOf("data-")&&(n=z(n.slice(5)),Z(o,n,r[n]));K.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),E.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=K.get(t,e),i&&(!n||Array.isArray(i)?n=K.access(t,e,E.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=E.queue(t,e),n=i.length,r=i.shift(),o=E._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,function(){E.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return K.get(t,i)||K.access(t,i,{empty:E.Callbacks("once memory").add(function(){K.remove(t,[e+"queue",i])})})}}),E.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?E.queue(this[0],e):void 0===i?this:this.each(function(){var t=E.queue(this,e,i);E._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&E.dequeue(this,e)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--r||o.resolveWith(s,[s])}var n,r=1,o=E.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=K.get(s[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(i));return i(),o.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],nt=b.documentElement,rt=function(t){return E.contains(t.ownerDocument,t)},ot={composed:!0};nt.getRootNode&&(rt=function(t){return E.contains(t.ownerDocument,t)||t.getRootNode(ot)===t.ownerDocument});var st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===E.css(t,"display")};function at(t,e,i,n){var r,o,s=20,a=n?function(){return n.cur()}:function(){return E.css(t,e,"")},u=a(),l=i&&i[3]||(E.cssNumber[e]?"":"px"),c=t.nodeType&&(E.cssNumber[e]||"px"!==l&&+u)&&et.exec(E.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;s--;)E.style(t,e,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;c*=2,E.style(t,e,c+l),i=i||[]}return i&&(c=+c||+u||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=c,n.end=r)),r}var ut={};function lt(t,e){for(var i,n,r,o,s,a,u,l=[],c=0,d=t.length;c<d;c++)(n=t[c]).style&&(i=n.style.display,e?("none"===i&&(l[c]=K.get(n,"display")||null,l[c]||(n.style.display="")),""===n.style.display&&st(n)&&(l[c]=(u=a=s=o=void 0,s=(r=n).ownerDocument,a=r.nodeName,(u=ut[a])||(o=s.body.appendChild(s.createElement(a)),u=E.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ut[a]=u)))):"none"!==i&&(l[c]="none",K.set(n,"display",i)));for(c=0;c<d;c++)null!=l[c]&&(t[c].style.display=l[c]);return t}E.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?E(this).show():E(this).hide()})}});var ct,dt,ht=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;ct=b.createDocumentFragment().appendChild(b.createElement("div")),(dt=b.createElement("input")).setAttribute("type","radio"),dt.setAttribute("checked","checked"),dt.setAttribute("name","t"),ct.appendChild(dt),v.checkClone=ct.cloneNode(!0).cloneNode(!0).lastChild.checked,ct.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ct.cloneNode(!0).lastChild.defaultValue,ct.innerHTML="<option></option>",v.option=!!ct.lastChild;var gt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&I(t,e)?E.merge([t],i):i}function St(t,e){for(var i=0,n=t.length;i<n;i++)K.set(t[i],"globalEval",!e||K.get(e[i],"globalEval"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,v.option||(gt.optgroup=gt.option=[1,"<select multiple='multiple'>","</select>"]);var vt=/<|&#?\w+;/;function At(t,e,i,n,r){for(var o,s,a,u,l,c,d=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===T(o))E.merge(h,o.nodeType?[o]:o);else if(vt.test(o)){for(s=s||d.appendChild(e.createElement("div")),a=(pt.exec(o)||["",""])[1].toLowerCase(),u=gt[a]||gt._default,s.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;E.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(e.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(n&&-1<E.inArray(o,n))r&&r.push(o);else if(l=rt(o),s=mt(d.appendChild(o),"script"),l&&St(s),i)for(c=0;o=s[c++];)ft.test(o.type||"")&&i.push(o);return d}var yt=/^key/,Tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ct=/^([^.]*)(?:\.(.+)|)/;function _t(){return!0}function bt(){return!1}function Et(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function Rt(t,e,i,n,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)Rt(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=bt;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return E().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),t.each(function(){E.event.add(this,e,r,n,i)})}function It(t,r,o){o?(K.set(t,r,!1),E.event.add(t,r,{namespace:!1,handler:function(t){var e,i,n=K.get(this,r);if(1&t.isTrigger&&this[r]){if(n.length)(E.event.special[r]||{}).delegateType&&t.stopPropagation();else if(n=a.call(arguments),K.set(this,r,n),e=o(this,r),this[r](),n!==(i=K.get(this,r))||e?K.set(this,r,!1):i={},n!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else n.length&&(K.set(this,r,{value:E.event.trigger(E.extend(n[0],E.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===K.get(t,r)&&E.event.add(t,r,_t)}E.event={global:{},add:function(e,t,i,n,r){var o,s,a,u,l,c,d,h,p,f,g,m=K.get(e);if(X(e))for(i.handler&&(i=(o=i).handler,r=o.selector),r&&E.find.matchesSelector(nt,r),i.guid||(i.guid=E.guid++),(u=m.events)||(u=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(x)||[""]).length;l--;)p=g=(a=Ct.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=E.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=E.event.special[p]||{},c=E.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),E.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,s,a,u,l,c,d,h,p,f,g,m=K.hasData(t)&&K.get(t);if(m&&(u=m.events)){for(l=(e=(e||"").match(x)||[""]).length;l--;)if(p=g=(a=Ct.exec(e[l])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=E.event.special[p]||{},h=u[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)c=h[o],!r&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,m.handle)||E.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)E.event.remove(t,p+e[l],i,n,!0);E.isEmptyObject(u)&&K.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,s,a=new Array(arguments.length),u=E.event.fix(t),l=(K.get(this,"events")||Object.create(null))[u.type]||[],c=E.event.special[u.type]||{};for(a[0]=u,e=1;e<arguments.length;e++)a[e]=arguments[e];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(s=E.event.handlers.call(this,u,l),e=0;(r=s[e++])&&!u.isPropagationStopped();)for(u.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(n=((E.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(u.result=n)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(t,e){var i,n,r,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&1<=t.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},i=0;i<u;i++)void 0===s[r=(n=e[i]).selector+" "]&&(s[r]=n.needsContext?-1<E(r,this).index(l):E.find(r,this,null,[l]).length),s[r]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:A(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ht.test(e.type)&&e.click&&I(e,"input")&&It(e,"click",_t),!1},trigger:function(t){var e=this||t;return ht.test(e.type)&&e.click&&I(e,"input")&&It(e,"click"),!0},_default:function(t){var e=t.target;return ht.test(e.type)&&e.click&&I(e,"input")&&K.get(e,"click")||I(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?_t:bt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:bt,isPropagationStopped:bt,isImmediatePropagationStopped:bt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_t,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_t,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_t,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&yt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Tt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(t,e){E.event.special[t]={setup:function(){return It(this,t,Et),!1},trigger:function(){return It(this,t),!0},delegateType:e}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){E.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||E.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=r),e}}}),E.fn.extend({on:function(t,e,i,n){return Rt(this,t,e,i,n)},one:function(t,e,i,n){return Rt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,E(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=bt),this.each(function(){E.event.remove(this,t,i,e)});for(r in t)this.off(r,e,t[r]);return this}});var Dt=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Nt(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function wt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Mt(t,e){var i,n,r,o,s,a;if(1===e.nodeType){if(K.hasData(t)&&(a=K.get(t).events))for(r in K.remove(e,"handle events"),a)for(i=0,n=a[r].length;i<n;i++)E.event.add(e,r,a[r][i]);Q.hasData(t)&&(o=Q.access(t),s=E.extend({},o),Q.set(e,s))}}function xt(i,n,r,o){n=m(n);var t,e,s,a,u,l,c=0,d=i.length,h=d-1,p=n[0],f=A(p);if(f||1<d&&"string"==typeof p&&!v.checkClone&&Ot.test(p))return i.each(function(t){var e=i.eq(t);f&&(n[0]=p.call(this,t,e.html())),xt(e,n,r,o)});if(d&&(e=(t=At(n,i[0].ownerDocument,!1,i,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=E.map(mt(t,"script"),Lt)).length;c<d;c++)u=t,c!==h&&(u=E.clone(u,!0,!0),a&&E.merge(s,mt(u,"script"))),r.call(i[c],u,c);if(a)for(l=s[s.length-1].ownerDocument,E.map(s,wt),c=0;c<a;c++)u=s[c],ft.test(u.type||"")&&!K.access(u,"globalEval")&&E.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):y(u.textContent.replace(Pt,""),u,l))}return i}function Ut(t,e,i){for(var n,r=e?E.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||E.cleanData(mt(n)),n.parentNode&&(i&&rt(n)&&St(mt(n,"script")),n.parentNode.removeChild(n));return t}E.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,o,s,a,u,l,c=t.cloneNode(!0),d=rt(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(s=mt(c),n=0,r=(o=mt(t)).length;n<r;n++)a=o[n],u=s[n],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&ht.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(e)if(i)for(o=o||mt(t),s=s||mt(c),n=0,r=o.length;n<r;n++)Mt(o[n],s[n]);else Mt(t,c);return 0<(s=mt(c,"script")).length&&St(s,!d&&mt(t,"script")),c},cleanData:function(t){for(var e,i,n,r=E.event.special,o=0;void 0!==(i=t[o]);o++)if(X(i)){if(e=i[K.expando]){if(e.events)for(n in e.events)r[n]?E.event.remove(i,n):E.removeEvent(i,n,e.handle);i[K.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),E.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return B(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return xt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)})},prepend:function(){return xt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Nt(this,t)).insertBefore(t,e.firstChild)})},before:function(){return xt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return xt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return B(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!gt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(E.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return xt(this,arguments,function(t){var e=this.parentNode;E.inArray(this,i)<0&&(E.cleanData(mt(this)),e&&e.replaceChild(t,this))},i)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){E.fn[t]=function(t){for(var e,i=[],n=E(t),r=n.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),E(n[o])[s](e),u.apply(i,e.get());return this.pushStack(i)}});function Gt(t,e,i){var n,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in n=i.call(t),e)t.style[r]=o[r];return n}var kt,qt,jt,Ft,Bt,Wt,Ht,Vt,zt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Xt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=_),e.getComputedStyle(t)},Yt=new RegExp(it.join("|"),"i");function Kt(){var t;Vt&&(Ht.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Vt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Ht).appendChild(Vt),t=_.getComputedStyle(Vt),kt="1%"!==t.top,Wt=12===Qt(t.marginLeft),Vt.style.right="60%",Ft=36===Qt(t.right),qt=36===Qt(t.width),Vt.style.position="absolute",jt=12===Qt(Vt.offsetWidth/3),nt.removeChild(Ht),Vt=null)}function Qt(t){return Math.round(parseFloat(t))}function $t(t,e,i){var n,r,o,s,a=t.style;return(i=i||Xt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||rt(t)||(s=E.style(t,e)),!v.pixelBoxStyles()&&zt.test(s)&&Yt.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Jt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ht=b.createElement("div"),(Vt=b.createElement("div")).style&&(Vt.style.backgroundClip="content-box",Vt.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Vt.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return Kt(),qt},pixelBoxStyles:function(){return Kt(),Ft},pixelPosition:function(){return Kt(),kt},reliableMarginLeft:function(){return Kt(),Wt},scrollboxSize:function(){return Kt(),jt},reliableTrDimensions:function(){var t,e,i,n;return null==Bt&&(t=b.createElement("table"),e=b.createElement("tr"),i=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",nt.appendChild(t).appendChild(e).appendChild(i),n=_.getComputedStyle(e),Bt=3<parseInt(n.height),nt.removeChild(t)),Bt}}));var Zt=["Webkit","Moz","ms"],te=b.createElement("div").style,ee={};function ie(t){var e=E.cssProps[t]||ee[t];return e||(t in te?t:ee[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Zt.length;i--;)if((t=Zt[i]+e)in te)return t}(t)||t)}var ne=/^(none|table(?!-c[ea]).+)/,re=/^--/,oe={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"};function ae(t,e,i){var n=et.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function ue(t,e,i,n,r,o){var s="width"===e?1:0,a=0,u=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(u+=E.css(t,i+it[s],!0,r)),n?("content"===i&&(u-=E.css(t,"padding"+it[s],!0,r)),"margin"!==i&&(u-=E.css(t,"border"+it[s]+"Width",!0,r))):(u+=E.css(t,"padding"+it[s],!0,r),"padding"!==i?u+=E.css(t,"border"+it[s]+"Width",!0,r):a+=E.css(t,"border"+it[s]+"Width",!0,r));return!n&&0<=o&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function le(t,e,i){var n=Xt(t),r=(!v.boxSizingReliable()||i)&&"border-box"===E.css(t,"boxSizing",!1,n),o=r,s=$t(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(zt.test(s)){if(!i)return s;s="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&I(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===E.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===E.css(t,"boxSizing",!1,n),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ue(t,e,i||(r?"border":"content"),o,n,s)+"px"}function ce(t,e,i,n,r){return new ce.prototype.init(t,e,i,n,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=$t(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=z(e),u=re.test(e),l=t.style;if(u||(e=ie(a)),s=E.cssHooks[e]||E.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e];"string"===(o=typeof i)&&(r=et.exec(i))&&r[1]&&(i=at(t,e,r),o="number"),null!=i&&i==i&&("number"!==o||u||(i+=r&&r[3]||(E.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(u?l.setProperty(e,i):l[e]=i))}},css:function(t,e,i,n){var r,o,s,a=z(e);return re.test(e)||(e=ie(a)),(s=E.cssHooks[e]||E.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=$t(t,e,n)),"normal"===r&&e in se&&(r=se[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),E.each(["height","width"],function(t,u){E.cssHooks[u]={get:function(t,e,i){if(e)return!ne.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?le(t,u,i):Gt(t,oe,function(){return le(t,u,i)})},set:function(t,e,i){var n,r=Xt(t),o=!v.scrollboxSize()&&"absolute"===r.position,s=(o||i)&&"border-box"===E.css(t,"boxSizing",!1,r),a=i?ue(t,u,i,s,r):0;return s&&o&&(a-=Math.ceil(t["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(r[u])-ue(t,u,"border",!1,r)-.5)),a&&(n=et.exec(e))&&"px"!==(n[3]||"px")&&(t.style[u]=e,e=E.css(t,u)),ae(0,e,a)}}}),E.cssHooks.marginLeft=Jt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat($t(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(r,o){E.cssHooks[r+o]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[r+it[e]+o]=n[e]||n[e-2]||n[0];return i}},"margin"!==r&&(E.cssHooks[r+o].set=ae)}),E.fn.extend({css:function(t,e){return B(this,function(t,e,i){var n,r,o={},s=0;if(Array.isArray(e)){for(n=Xt(t),r=e.length;s<r;s++)o[e[s]]=E.css(t,e[s],!1,n);return o}return void 0!==i?E.style(t,e,i):E.css(t,e)},t,e,1<arguments.length)}}),(E.Tween=ce).prototype={constructor:ce,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(E.cssNumber[i]?"":"px")},cur:function(){var t=ce.propHooks[this.prop];return t&&t.get?t.get(this):ce.propHooks._default.get(this)},run:function(t){var e,i=ce.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ce.propHooks._default.set(this),this}},ce.prototype.init.prototype=ce.prototype,ce.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||!E.cssHooks[t.prop]&&null==t.elem.style[ie(t.prop)]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},ce.propHooks.scrollTop=ce.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=ce.prototype.init,E.fx.step={};var de,he,pe,fe,ge=/^(?:toggle|show|hide)$/,me=/queueHooks$/;function Se(){he&&(!1===b.hidden&&_.requestAnimationFrame?_.requestAnimationFrame(Se):_.setTimeout(Se,E.fx.interval),E.fx.tick())}function ve(){return _.setTimeout(function(){de=void 0}),de=Date.now()}function Ae(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=it[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function ye(t,e,i){for(var n,r=(Te.tweeners[e]||[]).concat(Te.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function Te(o,t,e){var i,s,n=0,r=Te.prefilters.length,a=E.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var t=de||ve(),e=Math.max(0,l.startTime+l.duration-t),i=1-(e/l.duration||0),n=0,r=l.tweens.length;n<r;n++)l.tweens[n].run(i);return a.notifyWith(o,[l,i,e]),i<1&&r?e:(r||a.notifyWith(o,[l,1,0]),a.resolveWith(o,[l]),!1)},l=a.promise({elem:o,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},e),originalProperties:t,originalOptions:e,startTime:de||ve(),duration:e.duration,tweens:[],createTween:function(t,e){var i=E.Tween(o,l.opts,t,e,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var e=0,i=t?l.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)l.tweens[e].run(1);return t?(a.notifyWith(o,[l,1,0]),a.resolveWith(o,[l,t])):a.rejectWith(o,[l,t]),this}}),c=l.props;for(!function(t,e){var i,n,r,o,s;for(i in t)if(r=e[n=z(i)],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=E.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}(c,l.opts.specialEasing);n<r;n++)if(i=Te.prefilters[n].call(l,o,c,l.opts))return A(i.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return E.map(c,ye,l),A(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(Te,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return at(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){for(var i,n=0,r=(t=A(t)?(e=t,["*"]):t.match(x)).length;n<r;n++)i=t[n],Te.tweeners[i]=Te.tweeners[i]||[],Te.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,o,s,a,u,l,c,d="width"in e||"height"in e,h=this,p={},f=t.style,g=t.nodeType&&st(t),m=K.get(t,"fxshow");for(n in i.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[n],ge.test(r)){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||E.style(t,n)}if((u=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(n in d&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=m&&m.display)&&(l=K.get(t,"display")),"none"===(c=E.css(t,"display"))&&(l?c=l:(lt([t],!0),l=t.style.display||l,c=E.css(t,"display"),lt([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(t,"float")&&(u||(h.done(function(){f.display=l}),null==l&&(c=f.display,l="none"===c?"":c)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),u=!1,p)u||(m?"hidden"in m&&(g=m.hidden):m=K.access(t,"fxshow",{display:l}),o&&(m.hidden=!g),g&&lt([t],!0),h.done(function(){for(n in g||lt([t]),K.remove(t,"fxshow"),p)E.style(t,n,p[n])})),u=ye(g?m[n]:0,n,h),n in m||(m[n]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?Te.prefilters.unshift(t):Te.prefilters.push(t)}}),E.speed=function(t,e,i){var n=t&&"object"==typeof t?E.extend({},t):{complete:i||!i&&e||A(t)&&t,duration:t,easing:i&&e||e&&!A(e)&&e};return E.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in E.fx.speeds?n.duration=E.fx.speeds[n.duration]:n.duration=E.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){A(n.old)&&n.old.call(this),n.queue&&E.dequeue(this,n.queue)},n},E.fn.extend({fadeTo:function(t,e,i,n){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){function r(){var t=Te(this,E.extend({},e),s);(o||K.get(this,"finish"))&&t.stop(!0)}var o=E.isEmptyObject(e),s=E.speed(t,i,n);return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(r,t,o){function s(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",i=E.timers,n=K.get(this);if(e)n[e]&&n[e].stop&&s(n[e]);else for(e in n)n[e]&&n[e].stop&&me.test(e)&&s(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=r&&i[e].queue!==r||(i[e].anim.stop(o),t=!1,i.splice(e,1));!t&&o||E.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=K.get(this),i=e[s+"queue"],n=e[s+"queueHooks"],r=E.timers,o=i?i.length:0;for(e.finish=!0,E.queue(this,s,[]),n&&n.stop&&n.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),E.each(["toggle","show","hide"],function(t,n){var r=E.fn[n];E.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(Ae(n,!0),t,e,i)}}),E.each({slideDown:Ae("show"),slideUp:Ae("hide"),slideToggle:Ae("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){E.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),E.timers=[],E.fx.tick=function(){var t,e=0,i=E.timers;for(de=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||E.fx.stop(),de=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){he||(he=!0,Se())},E.fx.stop=function(){he=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(n,t){return n=E.fx&&E.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var i=_.setTimeout(t,n);e.stop=function(){_.clearTimeout(i)}})},pe=b.createElement("input"),fe=b.createElement("select").appendChild(b.createElement("option")),pe.type="checkbox",v.checkOn=""!==pe.value,v.optSelected=fe.selected,(pe=b.createElement("input")).value="t",pe.type="radio",v.radioValue="t"===pe.value;var Ce,_e=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return B(this,E.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,i):(1===o&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?Ce:void 0)),void 0!==i?null===i?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):!(r&&"get"in r&&null!==(n=r.get(t,e)))&&null==(n=E.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&I(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(x);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),Ce={set:function(t,e,i){return!1===e?E.removeAttr(t,i):t.setAttribute(i,i),i}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var s=_e[e]||E.find.attr;_e[e]=function(t,e,i){var n,r,o=e.toLowerCase();return i||(r=_e[o],_e[o]=n,n=null!=s(t,e,i)?o:null,_e[o]=r),n}});var be=/^(?:input|select|textarea|button)$/i,Ee=/^(?:a|area)$/i;function Re(t){return(t.match(x)||[]).join(" ")}function Ie(t){return t.getAttribute&&t.getAttribute("class")||""}function De(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(x)||[]}E.fn.extend({prop:function(t,e){return B(this,E.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):be.test(t.nodeName)||Ee.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(e){var t,i,n,r,o,s,a,u=0;if(A(e))return this.each(function(t){E(this).addClass(e.call(this,t,Ie(this)))});if((t=De(e)).length)for(;i=this[u++];)if(r=Ie(i),n=1===i.nodeType&&" "+Re(r)+" "){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=Re(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,r,o,s,a,u=0;if(A(e))return this.each(function(t){E(this).removeClass(e.call(this,t,Ie(this)))});if(!arguments.length)return this.attr("class","");if((t=De(e)).length)for(;i=this[u++];)if(r=Ie(i),n=1===i.nodeType&&" "+Re(r)+" "){for(s=0;o=t[s++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");r!==(a=Re(n))&&i.setAttribute("class",a)}return this},toggleClass:function(r,e){var o=typeof r,s="string"==o||Array.isArray(r);return"boolean"==typeof e&&s?e?this.addClass(r):this.removeClass(r):A(r)?this.each(function(t){E(this).toggleClass(r.call(this,t,Ie(this),e),e)}):this.each(function(){var t,e,i,n;if(s)for(e=0,i=E(this),n=De(r);t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==r&&"boolean"!=o||((t=Ie(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==r&&K.get(this,"__className__")||""))})},hasClass:function(t){for(var e,i=0,n=" "+t+" ";e=this[i++];)if(1===e.nodeType&&-1<(" "+Re(Ie(e))+" ").indexOf(n))return!0;return!1}});var Oe=/\r/g;E.fn.extend({val:function(i){var n,t,r,e=this[0];return arguments.length?(r=A(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?i.call(this,t,E(this).val()):i)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=E.map(e,function(t){return null==t?"":t+""})),(n=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=E.valHooks[e.type]||E.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Oe,""):null==t?"":t:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:Re(E.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type,s=o?null:[],a=o?r+1:n.length,u=r<0?a:o?r:0;u<a;u++)if(((i=n[u]).selected||u===r)&&!i.disabled&&(!i.parentNode.disabled||!I(i.parentNode,"optgroup"))){if(e=E(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=E.makeArray(e),s=r.length;s--;)((n=r[s]).selected=-1<E.inArray(E.valHooks.option.get(n),o))&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<E.inArray(E(t).val(),e)}},v.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in _;function Pe(t){t.stopPropagation()}var Ne=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(t,e,i,n){var r,o,s,a,u,l,c,d=[i||b],h=S.call(t,"type")?t.type:t,p=S.call(t,"namespace")?t.namespace.split("."):[],f=c=o=i=i||b;if(3!==i.nodeType&&8!==i.nodeType&&!Ne.test(h+E.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,(t=t[E.expando]?t:new E.Event(h,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:E.makeArray(e,[t]),l=E.event.special[h]||{},n||!l.trigger||!1!==l.trigger.apply(i,e))){if(!n&&!l.noBubble&&!g(i)){for(s=l.delegateType||h,Ne.test(s+h)||(f=f.parentNode);f;f=f.parentNode)d.push(f),o=f;o===(i.ownerDocument||b)&&d.push(o.defaultView||o.parentWindow||_)}for(r=0;(f=d[r++])&&!t.isPropagationStopped();)c=f,t.type=1<r?s:l.bindType||h,(u=(K.get(f,"events")||Object.create(null))[t.type]&&K.get(f,"handle"))&&u.apply(f,e),(u=a&&f[a])&&u.apply&&X(f)&&(t.result=u.apply(f,e),!1===t.result&&t.preventDefault());return t.type=h,n||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(d.pop(),e)||!X(i)||a&&A(i[h])&&!g(i)&&((o=i[a])&&(i[a]=null),E.event.triggered=h,t.isPropagationStopped()&&c.addEventListener(h,Pe),i[h](),t.isPropagationStopped()&&c.removeEventListener(h,Pe),E.event.triggered=void 0,o&&(i[a]=o)),t.result}},simulate:function(t,e,i){var n=E.extend(new E.Event,i,{type:t,isSimulated:!0});E.event.trigger(n,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return E.event.trigger(t,e,i,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(i,n){function r(t){E.event.simulate(n,t.target,E.event.fix(t))}E.event.special[n]={setup:function(){var t=this.ownerDocument||this.document||this,e=K.access(t,n);e||t.addEventListener(i,r,!0),K.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=K.access(t,n)-1;e?K.access(t,n,e):(t.removeEventListener(i,r,!0),K.remove(t,n))}}});var Le=_.location,we={guid:Date.now()},Me=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new _.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var xe=/\[\]$/,Ue=/\r?\n/g,Ge=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;E.param=function(t,e){function i(t,e){var i=A(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)}var n,r=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){i(this.name,this.value)});else for(n in t)!function i(n,t,r,o){var e;if(Array.isArray(t))E.each(t,function(t,e){r||xe.test(n)?o(n,e):i(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,o)});else if(r||"object"!==T(t))o(n,t);else for(e in t)i(n+"["+e+"]",t[e],r,o)}(n,t[n],e,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&ke.test(this.nodeName)&&!Ge.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var i=E(this).val();return null==i?null:Array.isArray(i)?E.map(i,function(t){return{name:e.name,value:t.replace(Ue,"\r\n")}}):{name:e.name,value:i.replace(Ue,"\r\n")}}).get()}});var qe=/%20/g,je=/#.*$/,Fe=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,We=/^(?:GET|HEAD)$/,He=/^\/\//,Ve={},ze={},Xe="*/".concat("*"),Ye=b.createElement("a");function Ke(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,r=t.toLowerCase().match(x)||[];if(A(e))for(;i=r[n++];)"+"===i[0]?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(e)):(o[i]=o[i]||[]).push(e)}}function Qe(e,r,o,s){var a={},u=e===ze;function l(t){var n;return a[t]=!0,E.each(e[t]||[],function(t,e){var i=e(r,o,s);return"string"!=typeof i||u||a[i]?u?!(n=i):void 0:(r.dataTypes.unshift(i),l(i),!1)}),n}return l(r.dataTypes[0])||!a["*"]&&l("*")}function $e(t,e){var i,n,r=E.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n=n||{})[i]=e[i]);return n&&E.extend(!0,t,n),t}Ye.href=Le.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Le.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$e($e(t,E.ajaxSettings),e):$e(E.ajaxSettings,t)},ajaxPrefilter:Ke(Ve),ajaxTransport:Ke(ze),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var c,d,h,i,p,n,f,g,r,o,m=E.ajaxSetup({},e),S=m.context||m,v=m.context&&(S.nodeType||S.jquery)?E(S):E.event,A=E.Deferred(),y=E.Callbacks("once memory"),T=m.statusCode||{},s={},a={},u="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=Be.exec(h);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return f?h:null},setRequestHeader:function(t,e){return null==f&&(t=a[t.toLowerCase()]=a[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==f&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)C.always(t[C.status]);else for(e in t)T[e]=[T[e],t[e]];return this},abort:function(t){var e=t||u;return c&&c.abort(e),l(0,e),this}};if(A.promise(C),m.url=((t||m.url||Le.href)+"").replace(He,Le.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(x)||[""],null==m.crossDomain){n=b.createElement("a");try{n.href=m.url,n.href=n.href,m.crossDomain=Ye.protocol+"//"+Ye.host!=n.protocol+"//"+n.host}catch(t){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=E.param(m.data,m.traditional)),Qe(Ve,m,e,C),f)return C;for(r in(g=E.event&&m.global)&&0==E.active++&&E.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!We.test(m.type),d=m.url.replace(je,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(qe,"+")):(o=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(Me.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(Fe,"$1"),o=(Me.test(d)?"&":"?")+"_="+we.guid+++o),m.url=d+o),m.ifModified&&(E.lastModified[d]&&C.setRequestHeader("If-Modified-Since",E.lastModified[d]),E.etag[d]&&C.setRequestHeader("If-None-Match",E.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&C.setRequestHeader("Content-Type",m.contentType),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Xe+"; q=0.01":""):m.accepts["*"]),m.headers)C.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(S,C,m)||f))return C.abort();if(u="abort",y.add(m.complete),C.done(m.success),C.fail(m.error),c=Qe(ze,m,e,C)){if(C.readyState=1,g&&v.trigger("ajaxSend",[C,m]),f)return C;m.async&&0<m.timeout&&(p=_.setTimeout(function(){C.abort("timeout")},m.timeout));try{f=!1,c.send(s,l)}catch(t){if(f)throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,i,n){var r,o,s,a,u,l=e;f||(f=!0,p&&_.clearTimeout(p),c=void 0,h=n||"",C.readyState=0<t?4:0,r=200<=t&&t<300||304===t,i&&(a=function(t,e,i){for(var n,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){u.unshift(r);break}if(u[0]in i)o=u[0];else{for(r in i){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s=s||r}o=o||s}if(o)return o!==u[0]&&u.unshift(o),i[o]}(m,C,i)),!r&&-1<E.inArray("script",m.dataTypes)&&(m.converters["text script"]=function(){}),a=function(t,e,i,n){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!u&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(m,a,C,r),r?(m.ifModified&&((u=C.getResponseHeader("Last-Modified"))&&(E.lastModified[d]=u),(u=C.getResponseHeader("etag"))&&(E.etag[d]=u)),204===t||"HEAD"===m.type?l="nocontent":304===t?l="notmodified":(l=a.state,o=a.data,r=!(s=a.error))):(s=l,!t&&l||(l="error",t<0&&(t=0))),C.status=t,C.statusText=(e||l)+"",r?A.resolveWith(S,[o,l,C]):A.rejectWith(S,[C,l,s]),C.statusCode(T),T=void 0,g&&v.trigger(r?"ajaxSuccess":"ajaxError",[C,m,r?o:s]),y.fireWith(S,[C,l]),g&&(v.trigger("ajaxComplete",[C,m]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,i){return E.get(t,e,i,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,r){E[r]=function(t,e,i,n){return A(e)&&(n=n||i,i=e,e=void 0),E.ajax(E.extend({url:t,type:r,dataType:n,data:e,success:i},E.isPlainObject(t)&&t))}}),E.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),E._evalUrl=function(t,e,i){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){E.globalEval(t,e,i)}})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(A(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return A(i)?this.each(function(t){E(this).wrapInner(i.call(this,t))}):this.each(function(){var t=E(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=A(e);return this.each(function(t){E(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new _.XMLHttpRequest}catch(t){}};var Je={0:200,1223:204},Ze=E.ajaxSettings.xhr();v.cors=!!Ze&&"withCredentials"in Ze,v.ajax=Ze=!!Ze,E.ajaxTransport(function(r){var o,s;if(v.cors||Ze&&!r.crossDomain)return{send:function(t,e){var i,n=r.xhr();if(n.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(i in r.xhrFields)n[i]=r.xhrFields[i];for(i in r.mimeType&&n.overrideMimeType&&n.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);o=function(t){return function(){o&&(o=s=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(Je[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=o(),s=n.onerror=n.ontimeout=o("error"),void 0!==n.onabort?n.onabort=s:n.onreadystatechange=function(){4===n.readyState&&_.setTimeout(function(){o&&s()})},o=o("abort");try{n.send(r.hasContent&&r.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(i){var n,r;if(i.crossDomain||i.scriptAttrs)return{send:function(t,e){n=E("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",r=function(t){n.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),b.head.appendChild(n[0])},abort:function(){r&&r()}}});var ti,ei=[],ii=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ei.pop()||E.expando+"_"+we.guid++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,i){var n,r,o,s=!1!==t.jsonp&&(ii.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=A(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ii,"$1"+n):!1!==t.jsonp&&(t.url+=(Me.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||E.error(n+" was not called"),o[0]},t.dataTypes[0]="json",r=_[n],_[n]=function(){o=arguments},i.always(function(){void 0===r?E(_).removeProp(n):_[n]=r,t[n]&&(t.jsonpCallback=e.jsonpCallback,ei.push(n)),o&&A(r)&&r(o[0]),o=r=void 0}),"script"}),v.createHTMLDocument=((ti=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ti.childNodes.length),E.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(v.createHTMLDocument?((n=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(n)):e=b),o=!i&&[],(r=D.exec(t))?[e.createElement(r[1])]:(r=At([t],e,o),o&&o.length&&E(o).remove(),E.merge([],r.childNodes)));var n,r,o},E.fn.load=function(t,e,i){var n,r,o,s=this,a=t.indexOf(" ");return-1<a&&(n=Re(t.slice(a)),t=t.slice(0,a)),A(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?E("<div>").append(E.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length},E.offset={setOffset:function(t,e,i){var n,r,o,s,a,u,l=E.css(t,"position"),c=E(t),d={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=E.css(t,"top"),u=E.css(t,"left"),r=("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(s=(n=c.position()).top,n.left):(s=parseFloat(o)||0,parseFloat(u)||0),A(e)&&(e=e.call(t,i,E.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),c.css(d))}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){E.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===E.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(n,"marginTop",!0),left:e.left-r.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||nt})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;E.fn[e]=function(t){return B(this,function(t,e,i){var n;return g(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===i?n?n[r]:t[e]:void(n?n.scrollTo(o?n.pageXOffset:i,o?i:n.pageYOffset):t[e]=i)},e,t,arguments.length)}}),E.each(["top","left"],function(t,i){E.cssHooks[i]=Jt(v.pixelPosition,function(t,e){if(e)return e=$t(t,i),zt.test(e)?E(t).position()[i]+"px":e})}),E.each({Height:"height",Width:"width"},function(s,a){E.each({padding:"inner"+s,content:a,"":"outer"+s},function(n,o){E.fn[o]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),r=n||(!0===t||!0===e?"margin":"border");return B(this,function(t,e,i){var n;return g(t)?0===o.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+s],n["scroll"+s],t.body["offset"+s],n["offset"+s],n["client"+s])):void 0===i?E.css(t,e,r):E.style(t,e,i,r)},a,i?t:void 0,i)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){E.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}});var ni=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),A(t))return n=a.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||E.guid++,r},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=I,E.isFunction=A,E.isWindow=g,E.camelCase=z,E.type=T,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},E.trim=function(t){return null==t?"":(t+"").replace(ni,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var ri=_.jQuery,oi=_.$;return E.noConflict=function(t){return _.$===E&&(_.$=oi),t&&_.jQuery===E&&(_.jQuery=ri),E},void 0===t&&(_.jQuery=_.$=E),E}),function(t){var e,i,n;"function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),e||(i=window.Cookies,(n=window.Cookies=t()).noConflict=function(){return window.Cookies=i,n})}(function(){function a(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function l(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(u){function s(){}function i(t,e,i){if("undefined"!=typeof document){"number"==typeof(i=a({path:"/"},s.defaults,i)).expires&&(i.expires=new Date(+new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var n=JSON.stringify(e);/^[\{\[]/.test(n)&&(e=n)}catch(t){}e=u.write?u.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var o in i)i[o]&&(r+="; "+o,!0!==i[o]&&(r+="="+i[o].split(";")[0]));return document.cookie=t+"="+e+r}}function e(t,e){if("undefined"!=typeof document){for(var i={},n=document.cookie?document.cookie.split("; "):[],r=0;r<n.length;r++){var o=n[r].split("="),s=o.slice(1).join("=");e||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var a=l(o[0]),s=(u.read||u)(s,a)||l(s);if(e)try{s=JSON.parse(s)}catch(t){}if(i[a]=s,t===a)break}catch(t){}}return t?i[t]:i}}return s.set=i,s.get=function(t){return e(t,!1)},s.getJSON=function(t){return e(t,!0)},s.remove=function(t,e){i(t,"",a(e,{expires:-1}))},s.defaults={},s.withConverter=t,s}(function(){})}),function(){var e={scormResultsPage:"SCORM_RESULTS_PAGE",aiccResultsPage:"AICC_RESULTS_PAGE",serverLoggerPage:"SERVER_LOGGER_PAGE",debugLogPersistPage:"DEBUG_LOG_PERSIST_PAGE",shouldSaveClientDebugLogs:"SHOULD_SAVE_CLIENT_DEBUG_LOGS",errorReportFormUrl:"ERROR_REPORT_FORM_URL",shouldPromptOnClose:"SHOULD_PROMPT_ON_CLOSE",preferSendBeacon:"PREFER_SEND_BEACON",clientDebuggerEnabled:"CLIENT_DEBUGGER_ENABLED",prerequisiteSkipBlocked:"PREREQUISITE_SKIP_BLOCKED",sspEnabled:"SSP_ENABLED",maxSspStorage:"MAX_SSP_STORAGE",scormImmediateSyncCommit:"SCORMImmediateSyncCommit",launchHistoryId:"LaunchHistoryId",querystringAdditions:"QuerystringAdditions",extCfg:"ExternalConfig",extRegId:"ExternalRegistrationId",pathToCourse:"PathToCourse",redirectOnExitUrl:"RedirectOnExitUrl",learnerName:"LearnerName",learnerId:"LearnerId",intermediatePage:"IntermediatePage",popupLauncherPage:"PopupLauncherPage",registrationToDeliver:"RegistrationToDeliver"},i={},n={showFinish:!0,showClose:!0,showProgress:!0,useMeasureProgress:!0,showHelp:!0,enableFlow:!0,showNavBar:!0,showTitleBar:!0,showCourseStructure:!0,preventRightClick:!0};i.topParams=function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e],void 0!==n[e]&&("True"===t[e]||"true"===t[e]||!0===t[e]?i[e]=!0:i[e]=!1));return i},i.intermediatePage=i.popupLauncherPage=function(t){return typeof t===CosmeticPage?t:new CosmeticPage(t.FrameName,t.PageHref,t.Parameters)},(RscpCfg=function(t){var e;if(this._cfg={version:null,learningStandard:null,is2004Enabled:null,scormResultsPage:null,aiccResultsPage:null,serverLoggerPage:null,debugLogPersistPage:null,shouldSaveClientDebugLogs:null,sendDebugLogsAsJson:null,errorReportFormUrl:null,shouldPromptOnClose:null,preferSendBeacon:null,clientDebuggerEnabled:null,prerequisiteSkipBlocked:null,sspEnabled:null,maxSspStorage:null,scormImmediateSyncCommit:null,launchHistoryId:null,querystringAdditions:null,resizeToWidth:null,resizeToHeight:null,moveToLeft:null,moveToTop:null,extCfg:null,extRegId:null,pathToCourse:null,redirectOnExitUrl:null,redirectOnRefreshUrl:null,learnerName:null,learnerId:null,intermediatePage:null,popupLauncherPage:null,helpPage:null,wrapScoWithApiPage:null,contentAuthCookies:null,registrationToDeliver:null,langDirection:null,clientCustomizationScript:null,clientCustomizationStylesheet:null,modernLogo:null,legacySupportFrames:null,legacyStylesheetUrl:null,headerAdditions:null,topParams:{},cmi5LaunchTemplate:null,cmi5Aus:null,isOffline:null,privacyPolicyUrl:null,intermediatePageLoadAtStart:null,mediaContentStylesheet:null,pdfContentStylesheet:null,audioVideoContentStylesheet:null,mediaContentCompletionThreshold:null,webContentForceNewWindow:null,pdfPageViewThreshold:null,dispatchStatusAuthoritativeSource:null,ltiLaunchTemplate:null,oidcLoginParams:null,compressRecordResultsPayload:null,rollupOnTerminate:null,useDeltaRecordResultsPayload:null,exitPlayerOnSingleScoClose:null,pdfContentScaling:null,audioVideoPlayer:null,seekForward:null,seekBackward:null,playbackRates:[],pdfDownloadButton:null,originTrialTokens:null,charsToReplace:null,intervalPerGroupOfStatements:null,posterImage:null},void 0!==t)for(e in t)t.hasOwnProperty(e)&&this.set(e,t[e])}).prototype={_cfg:null,get:function(t){if(void 0===this._cfg[t])throw new Error("Unset RscpCfg property: "+t);return this._cfg[t]},set:function(t,e){void 0!==this._cfg[t]?(void 0!==i[t]?this._cfg[t]=i[t].call(this,e):this._cfg[t]=e,this._syncForBackwardsCompatibility(t)):console.warn("Unrecognized RscpCfg property: "+t)},_syncForBackwardsCompatibility:function(t){void 0!==e[t]&&(window[e[t]]=this._cfg[t])},toJSON:function(){return JSON.stringify(this._cfg,function(t,e){if("registrationToDeliver"!==t)return e},2)}}}(),function(){var a,u,d=!1,h={aicc:"AICC_API",scorm11:"API",scorm12:"API",scorm20042ndedition:"API_1484_11",scorm20043rdedition:"API_1484_11",scorm20044thedition:"API_1484_11",cmi5:"CMI5_API"},p=function(t){throw alert("Fatal error occurred: "+t),new Error(t)},s=function(t,e,i){for(var n,r,o,s,a={},u=/([^&=]+)=?([^&]*)/g;null!==(n=u.exec(t));)"playerConfUrl"!==n[1]&&(a[n[1]]=n[2]);for(s in a.player=e,r=c(i,a)+"?",o=0,a)a.hasOwnProperty(s)&&(0!==o&&(r+="&"),o+=1,r+=s+"="+a[s]);return r},l=function(t){"boolean"!=typeof t.isOffline&&p("Boolean 'isOffline' in playerConfigurationUrl.json must be provided"),t.isOffline||"string"==typeof t.playerConfigurationUrl&&""!==t.playerConfigurationUrl||p("String 'playerConfigurationUrl' in playerConfigurationUrl.json must be provided")},c=function(t,o){return t.replace(/\${TenantName}/i,function(){var t,e="configuration",i=o.jwt,n=o[e],r=null;if(null!=i&&(n=JSON.parse(Base64.decode(i.split(".")[1]))[e]),null!=n){if(r=null!==(t=n.match(/EngineTenantName\|([^!]+)/))?t[1]:""===n||0<n.indexOf("|")?"default":n,/^[a-zA-Z0-9-_]+$/.test(r))return r;p("Tenant name is not valid to use in player configuration URL: "+r)}p("Could not determine tenant to use in player configuration URL")})},f=function(e,i,t){var n,r=window.location.protocol+"//"+window.location.host,o=window.location.pathname.split("/");if("j"!==e&&"n"!==e)return g("playerConfigurationUrl.json?cache="+t,!1).then(function(t){return t=JSON.parse(t),l(t),u=t.isOffline?s(window.location.search.substring(1),i,e):s(window.location.search.substring(1),i,t.playerConfigurationUrl),g(u,!1)});for(n=0;n<o.length-3;n+=1)r+=o[n]+"/";return o.length<=3&&(r+="/"),r+="PlayerConfiguration",r+="j"===e?".jsp":".aspx",u=s(window.location.search.substring(1),i,r),g(u,!1)},g=function(t,e){var i,n,r;return d?(n=$.Deferred(),(i=document.createElement("script")).async=!0,i.src=t,i.onload=function(){i.readyState&&!/loaded|complete/.test(i.readyState)||(i.parentNode.removeChild(i),i=null,n.resolve())},document.getElementsByTagName("head")[0].appendChild(i),n):((r={url:t,cache:!0,xhrFields:{withCredentials:!0}}).dataType=void 0===e||e?"script":"text",$.ajax(r))};ReadyThePlayer=function(n,l){function t(t,e){var i,n=t.location.search.toString(),r=n.indexOf(e+"=");return-1===r?null:(-1<(i=n.substring(r+e.length+1,n.length)).indexOf("&")&&(i=i.substring(0,i.indexOf("&"))),decodeURIComponent(i.replace(/\+/g," ")))}var e,i,r=t(window,"nonce"),o=t(window,"playerConfUrl"),s="deliverNonce",c="deliverRefreshUrl";if(null!==r&&""!==r){if(Cookies.get(s)===r&&void 0!==(e=Cookies.get(c)))return void(document.location.href=e);Cookies.set(s,r,{expires:365})}null!==(i=t(window,"loadCodeMethod"))&&"tag"===i&&(d=!0),null===o&&p("Query parameter 'playerConfUrl' must be provided"),f(o,n,l).then(function(t){var e,i,n,r,o,s,a,u="js/resources/AppStrings";if(d||$.globalEval(t),e=(rscpCfg=new RscpCfg(RSCP_CFG)).get("topParams"),i=rscpCfg.get("registrationToDeliver"),n=rscpCfg.get("clientCustomizationStylesheet"),r=rscpCfg.get("contentAuthCookies"),-1!==rscpCfg.get("learningStandard").indexOf("scorm2004")&&!rscpCfg.get("is2004Enabled"))return $.Deferred().reject(new Error("This course requires SCORM 2004 which is not supported in this version of the SCORM Content Player. You will need to upgrade your player to run this content."));if(""===e.cc&&(e.cc="en-US"),"en-US"!==e.cc&&(u+="."+e.cc.toLowerCase()),u+=".js?cache="+l,$("html").prop("lang",e.cc),null!==rscpCfg.get("langDirection")&&$("html").prop("dir",rscpCfg.get("langDirection")),null!==rscpCfg.get("redirectOnRefreshUrl")&&""!==rscpCfg.get("redirectOnRefreshUrl")&&Cookies.set(c,rscpCfg.get("redirectOnRefreshUrl"),{expires:365}),null!==r&&0<r.length)for(o=0;o<r.length;o+=1)s=r[o],"http:"===document.location.protocol&&(s.secure=!1,"None"===s.sameSite&&(s.sameSite="Unspecified")),a={secure:s.secure,path:s.path},"Unspecified"!==s.sameSite&&(a.sameSite=s.sameSite),Cookies.set(s.name,s.value,a);for(HistoryLog=null!==rscpCfg.get("isOffline")&&rscpCfg.get("isOffline")?new HistoryLogger(!0,!0,"mobile-launch"):new HistoryLogger(i.TrackingEnabled&&i.Package.Properties.CaptureHistory,i.TrackingEnabled&&i.Package.Properties.CaptureHistoryDetailed,rscpCfg.get("version")),null!==rscpCfg.get("resizeToWidth")&&null!==rscpCfg.get("resizeToHeight")&&window.resizeTo(rscpCfg.get("resizeToWidth"),rscpCfg.get("resizeToHeight")),null!==rscpCfg.get("moveToLeft")&&null!==rscpCfg.get("moveToTop")&&window.moveTo(rscpCfg.get("moveToLeft"),rscpCfg.get("moveToTop")),o=0;o<rscpCfg.get("originTrialTokens").length;o+=1)$("head").append('<meta http-equiv="origin-trial" content="'+rscpCfg.get("originTrialTokens")[o]+'">');return null!==n&&""!==n&&$("<link>",{rel:"stylesheet",href:n}).appendTo("head"),g(u).then(null,function(t,e,i){throw new Error("Failed to load resource file: '"+u+"', reason: "+i+", status: "+t.status)})},function(t,e,i){if((400===t.status||403===t.status)&&t.responseText&&-1!==t.responseText.indexOf("Token has expired"))throw new Error("Your launch token has expired. Please relaunch this course.");throw new Error("Failed to load player configuration url: '"+u+"', reason: "+i+", status: "+t.status)}).then(function(){return void 0!==IntegrationImplementation.PostResourceStringsLoaded&&IntegrationImplementation.PostResourceStringsLoaded(),g("js/"+rscpCfg.get("learningStandard")+"-min.js?cache="+l).then(null,function(){throw new Error("Failed to load learning standard file:"+rscpCfg.get("learningStandard"))})}).then(function(){var t=rscpCfg.get("sspEnabled");if(null!==t&&t)return g("js/ssp-min.js?cache="+l).then(null,function(){throw new Error("Failed to load SSP file")})}).then(function(){0<window.location.toString().toLowerCase().indexOf("preventrightclick=true")&&(window.document.oncontextmenu=function(){return!1}),DebugCommandSentry=new CommandSentry,rscpCfg.get("clientDebuggerEnabled")&&(DebugCommandSentry.addCommand(function(){Debug.ShowAllAvailableData()},[63,63,63,63,63],["l","d","r","d","l"]),DebugCommandSentry.addCommand(function(){Debug.ShowDebugLogAtExit=!0},[63,63,63,63,68],["d","r","d","t"])),(a=new RunTimeApi(rscpCfg.get("learnerId"),rscpCfg.get("learnerName"))).playerName="scormengine",a.playerVersion=rscpCfg.get("version"),window[h[rscpCfg.get("learningStandard")]]=a,void 0!==IntegrationImplementation.PostRunTimeCreation&&IntegrationImplementation.PostRunTimeCreation(),null!==rscpCfg.get("headerAdditions")&&$.globalEval(rscpCfg.get("headerAdditions"))}).then(function(){if("undefined"!=typeof DISPATCH_SERVER_CFG)return g("js/dispatch-server-min.js?cache="+l).then(null,function(t,e,i){throw new Error("Failed to load dispatch server code, reason: "+i+", status: "+t.status)})}).then(function(){var t=rscpCfg.get("isOffline");if(null!==t&&t)return g("js/offline-min.js?cache="+l).then(null,function(){throw new Error("Failed to load offline file")})}).then(function(){var e,n,r=rscpCfg.get("clientCustomizationScript");if(null!==r&&""!==r)return n=$.Deferred(),rscpCustomizationCompleted=function(t){window.clearTimeout(e),null==t?n.resolve():n.reject(new Error("Failed client customization script with error: "+t))},e=window.setTimeout(function(){"undefined"!=typeof console&&void 0!==console.warn&&console.warn("Player customization script detected but `rscpCustomizationCompleted()` not called")},5e3),g(r).then(function(){},function(t,e,i){n.reject(new Error("Failed to load client customization script:"+r+", reason: "+i+", status: "+t.status))}),n}).then(function(){var e=$.Deferred(),i=function(){try{return Control=new Controller,window.onbeforeunload=function(){return Control.BeforeUnload()},window.onunload=function(){Control.Unload()},window.onpagehide=function(){Control.Unload()},e.resolve(),e.promise()}catch(t){return setTimeout(i,1e3),e.promise()}};$.when(i()).done(function(){Control.Initialize(a)})}).then(null,function(t){var e,i=["<h3>Error occurred!</h3>","<h4>Failed to load player dependencies</h4>","<p>"+$("<p>").text(t).html()+"</p>"];"modern"===n?e=$("body"):"legacy"===n&&(e=$("html")),"undefined"!=typeof RSCP_CFG&&void 0!==RSCP_CFG.redirectOnExitUrl&&i.push('<a href="'+RSCP_CFG.redirectOnExitUrl+'">Return to LMS</a>'),e.html(i.join("\n"))})}}(),function(s){"use strict";function n(t){s(t).on("click.bs.dropdown",this.toggle)}var a='[data-toggle="dropdown"]';function u(t){var e=t.attr("data-target"),i="#"!==(e=e||(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""))?s(document).find(e):null;return i&&i.length?i:t.parent()}function o(n){n&&3===n.which||(s(".dropdown-backdrop").remove(),s(a).each(function(){var t=s(this),e=u(t),i={relatedTarget:this};e.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&s.contains(e[0],n.target)||(e.trigger(n=s.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",i)))))}))}n.VERSION="3.4.1",n.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var i=u(e),n=i.hasClass("open");if(o(),!n){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",o);var r={relatedTarget:this};if(i.trigger(t=s.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(s.Event("shown.bs.dropdown",r))}return!1}},n.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=u(e),n=i.hasClass("open");if(!n&&27!=t.which||n&&27==t.which)return 27==t.which&&i.find(a).trigger("focus"),e.trigger("click");var r,o=i.find(".dropdown-menu li:not(.disabled):visible a");o.length&&(r=o.index(t.target),38==t.which&&0<r&&r--,40==t.which&&r<o.length-1&&r++,~r||(r=0),o.eq(r).trigger("focus"))}}};var t=s.fn.dropdown;s.fn.dropdown=function(i){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new n(this)),"string"==typeof i&&e[i].call(t)})},s.fn.dropdown.Constructor=n,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=t,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,n.prototype.toggle).on("keydown.bs.dropdown.data-api",a,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),Integration.prototype={PostResourceStringsLoaded:Integration_PostResourceStringsLoaded,PostRunTimeCreation:Integration_PostRunTimeCreation,GetMenuItemElementTag:Integration_GetMenuItemElementTag,PopulateMenuItemElement:Integration_PopulateMenuItemElement,UpdateIndentLevel:Integration_UpdateIndentLevel,GetDocumentObjectForMenu:Integration_GetDocumentObjectForMenu,GetDocumentObjectForControls:Integration_GetDocumentObjectForControls,GetHtmlElementToInsertMenuWithin:Integration_GetHtmlElementToInsertMenuWithin,UpdateMenuStateDisplay:Integration_UpdateMenuStateDisplay,SetMenuToggleVisibility:Integration_SetMenuToggleVisibility,ShowMenu:Integration_ShowMenu,HideMenu:Integration_HideMenu,ShowExitDialog:Integration_ShowExitDialog,HideExitDialog:Integration_HideExitDialog,UpdateControlState:Integration_UpdateControlState,UpdateProgressBar:Integration_UpdateProgressBar,GetString:Integration_GetString,PreOverallSequencingProcess:Integration_PreOverallSequencingProcess,PostScoLoaded:Integration_PostScoLoaded,PostScoUnloaded:Integration_PostScoUnloaded,OverrideMenuLookAndFeel:Integration_OverrideMenuLookAndFeel,UpdateLocalizedStrings:function(){$("#rscp-logo").attr("title",this.GetString("Logo")),$("#CourseMenuTitle").html(this.GetString("Course Menu")),$("#previous-text").html(this.GetString("Previous")),$("#next-text").html(this.GetString("Next")),$("#close-text").html(this.GetString("Close Item")),$("#exit-text").html(this.GetString("Return to LMS")),$("#exit_dialog_suspend").html(this.GetString("Suspend All")),$("#exit_dialog_exit").html(this.GetString("Exit All")),$("#viewDebug-text").html(this.GetString("View Debug")),$("#returnToLmsNoDebug-text").html(this.GetString("Exit Without Saving Debug")),$("#previous").attr("title",this.GetString("Previous")),$("#next").attr("title",this.GetString("Next")),$("#closeSco").attr("title",this.GetString("Close Item")),$("#returnToLms").attr("title",this.GetString("Return to LMS")),$("#viewDebug").attr("title",this.GetString("View Debug")),$("#returnToLmsNoDebug").attr("title",this.GetString("Exit Without Saving Debug")),$("#MenuPlaceHolderDiv").attr("aria-label",this.GetString("Course Menu")),$("#title").attr("aria-label",this.GetString("Course Title:")+document.title),$("#menu-container").attr("aria-label",this.GetString("Player Controls")),$("#previous").attr("aria-label",this.GetString("Load Previous Content Item")),$("#next").attr("aria-label",this.GetString("Load Next Content Item")),$("#closeSco").attr("aria-label",this.GetString("Close Current Content Item")),$("#ContentDiv").attr("aria-label",this.GetString("Learning Content")),$("#rscp-privacyPolicy-link").html(this.GetString("Privacy Policy")),$("#ContentDiv").find("iframe").attr("title",this.GetString("Please make a selection."))}},function(){var t,n=null,r=null,o=null,s=null,a=0;$(window).on("resize",function(){clearTimeout(t),t=setTimeout(calcContentFrameSize,100)}),calcContentFrameSize=function(){var t,e=$(document).width(),i=$(window).height()||window.innerHeight;null===n&&(n=$("#rscp-header"),r=$("#rscp-privacyPolicy"),o=$("#rscp-sidebar"),s=$("#ContentDiv").find("iframe")),0!==n.length&&"none"!==n.css("display")&&(i-=n.outerHeight()),0!==r.length&&"none"!==r.css("display")&&(i-=r.outerHeight()),991<e&&"none"!==o.css("display")&&i<(t=o.height()+10)&&(i=t),i<=300&&(i=320,a<10&&(a+=1,window.setTimeout(calcContentFrameSize,100))),0<window.innerHeight&&i>window.innerHeight&&(i=window.innerHeight),s.css("height",i)}}(),0<window.location.toString().toLowerCase().indexOf("preventrightclick=true")&&(window.document.oncontextmenu=function(){return!1}),window.IntegrationImplementation=new Integration,function(){for(var t=!1,e=navigator.userAgent,i=["android","ipod","iphone","ipad","iemobile","silk"],n=0;n<i.length;n+=1)if(-1!==e.indexOf(i[n])){t=!0;break}function l(t){try{return t.contentWindow.document.getElementsByTagName("body")[0]}catch(t){return null}}t&&($("#ContentDiv iframe").wrap('<div id="ModernPlayerScalingWrapper" style="height: 100%; overflow: visible; margin: 0; padding: 0;"></div>'),$("#ContentDiv iframe").on("load",function(){var i=$(this),o=$("#ModernPlayerScalingWrapper"),s=$("#ContentDiv"),t=$(this.contentWindow.document),a=t.find("frame"),u=t.find("body");function e(){var t,e=s.width(),n=e||0,r=0;i.hasClass("rs-mp-scaled")&&(o.css({height:"100%",overflow:"visible"}),i.css({"-ms-transform":"","-moz-transform":"","-o-transform":"","-webkit-transform":"",transform:"",width:"100%",height:"100%"}).removeClass("rs-mp-scaled")),u.length?(n=Math.max(n,u[0].scrollWidth||0),r=u[0].scrollHeight||0):a.filter(".rs-mp-canscale").each(function(){var t=l(this),e=t.scrollWidth||0,i=t.scrollHeight||0;n=Math.max(n,e),r+=i}),r=Math.max(r,s.height()||0),(t=e/n)<1&&(o.css({height:r*t+40+"px",overflow:"hidden"}),i.css({width:n+"px",height:r+"px","-ms-transform":"scale("+t+")","-ms-transform-origin":"0 0","-moz-transform":"scale("+t+")","-moz-transform-origin":"0 0","-o-transform":"scale("+t+")","-o-transform-origin":"0 0","-webkit-transform":"scale("+t+")","-webkit-transform-origin":"0 0",transform:"scale("+t+")","transform-origin":"0 0"}).addClass("rs-mp-scaled"))}a.on("load.modernPlayer",function(){$(this).toggleClass("rs-mp-canscale",null!==l(this)),e()}),$(window).on("resize.modernPlayer",function(){e()}),e()}))}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(t):"function"==typeof define&&define.amd?define(e):e(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(e){"use strict";var i,n=e.Base64;if("undefined"!=typeof module&&module.exports)try{i=require("buffer").Buffer}catch(t){}function r(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?f(192|e>>>6)+f(128|63&e):f(224|e>>>12&15)+f(128|e>>>6&63)+f(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return f(240|e>>>18&7)+f(128|e>>>12&63)+f(128|e>>>6&63)+f(128|63&e)}function o(t){return t.replace(g,r)}function s(t){var e=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(1<t.length?t.charCodeAt(1):0)<<8|(2<t.length?t.charCodeAt(2):0);return[h.charAt(i>>>18),h.charAt(i>>>12&63),2<=e?"=":h.charAt(i>>>6&63),1<=e?"=":h.charAt(63&i)].join("")}function a(t,e){return e?S(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):S(String(t))}function u(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return f(55296+(e>>>10))+f(56320+(1023&e));case 3:return f((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return f((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}}function l(t){return t.replace(v,u)}function c(t){var e=t.length,i=e%4,n=(0<e?p[t.charAt(0)]<<18:0)|(1<e?p[t.charAt(1)]<<12:0)|(2<e?p[t.charAt(2)]<<6:0)|(3<e?p[t.charAt(3)]:0),r=[f(n>>>16),f(n>>>8&255),f(255&n)];return r.length-=[0,0,2,1][i],r.join("")}function t(t){return y(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}var d,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=function(t){for(var e={},i=0,n=t.length;i<n;i++)e[t.charAt(i)]=i;return e}(h),f=String.fromCharCode,g=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,m=e.btoa?function(t){return e.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,s)},S=i?i.from&&i.from!==Uint8Array.from?function(t){return(t.constructor===i.constructor?t:i.from(t)).toString("base64")}:function(t){return(t.constructor===i.constructor?t:new i(t)).toString("base64")}:function(t){return m(o(t))},v=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),A=e.atob?function(t){return e.atob(t)}:function(t){return t.replace(/[\s\S]{1,4}/g,c)},y=i?i.from&&i.from!==Uint8Array.from?function(t){return(t.constructor===i.constructor?t:i.from(t,"base64")).toString()}:function(t){return(t.constructor===i.constructor?t:new i(t,"base64")).toString()}:function(t){return l(A(t))};return e.Base64={VERSION:"2.4.3",atob:A,btoa:m,fromBase64:t,toBase64:a,utob:o,encode:a,encodeURI:function(t){return a(t,!0)},btou:l,decode:t,noConflict:function(){var t=e.Base64;return e.Base64=n,t}},"function"==typeof Object.defineProperty&&(d=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",d(function(){return t(this)})),Object.defineProperty(String.prototype,"toBase64",d(function(t){return a(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",d(function(){return a(this,!0)}))}),e.Meteor&&(Base64=e.Base64),"undefined"!=typeof module&&module.exports?module.exports.Base64=e.Base64:"function"==typeof define&&define.amd&&define([],function(){return e.Base64}),{Base64:e.Base64}});var LZString=function(){var S=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(t,e){if(!r[t]){r[t]={};for(var i=0;i<t.length;i++)r[t][t.charAt(i)]=i}return r[t][e]}var s={compressToBase64:function(t){if(null==t)return"";var e=s._compress(t,6,function(t){return i.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,function(t){return o(i,e.charAt(t))})},compressToUTF16:function(t){return null==t?"":s._compress(t,15,function(t){return S(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:s._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(t){for(var e=s.compress(t),i=new Uint8Array(2*e.length),n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);i[2*n]=o>>>8,i[2*n+1]=o%256}return i},decompressFromUint8Array:function(t){if(null==t)return s.decompress(t);for(var e=new Array(t.length/2),i=0,n=e.length;i<n;i++)e[i]=256*t[2*i]+t[2*i+1];var r=[];return e.forEach(function(t){r.push(S(t))}),s.decompress(r.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":s._compress(t,6,function(t){return n.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,function(t){return o(n,e.charAt(t))}))},compress:function(t){return s._compress(t,16,function(t){return S(t)})},_compress:function(t,e,i){if(null==t)return"";for(var n,r,o,s,a={},u={},l="",c=2,d=3,h=2,p=[],f=0,g=0,m=0;m<t.length;m+=1)if(o=t.charAt(m),Object.prototype.hasOwnProperty.call(a,o)||(a[o]=d++,u[o]=!0),s=l+o,Object.prototype.hasOwnProperty.call(a,s))l=s;else{if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(n=0;n<h;n++)f<<=1,g==e-1?(g=0,p.push(i(f)),f=0):g++;for(r=l.charCodeAt(0),n=0;n<8;n++)f=f<<1|1&r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r>>=1}else{for(r=1,n=0;n<h;n++)f=f<<1|r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r=0;for(r=l.charCodeAt(0),n=0;n<16;n++)f=f<<1|1&r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r>>=1}0==--c&&(c=Math.pow(2,h),h++),delete u[l]}else for(r=a[l],n=0;n<h;n++)f=f<<1|1&r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r>>=1;0==--c&&(c=Math.pow(2,h),h++),a[s]=d++,l=String(o)}if(""!==l){if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(n=0;n<h;n++)f<<=1,g==e-1?(g=0,p.push(i(f)),f=0):g++;for(r=l.charCodeAt(0),n=0;n<8;n++)f=f<<1|1&r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r>>=1}else{for(r=1,n=0;n<h;n++)f=f<<1|r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r=0;for(r=l.charCodeAt(0),n=0;n<16;n++)f=f<<1|1&r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r>>=1}0==--c&&(c=Math.pow(2,h),h++),delete u[l]}else for(r=a[l],n=0;n<h;n++)f=f<<1|1&r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r>>=1;0==--c&&(c=Math.pow(2,h),h++)}for(r=2,n=0;n<h;n++)f=f<<1|1&r,g==e-1?(g=0,p.push(i(f)),f=0):g++,r>>=1;for(;;){if(f<<=1,g==e-1){p.push(i(f));break}g++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:s._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,e,i){for(var n,r,o,s,a,u,l=[],c=4,d=4,h=3,p="",f=[],g={val:i(0),position:e,index:1},m=0;m<3;m+=1)l[m]=m;for(r=0,s=Math.pow(2,2),a=1;a!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=e,g.val=i(g.index++)),r|=(0<o?1:0)*a,a<<=1;switch(r){case 0:for(r=0,s=Math.pow(2,8),a=1;a!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=e,g.val=i(g.index++)),r|=(0<o?1:0)*a,a<<=1;u=S(r);break;case 1:for(r=0,s=Math.pow(2,16),a=1;a!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=e,g.val=i(g.index++)),r|=(0<o?1:0)*a,a<<=1;u=S(r);break;case 2:return""}for(n=l[3]=u,f.push(u);;){if(g.index>t)return"";for(r=0,s=Math.pow(2,h),a=1;a!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=e,g.val=i(g.index++)),r|=(0<o?1:0)*a,a<<=1;switch(u=r){case 0:for(r=0,s=Math.pow(2,8),a=1;a!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=e,g.val=i(g.index++)),r|=(0<o?1:0)*a,a<<=1;l[d++]=S(r),u=d-1,c--;break;case 1:for(r=0,s=Math.pow(2,16),a=1;a!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=e,g.val=i(g.index++)),r|=(0<o?1:0)*a,a<<=1;l[d++]=S(r),u=d-1,c--;break;case 2:return f.join("")}if(0==c&&(c=Math.pow(2,h),h++),l[u])p=l[u];else{if(u!==d)return null;p=n+n.charAt(0)}f.push(p),l[d++]=n+p.charAt(0),n=p,0==--c&&(c=Math.pow(2,h),h++)}}};return s}(),disabledLogEntry;function Log(t,e,i){this.entries=[],this.rootName=void 0!==i?i:"scp-log",this.includeTimestamps=e,this.version=t,this.browser=navigator.userAgent}function LogEntry(t,e,i){this.timeStamp=new Date,this.attributes={},this.children=[],this.returnValue=null,this.text=null,this.recordType=t,this.functionName=e,this.functionArgs=i}function Debugger(t,e,i,n,r,o,s,a,u,l,c){this.auditCount=0,this.RecordControlAudit=t,this.RecordControlDetailed=e,this.RecordControlDetailed&&(this.RecordControlAudit=!0),this.RecordRteAudit=i,this.RecordRteDetailed=n,this.RecordRteDetailed&&(this.RecordRteAudit=!0),this.RecordSequencingAudit=r,this.RecordSequencingDetailed=o,this.RecordSequencingDetailed&&(this.RecordSequencingAudit=!0),this.RecordLookAheadAudit=a,this.RecordLookAheadDetailed=u,this.RecordLookAheadDetailed&&(this.RecordLookAheadAudit=!0),this.RecordSequencingSimple=s,this.Write=Debugger_Write,this.AssertError=Debugger_AssertError,this.DataIsAvailable=Debugger_DataIsAvailable,this.ShowAllAvailableData=Debugger_ShowAllAvailableData,this.WriteControlAudit=Debugger_WriteControlAudit,this.WriteControlDetailed=Debugger_WriteControlDetailed,this.WriteRteAudit=Debugger_WriteRteAudit,this.WriteRteAuditReturnValue=Debugger_WriteRteAuditReturnValue,this.WriteRteDetailed=Debugger_WriteRteDetailed,this.WriteSequencingAudit=Debugger_WriteSequencingAudit,this.WriteSequencingAuditReturnValue=Debugger_WriteSequencingAuditReturnValue,this.WriteSequencingDetailed=Debugger_WriteSequencingDetailed,this.WriteSequencingSimpleAudit=Debugger_WriteSequencingSimpleAudit,this.WriteSequencingSimpleReturnValue=Debugger_WriteSequencingSimpleReturnValue,this.WriteSequencingSimpleDetailed=Debugger_WriteSequencingSimpleDetailed,this.WriteLookAheadAudit=Debugger_WriteLookAheadAudit,this.WriteLookAheadAuditReturnValue=Debugger_WriteLookAheadAuditReturnValue,this.WriteLookAheadDetailed=Debugger_WriteLookAheadDetailed,this.GetErrors=Debugger_GetErrors,this.GetSerializedLogEntry=Debugger_GetSerializedLogEntry,this.GetSerializedLog=Debugger_GetSerializedLog,this.log=new Log(l,c),this.currentControlEntry=null,this.currentRunTimeEntry=null,this.currentSequencingEntry=null,this.currentLookAheadEntry=null,this.currentSequencingSimpleEntry=null,this.ErrorDataExists=!1,this.ShowDebugLogAtExit=!1,this.version=l,this.includeTimestamps=c}function Debugger_Write(){this.AssertError("Debug.Write function is deprecated. Remove all calls.")}function Debugger_AssertError(t,e){var i;null!=e&&!0!==e||(i="Code Asserted Error-"+t,Debug.WriteControlAudit(i),"undefined"!=typeof console&&console.log(i))}function Debugger_DataIsAvailable(){return this.RecordControlAudit||this.RecordControlDetailed||this.RecordRteAudit||this.RecordRteDetailed||this.RecordSequencingAudit||this.RecordSequencingDetailed||this.RecordLookAheadAudit||this.RecordLookAheadDetailed||this.ErrorDataExists}function Debugger_ShowAllAvailableData(){this.display()}function Debugger_WriteControlAudit(t,e,i){return i&&(this.ErrorDataExists=!0),this.RecordControlAudit||i?(this.currentControlEntry=null==e?this.log.startNew("c",t):e.startNew("c",t),this.currentControlEntry.setAttribute("id",this.auditCount+=1),this.currentControlEntry):disabledLogEntry}function Debugger_WriteControlDetailed(t,e,i){null!==this.currentControlEntry&&(i?this.WriteControlAudit("Control ERROR",null,!0).write(t):this.RecordControlDetailed&&(null!=e?e.write(t):this.currentControlEntry.write(t)))}function Debugger_WriteRteAudit(t,e){return this.RecordRteAudit?(this.currentRunTimeEntry=null==e?this.log.startNew("rt",t):e.startNew("rt",t),this.currentRunTimeEntry.setAttribute("id",this.auditCount+=1),this.currentRunTimeEntry):disabledLogEntry}function Debugger_WriteRteAuditReturnValue(t,e){null!==this.currentRunTimeEntry&&(this.RecordRteAudit&&this.currentRunTimeEntry.setReturn(t),null!=e&&(this.currentRunTimeEntry=e))}function Debugger_WriteRteDetailed(t,e){null!==this.currentRunTimeEntry&&this.RecordRteDetailed&&(null==e?this.currentRunTimeEntry.write(t):e.write(t))}function Debugger_WriteSequencingAudit(t,e){return this.RecordSequencingAudit?(this.currentSequencingEntry=null==e?this.log.startNew("s",t):e.startNew("s",t),this.currentSequencingEntry.setAttribute("id",this.auditCount+=1),this.currentSequencingEntry):disabledLogEntry}function Debugger_WriteSequencingAuditReturnValue(t,e){null!==this.currentSequencingEntry&&(this.RecordSequencingAudit&&this.currentSequencingEntry.setReturn(t),null!=e?this.currentSequencingEntry=e:this.AssertError("Debugger_WriteSequencingAuditReturnValue() called without parentEntry"))}function Debugger_WriteSequencingDetailed(t,e){null!==this.currentSequencingEntry&&this.RecordSequencingDetailed&&(null==e?this.currentSequencingEntry.write(t):e.write(t))}function Debugger_WriteSequencingSimpleAudit(t,e){return this.RecordSequencingSimple?(this.currentSequencingSimpleEntry=null==e?this.log.startNew("ss",t):e.startNew("ss",t),this.currentSequencingSimpleEntry.setAttribute("id",this.auditCount+=1),this.currentSequencingSimpleEntry):disabledLogEntry}function Debugger_WriteSequencingSimpleReturnValue(t,e){null!==this.currentSequencingSimpleEntry&&(this.RecordSequencingSimple&&this.currentSequencingSimpleEntry.setReturn(t),null!=e?this.currentSequencingSimpleEntry=e:this.AssertError("Debugger_WriteLookAheadAuditReturnValue() called without parentEntry"))}function Debugger_WriteSequencingSimpleDetailed(t,e){null!==this.currentSequencingSimpleEntry&&this.RecordSequencingSimple&&(null==e?this.currentSequencingSimpleEntry.write(t):e.write(t))}function Debugger_WriteLookAheadAudit(t,e){return this.RecordLookAheadAudit?(this.currentLookAheadEntry=null==e?this.log.startNew("l",t):e.startNew("l",t),this.currentLookAheadEntry.setAttribute("id",this.auditCount+=1),this.currentLookAheadEntry):disabledLogEntry}function Debugger_WriteLookAheadAuditReturnValue(t,e){null!==this.currentLookAheadEntry&&(this.RecordLookAheadAudit&&this.currentLookAheadEntry.setReturn(t),null!=e?this.currentLookAheadEntry=e:this.AssertError("Debugger_WriteLookAheadAuditReturnValue() called without parentEntry"))}function Debugger_WriteLookAheadDetailed(t,e){null!==this.currentLookAheadEntry&&this.RecordLookAheadDetailed&&(null==e?this.currentLookAheadEntry.write(t):e.write(t))}function Debugger_GetErrors(){for(var t=this.log.entries,e=[],i=0;i<t.length;i+=1)"c"===t[i].recordType&&"Control ERROR"===t[i].functionName&&e.push(t[i].children[0].text);return e}function Debugger_GetSerializedLogEntry(t){var e,i,n=new XmlElement(t.recordType);if(this.includeTimestamps&&n.AddAttribute("ts",t.formatTimestampForLog()),"i"===t.recordType||"e"===t.recordType)n.AddElement(t.xmlEscapeText());else{for(e in this.includeTimestamps&&n.AddAttribute("ts_utc",t.formatTimestampForLog(!0)),n.AddAttribute("f",t.functionName),t.attributes)t.attributes.hasOwnProperty(e)&&n.AddAttribute(e,t.attributes[e]);null!==t.returnValue&&(n.AddAttribute("r",t.returnValue.value),this.includeTimestamps&&n.AddAttribute("et",t.returnValue.elapsedTime))}for(i=0;i<t.children.length;i+=1)n.AddElement(this.GetSerializedLogEntry(t.children[i]));return n}function Debugger_GetSerializedLog(){var t,e=new XmlElement("scp-log");for(e.AddAttribute("version",this.version),e.AddAttribute("browser",this.log.browser),t=0;t<this.log.entries.length;t+=1)e.AddElement(this.GetSerializedLogEntry(this.log.entries[t]));return'<?xml version="1.0"?>'+e.toString()}function DisabledLogEntry(){}function HistoryLogger(t,e,i){this.auditCount=0,this.RecordHistory=t,this.RecordHistoryDetailed=e,this.RecordHistoryDetailed&&(this.RecordHistory=!0),this.currentEntry=null,this.DataExists=!1,this.version=i,this.includeTimestamps=!0,this.log=new Log(i,!0,"RTL")}function String_ToBoolean(t){var e;return"1"===(t=t.toLowerCase())||"t"===t.charAt(0)?e=!0:"0"===t||"f"===t.charAt(0)?e=!1:Debug.AssertError("Value '"+t+"' can not be converted to a boolean."),e}function AddQueryStringParm(t,e,i){var n,r,o=i.indexOf("=");-1<o?(n=i.substr(0,o),r=i.substr(o+1),t[t.length]=n,e[e.length]=r):(t[t.length]=i,e[e.length]=null)}function MergeQueryStringParameters(){for(var t,e,i,n,r,o,s=[],a=[],u=null,l=null,c=0,d=null,h="",p=!0,f=0;f<arguments.length;f+=1)null!==arguments[f]&&0<arguments[f].length&&(c+=1,null===d&&(d=arguments[f]));if(1===c)return d;for(f=0;f<arguments.length;f+=1)if(-1<(t=arguments[f]+"").indexOf("#")&&(t="#"===t.charAt(0)?(null===l&&(l=t.substring(1)),""):(e=t.split("#"),null===l&&(l=e[1]),e[0])),0<t.indexOf("?")&&(i=t.substring(0,t.indexOf("?")),null===u&&(u=i),t=t.substring(t.indexOf("?")+1,t.length)),t.indexOf("#")<0&&t.indexOf("=")<0&&t.indexOf("?")<0&&(t.indexOf("&")<0||0<t.indexOf("&")&&0<t.indexOf("."))&&(null===u&&(u=t),t=""),"?"===t.charAt(0)&&(t=t.substring(1)),"&"===t.charAt(0)&&(t=t.substring(1)),-1<t.indexOf("&"))for(n=t.split("&"),r=0;r<n.length;r+=1)AddQueryStringParm(s,a,n[r]);else 0<t.length&&AddQueryStringParm(s,a,t);for(null!==u&&(h+=u),f=0;f<s.length;f+=1)p?(h+="?",p=!1):h+="&",h+=s[f],null!==(o=a[f])&&(h+="="+o);return null!==l&&(h+="#"+l),h}function CleanExternalString(t){return t+="",t=(t=new String(t)).toString(),t=unescape(escape(t))}function ZeroPad(t,e){var i,n=t+"",r=n.length;if(e<r)n=n.substr(0,e);else for(i=r;i<e;i+=1)n="0"+n;return n}function RoundToPrecision(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function GetErrorDetailString(t){var e=[];return"undefined"!=typeof navigator?(void 0!==navigator.userAgent&&e.push("User Agent: "+navigator.userAgent),void 0!==navigator.platform&&e.push("Platform: "+navigator.platform)):e.push("No browser information was available (via the global navigator object)"),void 0!==t.name&&e.push("Name: "+t.name),void 0!==t.message&&e.push("Message: "+t.message),void 0!==t.description&&e.push("Description: "+t.description),void 0!==t.number&&e.push("Number: "+t.number),void 0!==t.fileName&&e.push("Filename: "+t.fileName),void 0!==t.lineNumber&&e.push("Linenumber: "+t.lineNumber),void 0!==t.toString&&e.push("toString(): "+t.toString()),e.join(", ")}function DoArraysMatch(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i+=1)if(t[i]!==e[i])return!1;return!0}function CompareObj(t,e,i,n){var r,o,s=Object.prototype.toString.call(e),a=Object.prototype.toString.call(i),u=[],l={};if("[object Undefined]"!==a)if(s===a){if("[object Object]"===s)return r=GenerateDiffObj(e,i),void(1<=Object.keys(r).length&&(t[n]="RTD"===n||"RTL"===n?r:i));if("[object Array]"!==s)e!==i&&(t[n]=i);else if(!DoArraysMatch(e,i))if("RT"===n){for(o=0;o<e.length;o+=1)l[e[o]._attributes.id]=e[o];for(o=0;o<i.length;o+=1)(!l[i[o]._attributes.id]||1<=Object.keys(GenerateDiffObj(e[o],i[o])).length)&&u.push(i[o]);t[n]=u}else if(e.length!==i.length)t[n]=i;else for(t[n]=[],o=0;o<i.length;o+=1)r=GenerateDiffObj(e[o],i[o]),1<=Object.keys(r).length&&t[n].push(i[o])}else t[n]=i}function GenerateDiffObj(t,e){var i,n={};if(!e||"[object Object]"!==Object.prototype.toString.call(e))return t;for(i in t)t.hasOwnProperty(i)&&CompareObj(n,t[i],e[i],i);for(i in e)e.hasOwnProperty(i)&&void 0===t[i]&&t[i]!==e[i]&&(n[i]=e[i]);return n}function PreserveInteractions(t,e){var i,n,r={},o=[];if(e.ART){for(e.ART.ARTI?e.ART.ARTI.length||(e.ART.ARTI=[e.ART.ARTI]):e.ART.ARTI=[],i=e.ART.ARTI,n=0;n<i.length;n+=1)r[i[n]._attributes.I]=i[n];for(n=0;n<t.length;n+=1)r[t[n]._attributes.I]||o.push(t[n]);for(n=0;n<o.length;n+=1)i.push(o[n])}}function RemoveMatchingInteractions(t,e){function i(t){var e,i,n=t;if(n&&n.length)for(i=0;i<n.length;i+=1)n[i].ART&&n[i].ART.ARTI&&(e=n[i]);else e=n;return e&&e.ART&&e.ART.ARTI?(e.ART.ARTI.length||(e.ART.ARTI=[e.ART.ARTI]),e.ART.ARTI):[]}for(var n,r,o=i(t),s=i(e),a=0;a<s.length;a+=1)null!==(n=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i]._attributes.I===e)return i;return null}(o,s[a]._attributes.I))&&(r=GenerateDiffObj(s[a],o[n]),0===Object.keys(r).length&&o.splice(n,1))}function UpdateObjectListProperty(t,e,i){var n,r,o={};if(void 0!==e){for(r=0;r<e.length;r+=1)o[e[r]._attributes[i]]=e[r];for(r=0;r<t.length;r+=1)o[n=t[r]._attributes[i]]&&(t[r].ART&&t[r].ART.ARTI&&PreserveInteractions(t[r].ART.ARTI,o[n]),t[r]=o[n])}}function GetUpdatedLastState(t,e,i){var n,r,o,s,a=0===e.indexOf(i)?LZString.decompressFromBase64(e.substring(i.length)):e;if(null===t)return xml2js(a,{compact:!0});if(o=(n=xml2js(a,{compact:!0})).RTD.A,"[object Object]"===Object.prototype.toString.call(o)&&(o=[o]),void 0===t.RTD.GO&&(t.RTD.GO=[]),void 0===t.RTD.SSP&&(t.RTD.SSP=[]),void 0===t.RTD.SD&&(t.RTD.SD=[]),UpdateObjectListProperty(t.RTD.A,o,"DI"),UpdateObjectListProperty(t.RTD.GO,n.RTD.GO,"ROI"),UpdateObjectListProperty(t.RTD.SSP,n.RTD.SSP,"ID"),UpdateObjectListProperty(t.RTD.SD,n.RTD.SD,"SDVI"),void 0!==n.RTD.RS&&"{}"!==JSON.stringify(GenerateDiffObj(t.RTD.RS,n.RTD.RS))&&Object.assign(t.RTD.RS._attributes,n.RTD.RS._attributes),void 0!==n.RTD.RTL&&(r=GenerateDiffObj(t.RTD.RTL,n.RTD.RTL),"{}"!==JSON.stringify(r)&&(r._attributes&&Object.assign(t.RTD.RTL._attributes,n.RTD.RTL._attributes),r.RT)))for(void 0===t.RTD.RTL.RT&&(t.RTD.RTL.RT=[]),s=0;s<r.RT.length;s+=1)t.RTD.RTL.RT.push(r.RT[s]);return t}function BuildXmlForDirtyData(t,e,i,n){var r=GenerateDiffObj(t,xml2js(e,{compact:!0}));return RemoveMatchingInteractions(r.RTD.A,t.RTD.A),r.RTD._attributes=i,js2xml(r,{compact:!0,ignoreComment:!0,spaces:4,attributeValueFn:n})}"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString),function(t,e){for(var i in e)t[i]=e[i]}(window,function(i){function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r={};return n.m=i,n.c=r,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);l.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(t){t.end()}var s=i(6),a=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};t.exports=n;var u=i(3);u.inherits=i(1);var l=i(16),c=i(10);u.inherits(n,l);for(var d=a(c.prototype),h=0;h<d.length;h++){var p=d[h];n.prototype[p]||(n.prototype[p]=c.prototype[p])}Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),n.prototype._destroy=function(t,e){this.push(null),this.end(),s(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e){var i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,i,e){(function(t){function e(t){return Object.prototype.toString.call(t)}i.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},i.isBoolean=function(t){return"boolean"==typeof t},i.isNull=function(t){return null===t},i.isNullOrUndefined=function(t){return null==t},i.isNumber=function(t){return"number"==typeof t},i.isString=function(t){return"string"==typeof t},i.isSymbol=function(t){return"symbol"==typeof t},i.isUndefined=function(t){return void 0===t},i.isRegExp=function(t){return"[object RegExp]"===e(t)},i.isObject=function(t){return"object"==typeof t&&null!==t},i.isDate=function(t){return"[object Date]"===e(t)},i.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},i.isFunction=function(t){return"function"==typeof t},i.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},i.isBuffer=t.isBuffer}).call(i,e(4).Buffer)},function(t,L,w){"use strict";(function(t){function i(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=d.prototype:(null===t&&(t=new d(e)),t.length=e),t}function d(t,e,i){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(t,e,i);if("number"!=typeof t)return n(this,t,e,i);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return r(this,t)}function n(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),d.TYPED_ARRAY_SUPPORT?(t=e).__proto__=d.prototype:t=o(t,e),t}(t,e,i,n):"string"==typeof e?function(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!d.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|l(e,i),r=(t=a(t,n)).write(e,i);return r!==n&&(t=t.slice(0,r)),t}(t,e,i):function(t,e){if(d.isBuffer(e)){var i=0|s(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):o(t,e);if("Buffer"===e.type&&O(e.data))return o(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function r(t,e){if(u(e),t=a(t,e<0?0:0|s(e)),!d.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function o(t,e){var i=e.length<0?0:0|s(e.length);t=a(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function s(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function l(t,e){if(d.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return b(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return E(t).length;default:if(n)return b(t).length;e=(""+e).toLowerCase(),n=!0}}function e(t,e,i){var n,r,o,s=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||n<i)&&(i=n);for(var r="",o=e;o<i;++o)r+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[o]);return r}(this,e,i);case"utf8":case"utf-8":return m(this,e,i);case"ascii":return function(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}(this,e,i);case"latin1":case"binary":return function(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}(this,e,i);case"base64":return n=this,o=i,0===(r=e)&&o===n.length?I.fromByteArray(n):I.fromByteArray(n.slice(r,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}(this,e,i);default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function c(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function h(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=d.from(e,n)),d.isBuffer(e))return 0===e.length?-1:p(t,e,i,n,r);if("number"==typeof e)return e&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):p(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function p(t,e,i,n,r){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a/=s=2,u/=2,i/=2}if(r)for(var l=-1,c=i;c<a;c++)if(o(t,c)===o(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===u)return l*s}else-1!==l&&(c-=c-l),l=-1;else for(a<i+u&&(i=a-u),c=i;0<=c;c--){for(var d=!0,h=0;h<u;h++)if(o(t,c+h)!==o(e,h)){d=!1;break}if(d)return c}return-1}function f(t,e,i,n){return R(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function g(t,e,i,n){return R(function(t,e){for(var i,n,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)i=t.charCodeAt(s),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(e,t.length-i),t,i,n)}function m(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o,s,a,u,l=t[r],c=null,d=239<l?4:223<l?3:191<l?2:1;if(r+d<=i)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[r+1]))&&127<(u=(31&l)<<6|63&o)&&(c=u);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&2047<(u=(15&l)<<12|(63&o)<<6|63&s)&&(u<55296||57343<u)&&(c=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)&&u<1114112&&(c=u)}null===c?(c=65533,d=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=d}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=P));return i}(n)}function S(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(i<t+e)throw new RangeError("Trying to access beyond buffer length")}function v(t,e,i,n,r,o){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<e||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function A(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function y(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function T(t,e,i,n){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function C(t,e,i,n,r){return r||T(t,0,i,4),D.write(t,e,i,n,23,4),i+4}function _(t,e,i,n,r){return r||T(t,0,i,8),D.write(t,e,i,n,52,8),i+8}function b(t,e){e=e||1/0;for(var i,n=t.length,r=null,o=[],s=0;s<n;++s){if(55295<(i=t.charCodeAt(s))&&i<57344){if(!r){if(56319<i){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}r=i;continue}if(i<56320){-1<(e-=3)&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&-1<(e-=3)&&o.push(239,191,189);if(r=null,i<128){if(--e<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function E(t){return I.toByteArray(function(t){if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(N,"")).length<2)return"";for(var e;t.length%4!=0;)t+="=";return t}(t))}function R(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}var I=w(23),D=w(24),O=w(15);L.Buffer=d,L.SlowBuffer=function(t){return+t!=t&&(t=0),d.alloc(+t)},L.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),L.kMaxLength=i(),d.poolSize=8192,d._augment=function(t){return t.__proto__=d.prototype,t},d.from=function(t,e,i){return n(null,t,e,i)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(t,e,i){return n=null,o=e,s=i,u(r=t),!(r<=0)&&void 0!==o?"string"==typeof s?a(n,r).fill(o,s):a(n,r).fill(o):a(n,r);var n,r,o,s},d.allocUnsafe=function(t){return r(null,t)},d.allocUnsafeSlow=function(t){return r(null,t)},d.isBuffer=function(t){return!(null==t||!t._isBuffer)},d.compare=function(t,e){if(!d.isBuffer(t)||!d.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},d.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(t,e){if(!O(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return d.alloc(0);if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;for(var i=d.allocUnsafe(e),n=0,r=0;r<t.length;++r){var o=t[r];if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},d.byteLength=l,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)c(this,e,e+1);return this},d.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)c(this,e,e+3),c(this,e+1,e+2);return this},d.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)c(this,e,e+7),c(this,e+1,e+6),c(this,e+2,e+5),c(this,e+3,e+4);return this},d.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?m(this,0,t):e.apply(this,arguments)},d.prototype.equals=function(t){if(!d.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===d.compare(this,t)},d.prototype.inspect=function(){var t="",e=L.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},d.prototype.compare=function(t,e,i,n,r){if(!d.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(r<=n&&i<=e)return 0;if(r<=n)return-1;if(i<=e)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(n>>>=0),s=(i>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(n,r),l=t.slice(e,i),c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},d.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},d.prototype.indexOf=function(t,e,i){return h(this,t,e,i,!0)},d.prototype.lastIndexOf=function(t,e,i){return h(this,t,e,i,!1)},d.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||r<i)&&(i=r),0<t.length&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var o,s,a,u,l,c,d=!1;;)switch(n){case"hex":return function(t,e,i,n){i=Number(i)||0;var r=t.length-i;(!n||(n=Number(n))>r)&&(n=r);var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<n&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}(this,t,e,i);case"utf8":case"utf-8":return l=e,c=i,R(b(t,(u=this).length-l),u,l,c);case"ascii":return f(this,t,e,i);case"latin1":case"binary":return f(this,t,e,i);case"base64":return o=this,s=e,a=i,R(E(t),o,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,t,e,i);default:if(d)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;d.prototype.slice=function(t,e){var i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t),d.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=d.prototype;else for(var n=e-t,r=new d(n,void 0),o=0;o<n;++o)r[o]=this[o+t];return r},d.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||S(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},d.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||S(t,e,this.length);for(var n=this[t+--e],r=1;0<e&&(r*=256);)n+=this[t+--e]*r;return n},d.prototype.readUInt8=function(t,e){return e||S(t,1,this.length),this[t]},d.prototype.readUInt16LE=function(t,e){return e||S(t,2,this.length),this[t]|this[t+1]<<8},d.prototype.readUInt16BE=function(t,e){return e||S(t,2,this.length),this[t]<<8|this[t+1]},d.prototype.readUInt32LE=function(t,e){return e||S(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},d.prototype.readUInt32BE=function(t,e){return e||S(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},d.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||S(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return(r*=128)<=n&&(n-=Math.pow(2,8*e)),n},d.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||S(t,e,this.length);for(var n=e,r=1,o=this[t+--n];0<n&&(r*=256);)o+=this[t+--n]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*e)),o},d.prototype.readInt8=function(t,e){return e||S(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},d.prototype.readInt16LE=function(t,e){e||S(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt16BE=function(t,e){e||S(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt32LE=function(t,e){return e||S(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},d.prototype.readInt32BE=function(t,e){return e||S(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},d.prototype.readFloatLE=function(t,e){return e||S(t,4,this.length),D.read(this,t,!0,23,4)},d.prototype.readFloatBE=function(t,e){return e||S(t,4,this.length),D.read(this,t,!1,23,4)},d.prototype.readDoubleLE=function(t,e){return e||S(t,8,this.length),D.read(this,t,!0,52,8)},d.prototype.readDoubleBE=function(t,e){return e||S(t,8,this.length),D.read(this,t,!1,52,8)},d.prototype.writeUIntLE=function(t,e,i,n){t=+t,e|=0,i|=0,n||v(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},d.prototype.writeUIntBE=function(t,e,i,n){t=+t,e|=0,i|=0,n||v(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;0<=--r&&(o*=256);)this[e+r]=t/o&255;return e+i},d.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,1,255,0),d.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},d.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},d.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},d.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):y(this,t,e,!0),e+4},d.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):y(this,t,e,!1),e+4},d.prototype.writeIntLE=function(t,e,i,n){var r;t=+t,e|=0,n||v(this,t,e,i,(r=Math.pow(2,8*i-1))-1,-r);var o=0,s=1,a=0;for(this[e]=255&t;++o<i&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},d.prototype.writeIntBE=function(t,e,i,n){var r;t=+t,e|=0,n||v(this,t,e,i,(r=Math.pow(2,8*i-1))-1,-r);var o=i-1,s=1,a=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},d.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,1,127,-128),d.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},d.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},d.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},d.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):y(this,t,e,!0),e+4},d.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||v(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):y(this,t,e,!1),e+4},d.prototype.writeFloatLE=function(t,e,i){return C(this,t,e,!0,i)},d.prototype.writeFloatBE=function(t,e,i){return C(this,t,e,!1,i)},d.prototype.writeDoubleLE=function(t,e,i){return _(this,t,e,!0,i)},d.prototype.writeDoubleBE=function(t,e,i){return _(this,t,e,!1,i)},d.prototype.copy=function(t,e,i,n){if(i=i||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),e=e||0,0<n&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;0<=r;--r)t[r+e]=this[r+i];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},d.prototype.fill=function(t,e,i,n){if("string"==typeof t){var r;if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length&&(r=t.charCodeAt(0))<256&&(t=r),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!d.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;if(e>>>=0,i=void 0===i?this.length:i>>>0,"number"==typeof(t=t||0))for(a=e;a<i;++a)this[a]=t;else for(var o=d.isBuffer(t)?t:b(new d(t,n).toString()),s=o.length,a=0;a<i-e;++a)this[a+e]=o[a%s];return this};var N=/[^+\/0-9A-Za-z-_]/g}).call(L,w(2))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===i||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(){f&&h&&(f=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!f){var t=r(o);f=!0;for(var e=p.length;e;){for(h=p,p=[];++g<e;)h&&h[g].run();g=-1,e=p.length}h=null,f=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var l,c,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:i}catch(t){l=i}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var h,p=[],f=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new a(t,e)),1!==p.length||f||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,i){"use strict";(function(a){!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?t.exports=function(t,e,i,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,o,s=arguments.length;switch(s){case 0:case 1:return a.nextTick(t);case 2:return a.nextTick(function(){t.call(null,e)});case 3:return a.nextTick(function(){t.call(null,e,i)});case 4:return a.nextTick(function(){t.call(null,e,i,n)});default:for(r=new Array(s-1),o=0;o<r.length;)r[o++]=arguments[o];return a.nextTick(function(){t.apply(null,r)})}}:t.exports=a.nextTick}).call(e,i(5))},function(t,e,i){function n(t,e){for(var i in t)e[i]=t[i]}function r(t,e,i){return s(t,e,i)}var o=i(4),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=o:(n(o,e),e.Buffer=r),n(s,r),r.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,i)},r.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=s(t);return void 0!==e?"string"==typeof i?n.fill(e,i):n.fill(e):n.fill(0),n},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(t){return"function"==typeof t}function l(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}((t.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,i,n,r,o,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(c(i=this._events[t]))return!1;if(u(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),i.apply(this,r)}else if(l(i))for(r=Array.prototype.slice.call(arguments,1),n=(s=i.slice()).length,o=0;o<n;o++)s[o].apply(this,r);return!0},n.prototype.on=n.prototype.addListener=function(t,e){var i;if(!u(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,u(e.listener)?e.listener:e),this._events[t]?l(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,l(this._events[t])&&!this._events[t].warned&&(i=c(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<i&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(t,e){function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}if(!u(e))throw TypeError("listener must be a function");var n=!1;return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var i,n,r,o;if(!u(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=(i=this._events[t]).length,n=-1,i===e||u(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(l(i)){for(o=r;0<o--;)if(i[o]===e||i[o].listener&&i[o].listener===e){n=o;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(u(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?u(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(u(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){(((e=t.exports=i(16)).Stream=e).Readable=e).Writable=i(10),e.Duplex=i(0),e.Transform=i(19),e.PassThrough=i(31)},function(b,t,E){"use strict";(function(t,e,i){function d(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,i){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(i),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function S(){}function n(t,e){c=c||E(0),t=t||{},this.objectMode=!!t.objectMode,e instanceof c&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=(this.destroyed=!1)===t.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,n=i.sync,r=i.writecb;{var o;(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0})(i),e?function(t,e,i,n,r){--e.pendingcb,i?(A(r,n),A(l,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(r(n),t._writableState.errorEmitted=!0,t.emit("error",n),l(t,e))}(t,i,n,e,r):((o=u(i))||i.corked||i.bufferProcessing||!i.bufferedRequest||a(t,i),n?h(s,t,i,o,r):s(t,i,o,r))}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function r(t){if(c=c||E(0),!(g.call(r,this)||this instanceof c))return new r(t);this._writableState=new n(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),y.call(this)}function v(t,e,i,n,r,o){var s,a,u,l;i||(u=n,l=r,(a=e).objectMode||!1===a.decodeStrings||"string"!=typeof u||(u=T.from(u,l)),n!==(s=u)&&(i=!0,r="buffer",n=s));var c=e.objectMode?1:n.length;e.length+=c;var d,h=e.length<e.highWaterMark;return h||(e.needDrain=!0),e.writing||e.corked?(d=e.lastBufferedRequest,e.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):p(t,e,!1,c,n,r,o),h}function p(t,e,i,n,r,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,i?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function s(t,e,i,n){var r,o;i||(r=t,0===(o=e).length&&o.needDrain&&(o.needDrain=!1,r.emit("drain"))),e.pendingcb--,n(),l(t,e)}function a(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var n=e.bufferedRequestCount,r=new Array(n),o=e.corkedRequestsFree;o.entry=i;for(var s=0,a=!0;i;)(r[s]=i).isBuf||(a=!1),i=i.next,s+=1;r.allBuffers=a,p(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new d(e)}else{for(;i;){var u=i.chunk,l=i.encoding,c=i.callback;if(p(t,e,!1,e.objectMode?1:u.length,u,l,c),i=i.next,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=i,e.bufferProcessing=!1}function u(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function o(e,i){e._final(function(t){i.pendingcb--,t&&e.emit("error",t),i.prefinished=!0,e.emit("prefinish"),l(e,i)})}function l(t,e){var i,n,r=u(e);return r&&(i=t,(n=e).prefinished||n.finalCalled||("function"==typeof i._final?(n.pendingcb++,n.finalCalled=!0,A(o,i,n)):(n.prefinished=!0,i.emit("prefinish"))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}var A=E(6);b.exports=r;var c,h=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?e:A;r.WritableState=n;var f=E(3);f.inherits=E(1);var g,m={deprecate:E(30)},y=E(17),T=E(7).Buffer,C=i.Uint8Array||function(){},_=E(18);f.inherits(r,y),n.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(n.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(r,Symbol.hasInstance,{value:function(t){return!!g.call(this,t)||t&&t._writableState instanceof n}})):g=function(t){return t instanceof this},r.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},r.prototype.write=function(t,e,i){var n,r,o,s,a,u,l,c,d,h,p,f=this._writableState,g=!1,m=(n=t,(T.isBuffer(n)||n instanceof C)&&!f.objectMode);return m&&!T.isBuffer(t)&&(p=t,t=T.from(p)),"function"==typeof e&&(i=e,e=null),e=m?"buffer":e||f.defaultEncoding,"function"!=typeof i&&(i=S),f.ended?(c=this,d=i,h=new Error("write after end"),c.emit("error",h),A(d,h)):(m||(r=this,o=f,a=i,l=!(u=!0),null===(s=t)?l=new TypeError("May not write null values to stream"):"string"==typeof s||void 0===s||o.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),l&&(r.emit("error",l),A(a,l),u=!1),u))&&(f.pendingcb++,g=v(this,f,m,t,e,i)),g},r.prototype.cork=function(){this._writableState.corked++},r.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||a(this,t))},r.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},r.prototype._write=function(t,e,i){i(new Error("_write() is not implemented"))},r.prototype._writev=null,r.prototype.end=function(t,e,i){var n,r,o,s=this._writableState;"function"==typeof t?(i=t,e=t=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||(n=this,o=i,(r=s).ending=!0,l(n,r),o&&(r.finished?A(o):n.once("finish",o)),r.ended=!0,n.writable=!1)},Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),r.prototype.destroy=_.destroy,r.prototype._undestroy=_.undestroy,r.prototype._destroy=function(t,e){this.end(),e(t)}}).call(t,E(5),E(28).setImmediate,E(2))},function(t,e,i){"use strict";function n(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(p.isEncoding===f||!f(t)))throw new Error("Unknown encoding: "+t);return e||t}function r(t){var e;switch(this.encoding=n(t),this.encoding){case"utf16le":this.text=a,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=c,e=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function s(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(i);if(1<t.lastNeed&&1<e.length){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(i+1);if(2<t.lastNeed&&2<e.length&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(i+2)}}(this,t,e);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function a(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);var i=t.toString("utf16le",e);if(i){var n=i.charCodeAt(i.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function l(t,e){var i=(t.length-e)%3;return 0==i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1==i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}var p=i(7).Buffer,f=p.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};(e.StringDecoder=r).prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e},r.prototype.text=function(t,e){var i=function(t,e,i){var n=e.length-1;if(n<i)return 0;var r=o(e[n]);return 0<=r?(0<r&&(t.lastNeed=r-1),r):--n<i?0:0<=(r=o(e[n]))?(0<r&&(t.lastNeed=r-2),r):--n<i?0:0<=(r=o(e[n]))?(0<r&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var n=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,i){var n=i(13).isArray;t.exports={copyOptions:function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i},ensureFlagExists:function(t,e){t in e&&"boolean"==typeof e[t]||(e[t]=!1)},ensureSpacesExists:function(t){"spaces"in t&&("number"==typeof t.spaces||"string"==typeof t.spaces)||(t.spaces=0)},ensureAlwaysArrayExists:function(t){"alwaysArray"in t&&("boolean"==typeof t.alwaysArray||n(t.alwaysArray))||(t.alwaysArray=!1)},ensureKeyExists:function(t,e){t+"Key"in e&&"string"==typeof e[t+"Key"]||(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}}},function(t,e){t.exports={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}}},function(t,e,i){function o(t,e){var i,n;if(g.compact){if(!m[g[t+"Key"]]&&(A(g.alwaysArray)?-1!==g.alwaysArray.indexOf(g[t+"Key"]):g.alwaysArray)&&(m[g[t+"Key"]]=[]),m[g[t+"Key"]]&&!A(m[g[t+"Key"]])&&(m[g[t+"Key"]]=[m[g[t+"Key"]]]),t+"Fn"in g&&"string"==typeof e&&(e=g[t+"Fn"](e,m)),"instruction"===t&&("instructionFn"in g||"instructionNameFn"in g))for(i in e){e.hasOwnProperty(i)&&("instructionFn"in g?e[i]=g.instructionFn(e[i],i,m):(n=e[i],delete e[i],e[g.instructionNameFn(i,n,m)]=n))}A(m[g[t+"Key"]])?m[g[t+"Key"]].push(e):m[g[t+"Key"]]=e}else{m[g.elementsKey]||(m[g.elementsKey]=[]);var r={};if("instruction"===(r[g.typeKey]=t)){for(i in e)if(e.hasOwnProperty(i))break;r[g.nameKey]="instructionNameFn"in g?g.instructionNameFn(i,e,m):i,g.instructionHasAttributes?(r[g.attributesKey]=e[i][g.attributesKey],"instructionFn"in g&&(r[g.attributesKey]=g.instructionFn(r[g.attributesKey],i,m))):("instructionFn"in g&&(e[i]=g.instructionFn(e[i],i,m)),r[g.instructionKey]=e[i])}else t+"Fn"in g&&(e=g[t+"Fn"](e,m)),r[g[t+"Key"]]=e;g.addParent&&(r[g.parentKey]=m),m[g.elementsKey].push(r)}}function s(t){var e,i;if("attributesFn"in g&&t&&(t=g.attributesFn(t,m)),(g.trim||"attributeValueFn"in g||"attributeNameFn"in g)&&t)for(e in t){t.hasOwnProperty(e)&&(g.trim&&(t[e]=t[e].trim()),"attributeValueFn"in g&&(t[e]=g.attributeValueFn(t[e],e,m)),"attributeNameFn"in g)&&(i=t[e],delete t[e],t[g.attributeNameFn(e,t[e],m)]=i)}return t}function a(t){var e={};if(t.body&&("xml"===t.name.toLowerCase()||g.instructionHasAttributes)){for(var i,n=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(i=n.exec(t.body));)e[i[1]]=i[2]||i[3]||i[4];e=s(e)}if("xml"===t.name.toLowerCase()){if(g.ignoreDeclaration)return;m[g.declarationKey]={},Object.keys(e).length&&(m[g.declarationKey][g.attributesKey]=e),g.addParent&&(m[g.declarationKey][g.parentKey]=m)}else{if(g.ignoreInstruction)return;g.trim&&(t.body=t.body.trim());var r={};g.instructionHasAttributes&&Object.keys(e).length?(r[t.name]={},r[t.name][g.attributesKey]=e):r[t.name]=t.body,o("instruction",r)}}function u(t,e){if("object"==typeof t&&(e=t.attributes,t=t.name),e=s(e),"elementNameFn"in g&&(t=g.elementNameFn(t,m)),g.compact){var i,n={};if(!g.ignoreAttributes&&e&&Object.keys(e).length)for(i in n[g.attributesKey]={},e)e.hasOwnProperty(i)&&(n[g.attributesKey][i]=e[i]);t in m||(A(g.alwaysArray)?-1===g.alwaysArray.indexOf(t):!g.alwaysArray)||(m[t]=[]),m[t]&&!A(m[t])&&(m[t]=[m[t]]),A(m[t])?m[t].push(n):m[t]=n}else m[g.elementsKey]||(m[g.elementsKey]=[]),(n={})[g.typeKey]="element",n[g.nameKey]=t,!g.ignoreAttributes&&e&&Object.keys(e).length&&(n[g.attributesKey]=e),g.alwaysChildren&&(n[g.elementsKey]=[]),m[g.elementsKey].push(n);n[g.parentKey]=m,m=n}function l(t){g.ignoreText||(t.trim()||g.captureSpacesBetweenElements)&&(g.trim&&(t=t.trim()),g.nativeType&&(t=function(t){var e=Number(t);if(!isNaN(e))return e;var i=t.toLowerCase();return"true"===i||"false"!==i&&t}(t)),g.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",t))}function c(t){g.ignoreComment||(g.trim&&(t=t.trim()),o("comment",t))}function d(t){var e=m[g.parentKey];g.addParent||delete m[g.parentKey],m=e}function h(t){g.ignoreCdata||(g.trim&&(t=t.trim()),o("cdata",t))}function p(t){g.ignoreDoctype||(t=t.replace(/^ /,""),g.trim&&(t=t.trim()),o("doctype",t))}function f(t){t.note=t}var g,m,S=i(22),v=i(12),A=i(13).isArray;t.exports=function(t,e){var i,n,r=S.parser(!0,{}),o={};return m=o,n=e,g=v.copyOptions(n),v.ensureFlagExists("ignoreDeclaration",g),v.ensureFlagExists("ignoreInstruction",g),v.ensureFlagExists("ignoreAttributes",g),v.ensureFlagExists("ignoreText",g),v.ensureFlagExists("ignoreComment",g),v.ensureFlagExists("ignoreCdata",g),v.ensureFlagExists("ignoreDoctype",g),v.ensureFlagExists("compact",g),v.ensureFlagExists("alwaysChildren",g),v.ensureFlagExists("addParent",g),v.ensureFlagExists("trim",g),v.ensureFlagExists("nativeType",g),v.ensureFlagExists("sanitize",g),v.ensureFlagExists("instructionHasAttributes",g),v.ensureFlagExists("captureSpacesBetweenElements",g),v.ensureAlwaysArrayExists(g),v.ensureKeyExists("declaration",g),v.ensureKeyExists("instruction",g),v.ensureKeyExists("attributes",g),v.ensureKeyExists("text",g),v.ensureKeyExists("comment",g),v.ensureKeyExists("cdata",g),v.ensureKeyExists("doctype",g),v.ensureKeyExists("type",g),v.ensureKeyExists("name",g),v.ensureKeyExists("elements",g),v.ensureKeyExists("parent",g),v.checkFnExists("doctype",g),v.checkFnExists("instruction",g),v.checkFnExists("cdata",g),v.checkFnExists("comment",g),v.checkFnExists("text",g),v.checkFnExists("instructionName",g),v.checkFnExists("elementName",g),v.checkFnExists("attributeName",g),v.checkFnExists("attributeValue",g),v.checkFnExists("attributes",g),r.opt={strictEntities:!0},r.onopentag=u,r.ontext=l,r.oncomment=c,r.onclosetag=d,r.onerror=f,r.oncdata=h,r.ondoctype=p,r.onprocessinginstruction=a,r.write(t).close(),o[g.elementsKey]&&(i=o[g.elementsKey],delete o[g.elementsKey],o[g.elementsKey]=i,delete o.text),o}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(w,t,M){"use strict";(function(t,m){function e(t,e){g=g||M(0),t=t||{},this.objectMode=!!t.objectMode,e instanceof g&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(R=R||M(11).StringDecoder,this.decoder=new R(t.encoding),this.encoding=t.encoding)}function i(t){if(g=g||M(0),!(this instanceof i))return new i(t);this._readableState=new e(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),C.call(this)}function r(t,e,i,n,r){var o,s,a,u,l,c,d=t._readableState;return null===e?(d.reading=!1,function(t,e){{var i;e.ended||(!e.decoder||(i=e.decoder.end())&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length),e.ended=!0,p(t))}}(t,d)):(r||(a=d,function(t){return _.isBuffer(t)||t instanceof b}(u=e)||"string"==typeof u||void 0===u||a.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),o=l),o?t.emit("error",o):d.objectMode||e&&0<e.length?("string"==typeof e||d.objectMode||Object.getPrototypeOf(e)===_.prototype||(s=e,e=_.from(s)),n?d.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):h(t,d,e,!0):d.ended?t.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!i?(e=d.decoder.write(e),d.objectMode||0!==e.length?h(t,d,e,!1):f(t,d)):h(t,d,e,!1))):n||(d.reading=!1)),!(c=d).ended&&(c.needReadable||c.length<c.highWaterMark||0===c.length)}function h(t,e,i,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",i),t.read(0)):(e.length+=e.objectMode?1:i.length,n?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&p(t)),f(t,e)}function o(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=(L<=(i=t)?i=L:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),i)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var i}function p(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(D("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?A(n,t):n(t))}function n(t){D("emit readable"),t.emit("readable"),S(t)}function f(t,e){e.readingMore||(e.readingMore=!0,A(s,t,e))}function s(t,e){for(var i=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(D("maybeReadMore read 0"),t.read(0),i!==e.length);)i=e.length;e.readingMore=!1}function a(t){D("readable nexttick read 0"),t.read(0)}function u(t,e){e.reading||(D("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),S(t),e.flowing&&!e.reading&&t.read(0)}function S(t){var e=t._readableState;for(D("flow",e.flowing);e.flowing&&null!==t.read(););}function l(t,e){return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):(n=t,r=e.buffer,o=e.decoder,n<r.head.data.length?(s=r.head.data.slice(0,n),r.head.data=r.head.data.slice(n)):s=n===r.head.data.length?r.shift():(o?function(t,e){var i=e.head,n=1,r=i.data;for(t-=r.length;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(s===o.length?r+=o:r+=o.slice(0,t),0==(t-=s)){s===o.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i).data=o.slice(s);break}++n}return e.length-=n,r}:function(t,e){var i=_.allocUnsafe(t),n=e.head,r=1;for(n.data.copy(i),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(i,i.length-t,0,s),0==(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n).data=o.slice(s);break}++r}return e.length-=r,i})(n,r),i=s),i);var i,n,r,o,s}function c(t){var e=t._readableState;if(0<e.length)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,A(d,e,t))}function d(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function v(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}var A=M(6);w.exports=i;var g,y=M(15);i.ReadableState=e;var T=(M(8).EventEmitter,function(t,e){return t.listeners(e).length}),C=M(17),_=M(7).Buffer,b=t.Uint8Array||function(){},E=M(3);E.inherits=M(1);var R,I=M(26),D=void 0,D=I&&I.debuglog?I.debuglog("stream"):function(){},O=M(27),P=M(18);E.inherits(i,C);var N=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),i.prototype.destroy=P.destroy,i.prototype._undestroy=P.undestroy,i.prototype._destroy=function(t,e){this.push(null),e(t)},i.prototype.push=function(t,e){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=_.from(t,e),e=""),i=!0),r(this,t,e,!1,i)},i.prototype.unshift=function(t){return r(this,t,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(t){return R=R||M(11).StringDecoder,this._readableState.decoder=new R(t),this._readableState.encoding=t,this};var L=8388608;i.prototype.read=function(t){D("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return D("read: emitReadable",e.length,e.ended),(0===e.length&&e.ended?c:p)(this),null;if(0===(t=o(t,e))&&e.ended)return 0===e.length&&c(this),null;var n,r=e.needReadable;return D("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&D("length less than watermark",r=!0),e.ended||e.reading?D("reading or ended",r=!1):r&&(D("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=o(i,e))),null===(n=0<t?l(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&c(this)),null!==n&&this.emit("data",n),n},i.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(i,t){function n(t,e){D("onunpipe"),t===c&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,D("cleanup"),i.removeListener("close",a),i.removeListener("finish",u),i.removeListener("drain",p),i.removeListener("error",s),i.removeListener("unpipe",n),c.removeListener("end",r),c.removeListener("end",l),c.removeListener("data",o),f=!0,!d.awaitDrain||i._writableState&&!i._writableState.needDrain||p())}function r(){D("onend"),i.end()}function o(t){D("ondata"),(g=!1)!==i.write(t)||g||((1===d.pipesCount&&d.pipes===i||1<d.pipesCount&&-1!==v(d.pipes,i))&&!f&&(D("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,g=!0),c.pause())}function s(t){D("onerror",t),l(),i.removeListener("error",s),0===T(i,"error")&&i.emit("error",t)}function a(){i.removeListener("finish",u),l()}function u(){D("onfinish"),i.removeListener("close",a),l()}function l(){D("unpipe"),c.unpipe(i)}var c=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=i;break;case 1:d.pipes=[d.pipes,i];break;default:d.pipes.push(i)}d.pipesCount+=1,D("pipe count=%d opts=%j",d.pipesCount,t);var e=(!t||!1!==t.end)&&i!==m.stdout&&i!==m.stderr?r:l;d.endEmitted?A(e):c.once("end",e),i.on("unpipe",n);var h,p=(h=c,function(){var t=h._readableState;D("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&T(h,"data")&&(t.flowing=!0,S(h))});i.on("drain",p);var f=!1,g=!1;return c.on("data",o),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?y(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(i,"error",s),i.once("close",a),i.once("finish",u),i.emit("pipe",c),d.flowing||(D("pipe resume"),c.resume()),i},i.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i)),this;if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this,i);return this}var s=v(e.pipes,t);return-1===s||(e.pipes.splice(s,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i)),this},i.prototype.addListener=i.prototype.on=function(t,e){var i,n=C.prototype.on.call(this,t,e);return"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((i=this._readableState).endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&p(this):A(a,this))),n},i.prototype.resume=function(){var t,e,i=this._readableState;return i.flowing||(D("resume"),i.flowing=!0,t=this,(e=i).resumeScheduled||(e.resumeScheduled=!0,A(u,t,e))),this},i.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var i=this._readableState,n=!1,r=this;for(var t in e.on("end",function(){var t;D("wrapped end"),i.decoder&&!i.ended&&(t=i.decoder.end())&&t.length&&r.push(t),r.push(null)}),e.on("data",function(t){D("wrapped data"),i.decoder&&(t=i.decoder.write(t)),i.objectMode&&null==t||!(i.objectMode||t&&t.length)||r.push(t)||(n=!0,e.pause())}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var o=0;o<N.length;o++)e.on(N[o],r.emit.bind(r,N[o]));return r._read=function(t){D("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=l}).call(t,M(2),M(5))},function(t,e,i){t.exports=i(8).EventEmitter},function(t,e,i){"use strict";function o(t,e){t.emit("error",e)}var s=i(6);t.exports={destroy:function(t,e){var i=this,n=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;n||r?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||s(o,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(s(o,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):e&&e(t)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,i){"use strict";function n(i){this.afterTransform=function(t,e){return function(t,e,i){var n=t._transformState;n.transforming=!1;var r=n.writecb;if(!r)return t.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!==i&&void 0!==i&&t.push(i),r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(i,t,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(t){if(!(this instanceof r))return new r(t);s.call(this,t),this._transformState=new n(this);var i=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,e){o(i,t,e)}):o(i)})}function o(t,e,i){if(e)return t.emit("error",e);null!=i&&t.push(i);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=r;var s=i(0),a=i(3);a.inherits=i(1),a.inherits(r,s),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,i){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,i){var n,r=this._transformState;r.writecb=i,r.writechunk=t,r.writeencoding=e,r.transforming||(n=this._readableState,(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark))},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var i=this;s.prototype._destroy.call(this,t,function(t){e(t),i.emit("close")})}},function(t,e,i){function u(t,e,i){return(!i&&t.spaces?"\n":"")+Array(e+1).join(t.spaces)}function l(t,e,i){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,A,v));var n,r,o,s,a="";for(n in t)t.hasOwnProperty(n)&&(s=e.noQuotesForNativeAttributes&&"string"!=typeof t[n]?"":'"',r=(r=""+t[n]).replace(/"/g,"&quot;"),o="attributeNameFn"in e?e.attributeNameFn(n,r,A,v):n,a+=e.spaces&&e.indentAttributes?u(e,i+1,!1):" ",a+=o+"="+s+("attributeValueFn"in e?e.attributeValueFn(r,n,A,v):r)+s);return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&(a+=u(e,i,!1)),a}function c(t,e,i){return v=t,A="xml",e.ignoreDeclaration?"":"<?xml"+l(t[e.attributesKey],e,i)+"?>"}function d(t,e,i){if(e.ignoreInstruction)return"";var n;for(n in t)if(t.hasOwnProperty(n))break;var r="instructionNameFn"in e?e.instructionNameFn(n,t[n],A,v):n;if("object"==typeof t[n])return"<?"+(A=r)+l((v=t)[n][e.attributesKey],e,i)+"?>";var o=t[n]?t[n]:"";return"instructionFn"in e&&(o=e.instructionFn(o,n,A,v)),"<?"+r+(o?" "+o:"")+"?>"}function h(t,e){return e.ignoreComment?"":"\x3c!--"+("commentFn"in e?e.commentFn(t,A,v):t)+"--\x3e"}function p(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,A,v):t)+"]]>"}function f(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,A,v):t)+">"}function g(t,e){return e.ignoreText?"":(t=(t=(t=""+t).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,A,v):t)}function a(t,e,i){A=(v=t).name;var n="",r="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;return n+="<"+r,t[e.attributesKey]&&(n+=l(t[e.attributesKey],e,i)),t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&"preserve"===t[e.attributesKey]["xml:space"]||("fullTagEmptyElementFn"in e?e.fullTagEmptyElementFn(t.name,t):e.fullTagEmptyElement)?(n+=">",t[e.elementsKey]&&t[e.elementsKey].length&&(n+=o(t[e.elementsKey],e,i+1),A=(v=t).name),n+=e.spaces&&function(t,e){var i;if(t.elements&&t.elements.length)for(i=0;i<t.elements.length;++i)switch(t.elements[i][e.typeKey]){case"text":if(e.indentText)return 1;break;case"cdata":if(e.indentCdata)return 1;break;case"instruction":if(e.indentInstruction)return 1;break;case"doctype":case"comment":case"element":default:return 1}}(t,e)?"\n"+Array(i+1).join(e.spaces):"",n+="</"+r+">"):n+="/>",n}function o(t,r,o,s){return t.reduce(function(t,e){var i=u(r,o,s&&!t);switch(e.type){case"element":return t+i+a(e,r,o);case"comment":return t+i+h(e[r.commentKey],r);case"doctype":return t+i+f(e[r.doctypeKey],r);case"cdata":return t+(r.indentCdata?i:"")+p(e[r.cdataKey],r);case"text":return t+(r.indentText?i:"")+g(e[r.textKey],r);case"instruction":var n={};return n[e[r.nameKey]]=e[r.attributesKey]?e:e[r.instructionKey],t+(r.indentInstruction?i:"")+d(n,r,o)}},"")}function m(t,e,i){var n;for(n in t)if(t.hasOwnProperty(n))switch(n){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||i)return!0;break;case e.cdataKey:if(e.indentCdata||i)return!0;break;case e.instructionKey:if(e.indentInstruction||i)return!0;break;case e.doctypeKey:case e.commentKey:default:return!0}return!1}function S(t,e,i,n){var r,o,s,a="";for(o in t)if(t.hasOwnProperty(o))for(s=y(t[o])?t[o]:[t[o]],r=0;r<s.length;++r){switch(o){case e.declarationKey:a+=c(s[r],e,i);break;case e.instructionKey:a+=(e.indentInstruction?u(e,i,n):"")+d(s[r],e,i);break;case e.attributesKey:case e.parentKey:break;case e.textKey:a+=(e.indentText?u(e,i,n):"")+g(s[r],e);break;case e.cdataKey:a+=(e.indentCdata?u(e,i,n):"")+p(s[r],e);break;case e.doctypeKey:a+=u(e,i,n)+f(s[r],e);break;case e.commentKey:a+=u(e,i,n)+h(s[r],e);break;default:a+=u(e,i,n)+function(t,e,i,n,r){v=t,A=e;var o="elementNameFn"in i?i.elementNameFn(e,t):e;if(null==t)return"fullTagEmptyElementFn"in i&&i.fullTagEmptyElementFn(e,t)||i.fullTagEmptyElement?"<"+o+"></"+o+">":"<"+o+"/>";var s="";if(e){if(s+="<"+o,"object"!=typeof t)return s+(">"+g(t,i))+"</"+o+">";if(t[i.attributesKey]&&(s+=l(t[i.attributesKey],i,n)),!(m(t,i,!0)||t[i.attributesKey]&&"preserve"===t[i.attributesKey]["xml:space"]||("fullTagEmptyElementFn"in i?i.fullTagEmptyElementFn(e,t):i.fullTagEmptyElement)))return s+"/>";s+=">"}return s+=S(t,i,n+1,!1),v=t,(A=e)&&(s+=(r?u(i,n,!1):"")+"</"+o+">"),s}(s[r],o,e,i,m(s[r],e))}n=n&&!a}return a}var v,A,s=i(12),y=i(13).isArray;t.exports=function(t,e){var i,n;i=e,n=s.copyOptions(i),s.ensureFlagExists("ignoreDeclaration",n),s.ensureFlagExists("ignoreInstruction",n),s.ensureFlagExists("ignoreAttributes",n),s.ensureFlagExists("ignoreText",n),s.ensureFlagExists("ignoreComment",n),s.ensureFlagExists("ignoreCdata",n),s.ensureFlagExists("ignoreDoctype",n),s.ensureFlagExists("compact",n),s.ensureFlagExists("indentText",n),s.ensureFlagExists("indentCdata",n),s.ensureFlagExists("indentAttributes",n),s.ensureFlagExists("indentInstruction",n),s.ensureFlagExists("fullTagEmptyElement",n),s.ensureFlagExists("noQuotesForNativeAttributes",n),s.ensureSpacesExists(n),"number"==typeof n.spaces&&(n.spaces=Array(n.spaces+1).join(" ")),s.ensureKeyExists("declaration",n),s.ensureKeyExists("instruction",n),s.ensureKeyExists("attributes",n),s.ensureKeyExists("text",n),s.ensureKeyExists("comment",n),s.ensureKeyExists("cdata",n),s.ensureKeyExists("doctype",n),s.ensureKeyExists("type",n),s.ensureKeyExists("name",n),s.ensureKeyExists("elements",n),s.checkFnExists("doctype",n),s.checkFnExists("instruction",n),s.checkFnExists("cdata",n),s.checkFnExists("comment",n),s.checkFnExists("text",n),s.checkFnExists("instructionName",n),s.checkFnExists("elementName",n),s.checkFnExists("attributeName",n),s.checkFnExists("attributeValue",n),s.checkFnExists("attributes",n),s.checkFnExists("fullTagEmptyElement",n);var r="";return v=t,A="_root_",(e=n).compact?r=S(t,e,0,!0):(t[e.declarationKey]&&(r+=c(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&(r+=o(t[e.elementsKey],e,0,!r))),r}},function(t,e,i){var n=i(14),r=i(36),o=i(20),s=i(37);t.exports={xml2js:n,xml2json:r,js2xml:o,json2xml:s}},function(t,e,p){(function(i){!function(f){function n(t,e){if(!(this instanceof n))return new n(t,e);var i=this;(function(t){for(var e=0,i=P.length;e<i;e++)t[P[e]]=""})(i),i.q=i.c="",i.bufferCheckPosition=f.MAX_BUFFER_LENGTH,i.opt=e||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=G.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(f.XML_ENTITIES):Object.create(f.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(h)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),o(i,"onready")}function r(t,e){if(!(this instanceof r))return new r(t,e);s.apply(this),this._parser=new n(t,e),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(t){i.emit("error",t),i._parser.error=null},this._decoder=null,a.forEach(function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t;i.on(e,t)},enumerable:!0,configurable:!1})})}function g(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function m(t){return'"'===t||"'"===t}function S(t,e){return t.test(e)}function o(t,e,i){t[e]&&t[e](i)}function v(t,e,i){t.textNode&&A(t),o(t,e,i)}function A(t){t.textNode=y(t.opt,t.textNode),t.textNode&&o(t,"ontext",t.textNode),t.textNode=""}function y(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function T(t,e){return A(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,o(t,"onerror",e),t}function C(t){return t.sawRoot&&!t.closedRoot&&_(t,"Unclosed root tag"),t.state!==G.BEGIN&&t.state!==G.BEGIN_WHITESPACE&&t.state!==G.TEXT&&T(t,"Unexpected end"),A(t),t.c="",t.closed=!0,o(t,"onend"),n.call(t,t.strict,t.opt),t}function _(t,e){if("object"!=typeof t||!(t instanceof n))throw new Error("bad call to strictFail");t.strict&&T(t,e)}function b(t,e){var i=t.indexOf(":")<0?["",t]:t.split(":"),n=i[0],r=i[1];return e&&"xmlns"===t&&(n="xmlns",r=""),{prefix:n,local:r}}function E(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return t.attribName=t.attribValue="";var e,i,n,r,o;t.opt.xmlns?(i=(e=b(t.attribName,!0)).prefix,n=e.local,"xmlns"===i&&("xml"===n&&t.attribValue!==c?_(t,"xml: prefix must be bound to "+c+"\nActual: "+t.attribValue):"xmlns"===n&&t.attribValue!==d?_(t,"xmlns: prefix must be bound to "+d+"\nActual: "+t.attribValue):(r=t.tag,o=t.tags[t.tags.length-1]||t,r.ns===o.ns&&(r.ns=Object.create(o.ns)),r.ns[n]=t.attribValue)),t.attribList.push([t.attribName,t.attribValue])):(t.tag.attributes[t.attribName]=t.attribValue,v(t,"onattribute",{name:t.attribName,value:t.attribValue})),t.attribName=t.attribValue=""}function R(e,t){if(e.opt.xmlns){var i=e.tag,n=b(e.tagName);i.prefix=n.prefix,i.local=n.local,i.uri=i.ns[n.prefix]||"",i.prefix&&!i.uri&&(_(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),i.uri=n.prefix);var r=e.tags[e.tags.length-1]||e;i.ns&&r.ns!==i.ns&&Object.keys(i.ns).forEach(function(t){v(e,"onopennamespace",{prefix:t,uri:i.ns[t]})});for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],u=a[0],l=a[1],c=b(u,!0),d=c.prefix,h=c.local,p=""!==d&&i.ns[d]||"",f={name:u,value:l,prefix:d,local:h,uri:p};d&&"xmlns"!==d&&!p&&(_(e,"Unbound namespace prefix: "+JSON.stringify(d)),f.uri=d),e.tag.attributes[u]=f,v(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),v(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=G.TEXT:e.state=G.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function I(i){if(!i.tagName)return _(i,"Weird empty close tag."),i.textNode+="</>",i.state=G.TEXT,0;if(i.script){if("script"!==i.tagName)return i.script+="</"+i.tagName+">",i.tagName="",i.state=G.SCRIPT,0;v(i,"onscript",i.script),i.script=""}var t=i.tags.length,e=i.tagName;i.strict||(e=e[i.looseCase]());for(var n=e;t--&&i.tags[t].name!==n;)_(i,"Unexpected close tag");if(t<0)return _(i,"Unmatched closing tag: "+i.tagName),i.textNode+="</"+i.tagName+">",i.state=G.TEXT,0;i.tagName=e;for(var r=i.tags.length;r-- >t;){var o=i.tag=i.tags.pop();i.tagName=i.tag.name,v(i,"onclosetag",i.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=i.tags[i.tags.length-1]||i;i.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var e=o.ns[t];v(i,"onclosenamespace",{prefix:t,uri:e})})}0===t&&(i.closedRoot=!0),i.tagName=i.attribValue=i.attribName="",i.attribList.length=0,i.state=G.TEXT}function D(t,e){"<"===e?(t.state=G.OPEN_WAKA,t.startTagPosition=t.position):g(e)||(_(t,"Non-whitespace before first tag."),t.textNode=e,t.state=G.TEXT)}function O(t,e){var i="";return e<t.length&&(i=t.charAt(e)),i}f.parser=function(t,e){return new n(t,e)},f.SAXParser=n,f.SAXStream=r,f.createStream=function(t,e){return new r(t,e)},f.MAX_BUFFER_LENGTH=65536;var s,P=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];f.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}),n.prototype={end:function(){C(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return T(e,"Cannot write after close. Assign an onready handler.");if(null===t)return C(e);"object"==typeof t&&(t=t.toString());for(var i,n,r,o,s,a,u,l,c,d=0,h="";h=O(t,d++),e.c=h;)switch(e.trackPosition&&(e.position++,"\n"===h?(e.line++,e.column=0):e.column++),e.state){case G.BEGIN:if(e.state=G.BEGIN_WHITESPACE,"\ufeff"===h)continue;D(e,h);continue;case G.BEGIN_WHITESPACE:D(e,h);continue;case G.TEXT:if(e.sawRoot&&!e.closedRoot){for(var p=d-1;h&&"<"!==h&&"&"!==h;)(h=O(t,d++))&&e.trackPosition&&(e.position++,"\n"===h?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(p,d-1)}"<"!==h||e.sawRoot&&e.closedRoot&&!e.strict?(g(h)||e.sawRoot&&!e.closedRoot||_(e,"Text data outside of root node."),"&"===h?e.state=G.TEXT_ENTITY:e.textNode+=h):(e.state=G.OPEN_WAKA,e.startTagPosition=e.position);continue;case G.SCRIPT:"<"===h?e.state=G.SCRIPT_ENDING:e.script+=h;continue;case G.SCRIPT_ENDING:"/"===h?e.state=G.CLOSE_TAG:(e.script+="<"+h,e.state=G.SCRIPT);continue;case G.OPEN_WAKA:"!"===h?(e.state=G.SGML_DECL,e.sgmlDecl=""):g(h)||(S(w,h)?(e.state=G.OPEN_TAG,e.tagName=h):"/"===h?(e.state=G.CLOSE_TAG,e.tagName=""):"?"===h?(e.state=G.PROC_INST,e.procInstName=e.procInstBody=""):(_(e,"Unencoded <"),e.startTagPosition+1<e.position&&(i=e.position-e.startTagPosition,h=new Array(i).join(" ")+h),e.textNode+="<"+h,e.state=G.TEXT));continue;case G.SGML_DECL:(e.sgmlDecl+h).toUpperCase()===N?(v(e,"onopencdata"),e.state=G.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+h==="--"?(e.state=G.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+h).toUpperCase()===L?(e.state=G.DOCTYPE,(e.doctype||e.sawRoot)&&_(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===h?(v(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=G.TEXT):(m(h)&&(e.state=G.SGML_DECL_QUOTED),e.sgmlDecl+=h);continue;case G.SGML_DECL_QUOTED:h===e.q&&(e.state=G.SGML_DECL,e.q=""),e.sgmlDecl+=h;continue;case G.DOCTYPE:">"===h?(e.state=G.TEXT,v(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=h,"["===h?e.state=G.DOCTYPE_DTD:m(h)&&(e.state=G.DOCTYPE_QUOTED,e.q=h));continue;case G.DOCTYPE_QUOTED:e.doctype+=h,h===e.q&&(e.q="",e.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:e.doctype+=h,"]"===h?e.state=G.DOCTYPE:m(h)&&(e.state=G.DOCTYPE_DTD_QUOTED,e.q=h);continue;case G.DOCTYPE_DTD_QUOTED:e.doctype+=h,h===e.q&&(e.state=G.DOCTYPE_DTD,e.q="");continue;case G.COMMENT:"-"===h?e.state=G.COMMENT_ENDING:e.comment+=h;continue;case G.COMMENT_ENDING:"-"===h?(e.state=G.COMMENT_ENDED,e.comment=y(e.opt,e.comment),e.comment&&v(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+h,e.state=G.COMMENT);continue;case G.COMMENT_ENDED:">"!==h?(_(e,"Malformed comment"),e.comment+="--"+h,e.state=G.COMMENT):e.state=G.TEXT;continue;case G.CDATA:"]"===h?e.state=G.CDATA_ENDING:e.cdata+=h;continue;case G.CDATA_ENDING:"]"===h?e.state=G.CDATA_ENDING_2:(e.cdata+="]"+h,e.state=G.CDATA);continue;case G.CDATA_ENDING_2:">"===h?(e.cdata&&v(e,"oncdata",e.cdata),v(e,"onclosecdata"),e.cdata="",e.state=G.TEXT):"]"===h?e.cdata+="]":(e.cdata+="]]"+h,e.state=G.CDATA);continue;case G.PROC_INST:"?"===h?e.state=G.PROC_INST_ENDING:g(h)?e.state=G.PROC_INST_BODY:e.procInstName+=h;continue;case G.PROC_INST_BODY:if(!e.procInstBody&&g(h))continue;"?"===h?e.state=G.PROC_INST_ENDING:e.procInstBody+=h;continue;case G.PROC_INST_ENDING:">"===h?(v(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=G.TEXT):(e.procInstBody+="?"+h,e.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:S(M,h)?e.tagName+=h:(function(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,i=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(i.ns=e.ns),t.attribList.length=0,v(t,"onopentagstart",i)}(e),">"===h?R(e):"/"===h?e.state=G.OPEN_TAG_SLASH:(g(h)||_(e,"Invalid character in tag name"),e.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:">"===h?(R(e,!0),I(e)):(_(e,"Forward-slash in opening tag not followed by >"),e.state=G.ATTRIB);continue;case G.ATTRIB:if(g(h))continue;">"===h?R(e):"/"===h?e.state=G.OPEN_TAG_SLASH:S(w,h)?(e.attribName=h,e.attribValue="",e.state=G.ATTRIB_NAME):_(e,"Invalid attribute name");continue;case G.ATTRIB_NAME:"="===h?e.state=G.ATTRIB_VALUE:">"===h?(_(e,"Attribute without value"),e.attribValue=e.attribName,E(e),R(e)):g(h)?e.state=G.ATTRIB_NAME_SAW_WHITE:S(M,h)?e.attribName+=h:_(e,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if("="===h)e.state=G.ATTRIB_VALUE;else{if(g(h))continue;_(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",v(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===h?R(e):S(w,h)?(e.attribName=h,e.state=G.ATTRIB_NAME):(_(e,"Invalid attribute name"),e.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(g(h))continue;m(h)?(e.q=h,e.state=G.ATTRIB_VALUE_QUOTED):(_(e,"Unquoted attribute value"),e.state=G.ATTRIB_VALUE_UNQUOTED,e.attribValue=h);continue;case G.ATTRIB_VALUE_QUOTED:if(h!==e.q){"&"===h?e.state=G.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=h;continue}E(e),e.q="",e.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:g(h)?e.state=G.ATTRIB:">"===h?R(e):"/"===h?e.state=G.OPEN_TAG_SLASH:S(w,h)?(_(e,"No whitespace between attributes"),e.attribName=h,e.attribValue="",e.state=G.ATTRIB_NAME):_(e,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(">"!==(c=h)&&!g(c)){"&"===h?e.state=G.ATTRIB_VALUE_ENTITY_U:e.attribValue+=h;continue}E(e),">"===h?R(e):e.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(e.tagName)">"===h?I(e):S(M,h)?e.tagName+=h:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=G.SCRIPT):(g(h)||_(e,"Invalid tagname in closing tag"),e.state=G.CLOSE_TAG_SAW_WHITE);else{if(g(h))continue;S(w,h)?e.tagName=h:e.script?(e.script+="</"+h,e.state=G.SCRIPT):_(e,"Invalid tagname in closing tag.")}continue;case G.CLOSE_TAG_SAW_WHITE:if(g(h))continue;">"===h?I(e):_(e,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:switch(e.state){case G.TEXT_ENTITY:n=G.TEXT,r="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:n=G.ATTRIB_VALUE_QUOTED,r="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:n=G.ATTRIB_VALUE_UNQUOTED,r="attribValue"}";"===h?(e[r]+=(l=u=a=s=void 0,a=(o=e).entity,u=a.toLowerCase(),l="",o.ENTITIES[a]?o.ENTITIES[a]:o.ENTITIES[u]?o.ENTITIES[u]:("#"===(a=u).charAt(0)&&(l="x"===a.charAt(1)?(a=a.slice(2),(s=parseInt(a,16)).toString(16)):(a=a.slice(1),(s=parseInt(a,10)).toString(10))),a=a.replace(/^0+/,""),isNaN(s)||l.toLowerCase()!==a?(_(o,"Invalid character entity"),"&"+o.entity+";"):String.fromCodePoint(s))),e.entity="",e.state=n):S(e.entity.length?U:x,h)?e.entity+=h:(_(e,"Invalid character in entity name"),e[r]+="&"+e.entity+h,e.entity="",e.state=n);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&function(t){for(var e=Math.max(f.MAX_BUFFER_LENGTH,10),i=0,n=0,r=P.length;n<r;n++){var o=t[P[n]].length;if(e<o)switch(P[n]){case"textNode":A(t);break;case"cdata":v(t,"oncdata",t.cdata),t.cdata="";break;case"script":v(t,"onscript",t.script),t.script="";break;default:T(t,"Max buffer length exceeded: "+P[n])}i=Math.max(i,o)}var s=f.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=s+t.position}(e),e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;A(t=this),""!==t.cdata&&(v(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(v(t,"onscript",t.script),t.script="")}};try{s=p(25).Stream}catch(t){s=function(){}}var a=f.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});(r.prototype=Object.create(s.prototype,{constructor:{value:r}})).write=function(t){var e;return"function"==typeof i&&"function"==typeof i.isBuffer&&i.isBuffer(t)&&(this._decoder||(e=p(11).StringDecoder,this._decoder=new e("utf8")),t=this._decoder.write(t)),this._parser.write(t.toString()),this.emit("data",t),!0},r.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},r.prototype.on=function(e,t){var i=this;return i._parser["on"+e]||-1===a.indexOf(e)||(i._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),i.emit.apply(i,t)}),s.prototype.on.call(i,e,t)};var u,l,N="[CDATA[",L="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",h={xml:c,xmlns:d},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,U=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,G=0;for(var t in f.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},f.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},f.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(f.ENTITIES).forEach(function(t){var e=f.ENTITIES[t],i="number"==typeof e?String.fromCharCode(e):e;f.ENTITIES[t]=i}),f.STATE)f.STATE[f.STATE[t]]=t;function e(){var t,e,i=[],n=-1,r=arguments.length;if(!r)return"";for(var o="";++n<r;){var s=Number(arguments[n]);if(!isFinite(s)||s<0||1114111<s||l(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?i.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,i.push(t,e)),(n+1===r||16384<i.length)&&(o+=u.apply(null,i),i.length=0)}return o}G=f.STATE,String.fromCodePoint||(u=String.fromCharCode,l=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:e,configurable:!0,writable:!0}):String.fromCodePoint=e)}(e)}).call(e,p(4).Buffer)},function(t,e,i){"use strict";function u(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function l(t,e,i){for(var n,r,o=[],s=e;s<i;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(c[(r=n)>>18&63]+c[r>>12&63]+c[r>>6&63]+c[63&r]);return o.join("")}e.byteLength=function(t){return 3*t.length/4-u(t)},e.toByteArray=function(t){for(var e,i=t.length,n=u(t),r=new h(3*i/4-n),o=0<n?i-4:i,s=0,a=0;a<o;a+=4)e=d[t.charCodeAt(a)]<<18|d[t.charCodeAt(a+1)]<<12|d[t.charCodeAt(a+2)]<<6|d[t.charCodeAt(a+3)],r[s++]=e>>16&255,r[s++]=e>>8&255,r[s++]=255&e;return 2===n?(e=d[t.charCodeAt(a)]<<2|d[t.charCodeAt(a+1)]>>4,r[s++]=255&e):1===n&&(e=d[t.charCodeAt(a)]<<10|d[t.charCodeAt(a+1)]<<4|d[t.charCodeAt(a+2)]>>2,r[s++]=e>>8&255,r[s++]=255&e),r},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,r="",o=[],s=0,a=i-n;s<a;s+=16383)o.push(l(t,s,a<s+16383?a:s+16383));return 1==n?(e=t[i-1],r+=c[e>>2],r+=c[e<<4&63],r+="=="):2==n&&(e=(t[i-2]<<8)+t[i-1],r+=c[e>>10],r+=c[e>>4&63],r+=c[e<<2&63],r+="="),o.push(r),o.join("")};for(var c=[],d=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=n.length;r<o;++r)c[r]=n[r],d[n.charCodeAt(r)]=r;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,n,r){var o,s,a=8*r-n-1,u=(1<<a)-1,l=u>>1,c=-7,d=i?r-1:0,h=i?-1:1,p=t[e+d];for(d+=h,o=p&(1<<-c)-1,p>>=-c,c+=a;0<c;o=256*o+t[e+d],d+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;0<c;s=256*s+t[e+d],d+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=l}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(e+=1<=s+d?h/u:h*Math.pow(2,1-d))*u&&(s++,u/=2),c<=s+d?(a=0,s=c):1<=s+d?(a=(e*u-1)*Math.pow(2,r),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),s=0));8<=r;t[i+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,l+=r;0<l;t[i+p]=255&s,p+=f,s/=256,l-=8);t[i+p-f]|=128*g}},function(t,e,i){function n(){c.call(this)}t.exports=n;var c=i(8).EventEmitter;i(1)(n,c),n.Readable=i(9),n.Writable=i(32),n.Duplex=i(33),n.Transform=i(34),n.PassThrough=i(35),(n.Stream=n).prototype.pipe=function(e,t){function i(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function n(){u.readable&&u.resume&&u.resume()}function r(){l||(l=!0,e.end())}function o(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function s(t){if(a(),0===c.listenerCount(this,"error"))throw t}function a(){u.removeListener("data",i),e.removeListener("drain",n),u.removeListener("end",r),u.removeListener("close",o),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",a),u.removeListener("close",a),e.removeListener("close",a)}var u=this;u.on("data",i),e.on("drain",n),e._isStdio||t&&!1===t.end||(u.on("end",r),u.on("close",o));var l=!1;return u.on("error",s),e.on("error",s),u.on("end",a),u.on("close",a),e.on("close",a),e.emit("pipe",u),e}},function(t,e){},function(t,e,i){"use strict";var a=i(7).Buffer;function n(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.head=null,this.tail=null,this.length=0}t.exports=(n.prototype.push=function(t){var e={data:t,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},n.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},n.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},n.prototype.concat=function(t){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var e,i,n,r=a.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,i=r,n=s,e.copy(i,n),s+=o.data.length,o=o.next;return r},n)},function(t,e,i){function n(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(29),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,i){(function(t,f){!function(i,n){"use strict";function r(t){delete u[t]}function o(t){if(l)setTimeout(o,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{r(t),l=!1}}}}var s,a,u,l,c,t,d,e,h;function p(t){t.source===i&&"string"==typeof t.data&&0===t.data.indexOf(h)&&o(+t.data.slice(h.length))}i.setImmediate||(a=1,l=!(u={}),c=i.document,t=(t=Object.getPrototypeOf&&Object.getPrototypeOf(i))&&t.setTimeout?t:i,s="[object process]"==={}.toString.call(i.process)?function(t){f.nextTick(function(){o(t)})}:function(){if(i.postMessage&&!i.importScripts){var t=!0,e=i.onmessage;return i.onmessage=function(){t=!1},i.postMessage("","*"),i.onmessage=e,t}}()?(h="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",p,!1):i.attachEvent("onmessage",p),function(t){i.postMessage(h+t,"*")}):i.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){o(t.data)},function(t){e.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,function(t){var e=c.createElement("script");e.onreadystatechange=function(){o(t),e.onreadystatechange=null,d.removeChild(e),e=null},d.appendChild(e)}):function(t){setTimeout(o,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return u[a]=n,s(a),a++},t.clearImmediate=r)}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,i(2),i(5))},function(t,e,i){(function(i){function n(t){try{if(!i.localStorage)return}catch(t){return}var e=i.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(e,i(2))},function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);r.call(this,t)}t.exports=n;var r=i(19),o=i(3);o.inherits=i(1),o.inherits(n,r),n.prototype._transform=function(t,e,i){i(null,t)}},function(t,e,i){t.exports=i(10)},function(t,e,i){t.exports=i(0)},function(t,e,i){t.exports=i(9).Transform},function(t,e,i){t.exports=i(9).PassThrough},function(t,e,i){var a=i(12),u=i(14);t.exports=function(t,e){var i,n,r,o,s;return o=e,s=a.copyOptions(o),a.ensureSpacesExists(s),n=u(t,i=s),r="compact"in i&&i.compact?"_parent":"parent",("addParent"in i&&i.addParent?JSON.stringify(n,function(t,e){return t===r?"_":e},i.spaces):JSON.stringify(n,null,i.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(t,e,i){(function(n){var r=i(20);t.exports=function(t,e){t instanceof n&&(t=t.toString());var i=null;if("string"==typeof t)try{i=JSON.parse(t)}catch(t){throw new Error("The JSON structure is invalid")}else i=t;return r(i,e)}}).call(e,i(4).Buffer)}])),Log.prototype.startNew=function(t,e){var i="string"==typeof e?new LogEntry(t,e):null!=e?new LogEntry(t,e.callee.toString().substring(9,e.callee.toString().indexOf("{")-1),e):new LogEntry(t,"unknown entry point");return this.entries.push(i),i},LogEntry.prototype={write:function(t){var e=new LogEntry("i",null,null);e.text=t,this.appendChild(e)},error:function(t){var e=new LogEntry("e",null,null);e.text=t,this.appendChild(e)},startNew:function(t,e,i){var n="string"==typeof e?new LogEntry(t,e,i):null!=e?new LogEntry(t,e.callee.toString().substring(9,e.callee.toString().indexOf("{")-1),e):new LogEntry(t,"unknown entry point");return this.appendChild(n),n},setAttribute:function(t,e){this.attributes[t]=e},setReturn:function(t){this.returnValue={value:t,elapsedTime:((new Date).getTime()-this.timeStamp.getTime())/1e3}},appendChild:function(t){this.children.push(t)},formatTimestampForLog:function(t){var e,i,n,r=t?(e=this.timeStamp.getUTCHours(),i=this.timeStamp.getUTCMinutes(),n=this.timeStamp.getUTCSeconds(),this.timeStamp.getUTCMilliseconds()):(e=this.timeStamp.getHours(),i=this.timeStamp.getMinutes(),n=this.timeStamp.getSeconds(),this.timeStamp.getMilliseconds());return e.toString().leftpad("0",2)+":"+i.toString().leftpad("0",2)+":"+n.toString().leftpad("0",2)+"."+r.toString().leftpad("0",3)},xmlEscapeText:function(){var t=this.text;return null===t?"null":XmlElement.Encode(t)}},Debugger.prototype.display=function(){window.open("debugger.html","_blank","toolbar=yes,location=yes,directories=yes,resizable=yes,scrollbars=yes")},DisabledLogEntry.prototype={write:function(){},error:function(){},startNew:function(){return disabledLogEntry},setAttribute:function(){},setReturn:function(){}},disabledLogEntry=new DisabledLogEntry,HistoryLogger.prototype={DataIsAvailable:function(){return this.DataExists},WriteEvent:function(t,e,i){var n,r;if(this.RecordHistory){for(r in n=null!=e&&e.event?"":t,this.currentEntry=null==i?this.log.startNew("RT",n):i.startNew("RT",n),this.currentEntry.setAttribute("id",this.auditCount+=1),e)e.hasOwnProperty(r)&&this.currentEntry.setAttribute(r,e[r]);return this.currentEntry}return disabledLogEntry},WriteEventReturnValue:function(t,e,i){var n;if(null!==this.currentEntry){if(this.RecordHistory)for(n in this.currentEntry.setReturn(t),e)e.hasOwnProperty(n)&&this.currentEntry.setAttribute(n,e[n]);null!=i&&(this.currentEntry=i)}},WriteEventDetailed:function(t,e,i){var n,r;if(this.RecordHistoryDetailed){for(r in n=null!=e&&e.event?"":t,this.currentEntry=null==i?this.log.startNew("RT",n):i.startNew("RT",n),this.currentEntry.setAttribute("id",this.auditCount+=1),e)e.hasOwnProperty(r)&&this.currentEntry.setAttribute(r,e[r]);return this.currentEntry}return disabledLogEntry},WriteEventDetailedReturnValue:function(t,e,i){var n;if(null!==this.currentEntry){if(this.RecordHistoryDetailed)for(n in this.currentEntry.setReturn(t),e)e.hasOwnProperty(n)&&this.currentEntry.setAttribute(n,e[n]);null!=i&&(this.currentEntry=i)}},GetSerializedLog:function(){var t,e,i,n,r=new XmlElement("RTL");for(r.AddAttribute("version",this.version),r.AddAttribute("browser",this.log.browser),t=0;t<this.log.entries.length;t+=1){for(n in e=this.log.entries[t],(i=new XmlElement("RT")).AddAttribute("ts",e.formatTimestampForLog()),i.AddAttribute("ts_utc",e.formatTimestampForLog(!0)),i.AddAttribute("f",e.functionName),e.attributes)e.attributes.hasOwnProperty(n)&&i.AddAttribute(n,e.attributes[n]);r.AddElement(i)}return r}},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.repeat||(String.prototype.repeat=function(t){if(t<0)throw"Cannot repeat a string less than zero times";return new Array(t+1).join(this)}),String.prototype.leftpad||(String.prototype.leftpad=function(t,e){if(1!==t.length)throw"Must pad string with character of length 1";return this.length>=e?this:t.repeat(e-this.length)+this}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},writable:!0,configurable:!0});var HUNDREDTHS_PER_SECOND=100,HUNDREDTHS_PER_MINUTE=60*HUNDREDTHS_PER_SECOND,HUNDREDTHS_PER_HOUR=60*HUNDREDTHS_PER_MINUTE,HUNDREDTHS_PER_DAY=24*HUNDREDTHS_PER_HOUR,HUNDREDTHS_PER_MONTH=30.4375*HUNDREDTHS_PER_DAY,HUNDREDTHS_PER_YEAR=12*HUNDREDTHS_PER_MONTH,REG_EX_DIGITS=/\d+/g;function GetParsedIso8601Time(t){var e,i=/^(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2})(?::(\d{2})(?::(\d{2})(?:\.(\d*))?)?)?((?:([+-])(\d{2})(?::(\d{2}))?)|Z)?)?$/.exec(t),n={year:"",month:"",day:"",hours:"",minutes:"",seconds:"",milliseconds:"",timezoneoffsetchar:"",offsethours:"",offsetminutes:""};return i?(n.year=i[1]||"",n.month=i[2]||"",n.day=i[3]||"",n.hours=i[4]||"",n.minutes=i[5]||"",n.seconds=i[6]||"",n.milliseconds=((i[7]||"")+"000").substring(0,3),(e=i[8])&&"Z"===e&&(n.timezoneoffsetchar="Z"),e&&"Z"!==e&&(n.timezoneoffsetchar=i[9]||"",n.offsethours=i[10]||"",n.offsetminutes=i[11]||"")):Debug.AssertError("ERROR - unable to recognize the date format '"+t+"'."),n}function CleanupTimeStamp(t){var e=GetParsedIso8601Time(t),i=new Date;return void 0===e.timezoneoffsetchar||""===e.timezoneoffsetchar||null===e.timezoneoffsetchar?(i.setFullYear(e.year),i.setMonth(e.month-1),i.setDate(e.day),i.setHours(e.hours),i.setMinutes(e.minutes),i.setSeconds(e.seconds),i.setMilliseconds(e.milliseconds)):(i.setUTCFullYear(e.year),i.setUTCMonth(e.month-1),i.setUTCDate(e.day),i.setUTCHours(e.hours),i.setUTCMinutes(e.minutes),i.setUTCSeconds(e.seconds),i.setUTCMilliseconds(e.milliseconds),"-"===e.timezoneoffsetchar?(i.setUTCHours(i.getUTCHours()+new Number(e.offsethours)),i.setUTCMinutes(i.getUTCMinutes()+new Number(e.offsetminutes))):"+"===e.timezoneoffsetchar&&(i.setUTCHours(i.getUTCHours()-new Number(e.offsethours)),i.setUTCMinutes(i.getUTCMinutes()-new Number(e.offsetminutes)))),i.getUTCFullYear()+"-"+ZeroPad(i.getUTCMonth()+1,2)+"-"+ZeroPad(i.getUTCDate(),2)+"T"+ZeroPad(i.getUTCHours(),2)+":"+ZeroPad(i.getUTCMinutes(),2)+":"+ZeroPad(i.getUTCSeconds(),2)+"Z"}function ConvertDateToIso8601String(t){function e(t){return(t<10?"0":"")+t}var i,n="";return"string"==typeof t&&(t=new Date(Date.parse(t))),n+=t.getUTCFullYear(),n+="-"+e(t.getUTCMonth()+1),n+="-"+e(t.getUTCDate()),n+="T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes()),n+=":"+e(t.getUTCSeconds())+".",n+=(i="00"+t.getUTCMilliseconds().toString()).substr(i.length-3,2),n+="Z"}function GetDateFromUtcIso8601Time(t){var e=GetParsedIso8601Time(t),i=new Date;return Debug.AssertError("Expected "+t+" to be a UTC string","Z"!==e.timezoneoffsetchar),i.setUTCFullYear(e.year),i.setUTCMonth(e.month-1),i.setUTCDate(e.day),i.setUTCHours(e.hours),i.setUTCMinutes(e.minutes),i.setUTCSeconds(e.seconds),i.setUTCMilliseconds(e.milliseconds),i}function IsIso8601SectionDelimiter(t){return 0<=t.search(/[PYMDTHS]/)}function ConvertIso8601TimeSpanToHundredths(t){var e,i,n="",r="",o=!1,s=0,a=0,u=0,l=0,c=0,d=0;if(""===t)return 0;for(t+="",i=1;i<t.length;i+=1)if(IsIso8601SectionDelimiter(r=t.charAt(i))){switch(r.toUpperCase()){case"Y":d=parseInt(n,10);break;case"M":o?a=parseInt(n,10):c=parseInt(n,10);break;case"D":l=parseInt(n,10);break;case"H":u=parseInt(n,10);break;case"S":s=parseFloat(n);break;case"T":o=!0}n=""}else n+=""+r;return e=d*HUNDREDTHS_PER_YEAR+c*HUNDREDTHS_PER_MONTH+l*HUNDREDTHS_PER_DAY+u*HUNDREDTHS_PER_HOUR+a*HUNDREDTHS_PER_MINUTE+s*HUNDREDTHS_PER_SECOND,Math.round(e)}function ConvertHundredthsIntoSCORMTime(t){var e,i,n=10*t,r=n%1e3,o=(n-r)/1e3%60,s=(n-r-1e3*o)/6e4%60,a=(n-r-1e3*o-6e4*s)/36e5;return 1e4==a&&(100==(s=(n-36e5*(a=9999))/6e4)&&(s=99),100==(o=(n-36e5*a-6e4*(s=Math.floor(s)))/1e3)&&(o=99),r=n-36e5*a-6e4*s-1e3*(o=Math.floor(o))),e=Math.floor(r/10),i=ZeroPad(a,4)+":"+ZeroPad(s,2)+":"+ZeroPad(o,2)+"."+e,9999<a&&(i="9999:99:99.99"),i}function ConvertCmiTimeSpanToHundredths(t){var e,i;return""===t?0:(i=36e4*(e=t.split(":"))[0]+6e3*e[1]+100*e[2],Math.round(i))}function ConvertHundredthsToIso8601TimeSpan(t){var e,i,n,r,o,s="",a=t,u=Math.floor(a/HUNDREDTHS_PER_YEAR);return a-=u*HUNDREDTHS_PER_YEAR,a-=(o=Math.floor(a/HUNDREDTHS_PER_MONTH))*HUNDREDTHS_PER_MONTH,a-=(r=Math.floor(a/HUNDREDTHS_PER_DAY))*HUNDREDTHS_PER_DAY,a-=(n=Math.floor(a/HUNDREDTHS_PER_HOUR))*HUNDREDTHS_PER_HOUR,a-=(i=Math.floor(a/HUNDREDTHS_PER_MINUTE))*HUNDREDTHS_PER_MINUTE,0<u&&(s+=u+"Y"),0<o&&(s+=o+"M"),0<r&&(s+=r+"D"),0<(a-=(e=Math.floor(a/HUNDREDTHS_PER_SECOND))*HUNDREDTHS_PER_SECOND)+e+i+n&&(s+="T",0<n&&(s+=n+"H"),0<i&&(s+=i+"M"),0<a+e&&(s+=e,0<a&&(s+="."+a),s+="S")),""===s&&(s="T0H0M0S"),s="P"+s}function ConvertIso8601TimeSpanToCmiTimeSpan(t){return ConvertHundredthsIntoSCORMTime(ConvertIso8601TimeSpanToHundredths(t))}function ConvertCmiTimeSpanToIso8601TimeSpan(t){return ConvertHundredthsToIso8601TimeSpan(ConvertCmiTimeSpanToHundredths(t))}function ConvertCmiTimeToIso8601Time(t){var e=new Date,i=e.getFullYear(),n=e.getMonth(),r=e.getDate();return(i=ZeroPad(i,4))+"-"+(n=ZeroPad(n+1,2))+"-"+(r=ZeroPad(r,2))+"T"+t}function RemoveIndiciesFromCmiElement(t){return t.replace(REG_EX_DIGITS,"n")}function ExtractIndex(t){var e="",i=t.match(/\.\d+\./);return null!==i&&0<i.length&&(e=i[0].replace(/\./g,""),e=parseInt(e,10)),e}function ExtractSecondaryIndex(t){var e="",i=t.match(/\.\d+\./g);return null!==i&&1<i.length&&(e=i[1].replace(/\./g,""),e=parseInt(e,10)),e}function TranslateDualStausToSingleStatus(t,e){var i=null;switch(e){case SCORM_STATUS_PASSED:i=SCORM_STATUS_PASSED;break;case SCORM_STATUS_FAILED:i=SCORM_STATUS_FAILED;break;case SCORM_STATUS_UNKNOWN:t===SCORM_STATUS_COMPLETED?i=SCORM_STATUS_COMPLETED:t===SCORM_STATUS_INCOMPLETE?i=SCORM_STATUS_INCOMPLETE:t===SCORM_STATUS_UNKNOWN||t===SCORM_STATUS_NOT_ATTEMPTED?i=SCORM_STATUS_NOT_ATTEMPTED:t===SCORM_STATUS_BROWSED&&(i=SCORM_STATUS_BROWSED)}return null===i?(Debug.AssertError("Invalid status combination encountered in GetValue - Success = "+e+", Completion = "+t),""):i}function TranslateSingleStatusIntoSuccess(t){var e;switch(t){case SCORM_STATUS_PASSED:e=SCORM_STATUS_PASSED;break;case SCORM_STATUS_COMPLETED:e=SCORM_STATUS_UNKNOWN;break;case SCORM_STATUS_FAILED:e=SCORM_STATUS_FAILED;break;case SCORM_STATUS_INCOMPLETE:case SCORM_STATUS_BROWSED:case SCORM_STATUS_NOT_ATTEMPTED:e=SCORM_STATUS_UNKNOWN;break;default:Debug.AssertError("Unrecognized single status")}return e}function TranslateSingleStatusIntoCompletion(t){var e;switch(t){case SCORM_STATUS_PASSED:case SCORM_STATUS_COMPLETED:e=SCORM_STATUS_COMPLETED;break;case SCORM_STATUS_FAILED:e=Control.Package.Properties.CompletionStatOfFailedSuccessStat===SCORM_STATUS_COMPLETED||Control.Package.Properties.CompletionStatOfFailedSuccessStat===SCORM_STATUS_INCOMPLETE?Control.Package.Properties.CompletionStatOfFailedSuccessStat:SCORM_STATUS_COMPLETED;break;case SCORM_STATUS_INCOMPLETE:e=SCORM_STATUS_INCOMPLETE;break;case SCORM_STATUS_BROWSED:e=SCORM_STATUS_BROWSED;break;case SCORM_STATUS_NOT_ATTEMPTED:e=SCORM_STATUS_NOT_ATTEMPTED;break;default:Debug.AssertError("Unrecognized single status")}return e}function IsValidCMITimeSpan(t){return-1<t.search(/^\d?\d?\d\d:\d\d:\d\d(.\d\d?)?$/)}function IsValidCMIDecimal(t){return!(-1<t.search(/[^.\d-]/))&&(!(-1<t.search("-")&&-1<t.indexOf("-",1))&&(t.indexOf(".")===t.lastIndexOf(".")&&!(t.search(/\d/)<0)))}function IsValidCMIIdentifier(t){return!(255<t.length)&&""!==t}function IsValidCMISInteger(t){return!(-1<t.search(/[^\d-]/))&&(!(-1<t.search("-")&&-1<t.indexOf("-",1))&&(!(t.search(/\d/)<0)&&!((t=parseInt(t,10))<-32768||32768<t)))}function IsValidCMITime(t){var e,i,n,r,o,s=0;return!(t.search(/^\d\d:\d\d:\d\d(.\d\d?)?$/)<0)&&(i=(e=t.split(":"))[0],n=e[1],o=(r=e[2].split("."))[0],1<r.length&&(s=r[1]),!(i<0||23<i)&&(!(n<0||59<n)&&(!(o<0||59<o)&&!(s<0||99<s))))}function IsValidCMIFeedback(t,e){if(4096<e.length)return!1;if(rscpCfg.get("registrationToDeliver").Package.Properties.ValidateInteractionResponses)switch(e=e.toLowerCase(),t){case"true-false":if(0!==e.search(/^[01tf]/))return!1;break;case"choice":if(0!==e.search(/(^(([a-z0-9])|(([a-z0-9],)+[a-z0-9]))$)|(^\{(([a-z0-9])|(([a-z0-9],)+[a-z0-9]))\}$)/))return!1;break;case"fill-in":if(255<e.length)return!1;break;case"numeric":if(!IsValidCMIDecimal(e))return!1;break;case"likert":break;case"matching":if(0!==e.search(/(^[0-9a-z]\.[0-9a-z]$)|(^([0-9a-z]\.[0-9a-z],)+([0-9a-z]\.[0-9a-z])$)|(^\{[0-9a-z]\.[0-9a-z]\}$)|(^\{([0-9a-z]\.[0-9a-z],)+([0-9a-z]\.[0-9a-z])\}$)/))return!1;break;case"performance":if(255<e.length)return!1;break;case"sequencing":if(0!==e.search(/(^[a-z0-9]$)|(^([a-z0-9],)+[a-z0-9]$)/))return!1}return!0}function NormalizeRawScore(t,e,i){var n=null;return null!=e&&(e=parseFloat(e)),null!=i&&(i=parseFloat(i)),null!=t&&(t=parseFloat(t),null!=e&&null!=i&&e<=t&&t<=i?n=e===i?0===t?0:1:(t-e)/(i-e):0<=t&&t<=100&&(n=t/100)),null!==n?RoundToPrecision(n,7):null}function ServerFormater(){}function ServerFormater_ConvertBoolean(t){var e;return!0===t?e="1":!1===t?e="0":Debug.AssertError("Value is not a boolean"),e}function ServerFormater_ConvertCompletionStatus(t){var e=null;switch(t){case SCORM_STATUS_UNKNOWN:e=1;break;case SCORM_STATUS_COMPLETED:e=2;break;case SCORM_STATUS_INCOMPLETE:e=3;break;case SCORM_STATUS_BROWSED:e=4;break;case SCORM_STATUS_NOT_ATTEMPTED:e=5;break;default:Debug.AssertError("Unrecognized Completion Status Value"),e=-1}return e}function ServerFormater_ConvertCredit(t){var e=null;switch(t){case SCORM_CREDIT:e=1;break;case SCORM_CREDIT_NO:e=2;break;default:Debug.AssertError("Unrecognized Credit Value"),e=-1}return e}function ServerFormater_ConvertEntry(t){var e=null;switch(t){case SCORM_ENTRY_AB_INITO:e=1;break;case SCORM_ENTRY_RESUME:e=2;break;case SCORM_ENTRY_NORMAL:e=3;break;default:Debug.AssertError("Unrecognized Entry Value"),e=-1}return e}function ServerFormater_ConvertExit(t){var e=null;switch(t){case SCORM_EXIT_TIME_OUT:e=1;break;case SCORM_EXIT_SUSPEND:e=2;break;case SCORM_EXIT_LOGOUT:e=3;break;case SCORM_EXIT_NORMAL:e=4;break;case SCORM_EXIT_UNKNOWN:e=5;break;default:Debug.AssertError("Unrecognized Exit Value"),e=-1}return e}function ServerFormater_ConvertMode(t){var e=null;switch(t){case SCORM_MODE_NORMAL:e=1;break;case SCORM_MODE_BROWSE:e=2;break;case SCORM_MODE_REVIEW:e=3;break;default:Debug.AssertError("Unrecognized Mode Value"),e=-1}return e}function ServerFormater_ConvertSuccessStatus(t){var e=null;switch(t){case SCORM_STATUS_UNKNOWN:e=1;break;case SCORM_STATUS_PASSED:e=2;break;case SCORM_STATUS_FAILED:e=3;break;default:Debug.AssertError("Unrecognized Success Status Value"),e=-1}return e}function ServerFormater_ConvertInteractionType(t){var e=null;switch(t){case SCORM_TRUE_FALSE:e=1;break;case SCORM_CHOICE:e=2;break;case SCORM_FILL_IN:e=3;break;case SCORM_MATCHING:e=6;break;case SCORM_PERFORMANCE:e=7;break;case SCORM_SEQUENCING:e=8;break;case SCORM_LIKERT:e=5;break;case SCORM_NUMERIC:e=9;break;case SCORM_LONG_FILL_IN:e=4;break;case SCORM_OTHER:e=10;break;default:Debug.AssertError("Unrecognized Interaction Type Value"),e=-1}return e}function ServerFormater_ConvertInteractionResult(t){var e=null;switch(t){case SCORM_CORRECT:e=1;break;case SCORM_UNANTICIPATED:e=3;break;case SCORM_INCORRECT:e=2;break;case SCORM_NEUTRAL:e=4;break;default:Debug.AssertError("Unrecognized Interaction Result Value"),e=-1}return e}function ServerFormater_GetNumericInteractionResultId(){return 5}function ServerFormater_ConvertTimeSpan(t){return ConvertIso8601TimeSpanToHundredths(t)}function ServerFormater_CleanupTimeStamp(t){return CleanupTimeStamp(t)}function ServerFormater_ConvertSSPAllocationSuccess(t){var e=null;switch(t){case SSP_ALLOCATION_SUCCESS_FAILURE:e=3;break;case SSP_ALLOCATION_SUCCESS_MINIMUM:e=1;break;case SSP_ALLOCATION_SUCCESS_REQUESTED:e=2;break;case SSP_ALLOCATION_SUCCESS_NOT_ATTEMPTED:e=4;break;default:Debug.AssertError("Unrecognized SSPAllocationSuccess Value"),e=-1}return e}function ServerFormater_ConvertSSPPersistence(t){var e=null;switch(t){case SSP_PERSISTENCE_LEARNER:e=1;break;case SSP_PERSISTENCE_COURSE:e=2;break;case SSP_PERSISTENCE_SESSION:e=3;break;default:Debug.AssertError("Unrecognized SSPPersistence Value"),e=-1}return e}function ServerFormater_TrimToLength(t,e){return null!==t&&t.length>e&&(t=t.substr(0,e)),t}function StringBuilder(t){null!==t&&0<parseInt(t,10)?this.Contents=new Array(parseInt(t,10)):this.Contents=[],this.CurrentEntry=0}function XmlElement(t){this.ElementName=t,this.Attributes=[],this.Elements=[]}function EscapeCharacters(t){for(var e,i=new StringBuilder,n=0;n<t.length;n+=1)127<(e=t.charCodeAt(n))?i.Append("&#x"+e.toString(16)+";"):e<32?i.Append("&amp;#x"+e.toString(16)+";"):i.Append(t.charAt(n));return i.toString()}function ActivityRepository(){this.ActivityList=[],this.ActivityTree=null,this.ActivityListByIdentifier=[],this.SortedActivityList=[]}function ActivityRepository_InitializeFromRegistration(t,e){var i,n,r="",o=0;for(this.ActivityList=t.Activities,this.ActivityTree=this.BuildActivity(t,t.Package.LearningObjects[0],null,1),this.PreOrderTraversal(this.ActivityTree,this.SortedActivityList),i=e[HASH_ALL_SCOS],o=0;o<this.ActivityList.length;o+=1)r="",null!=(n=e[this.ActivityList[o].DatabaseId])?r=n:null!=i&&(r=i),""!==r&&(this.ActivityList[o].LearningObject.Parameters=MergeQueryStringParameters(r,this.ActivityList[o].LearningObject.Parameters)),this.ActivityListByIdentifier[this.ActivityList[o].GetItemIdentifier()]=this.ActivityList[o]}function ActivityRepository_BuildActivity(t,e,i,n){var r,o,s,a,u,l=t.FindActivityForThisScormObject(e.DatabaseIdentifier);for(r in l.LearningObject=e,l.ParentActivity=i,0===l.Ordinal&&(l.Ordinal=n),l.ActivityObjectives){for(a in o=null,e.SequencingData.Objectives)if(e.SequencingData.Objectives[a].Id===l.ActivityObjectives[r].Identifier){o=e.SequencingData.Objectives[a];break}null===o&&null!==e.SequencingData.PrimaryObjective&&e.SequencingData.PrimaryObjective.Id===l.ActivityObjectives[r].Identifier&&(o=e.SequencingData.PrimaryObjective),null!==o&&(l.ActivityObjectives[r].SatisfiedByMeasure=o.SatisfiedByMeasure,l.ActivityObjectives[r].MinNormalizedMeasure=o.MinNormalizedMeasure,l.ActivityObjectives[r].Maps=o.Maps),s=l.ActivityObjectives[r].GetIdentifier(),null!==l.RunTime&&null!=s&&0<s.length&&null===l.RunTime.FindObjectiveWithId(s)&&(l.RunTime.AddObjective(),l.RunTime.Objectives[l.RunTime.Objectives.length-1].Identifier=s)}for(u=0;u<e.Children.length;u+=1)l.ChildActivities[u]=this.BuildActivity(t,e.Children[u],l,u+1);return l.StringIdentifier=l.toString(),l}function ActivityRepository_GetActivityByDatabaseId(t){var e;if(null===t||""===t)return null;for(e=0;e<this.ActivityList.length;e+=1)if(this.ActivityList[e].DatabaseId===t)return this.ActivityList[e];return Debug.AssertError("Searched for an activity by database id that did not exist."),null}function ActivityRepository_PreOrderTraversal(t,e){var i;for(e[e.length]=t,i=0;i<t.ChildActivities.length;i+=1)this.PreOrderTraversal(t.ChildActivities[i],e)}function ActivityRepository_GetSortedIndexOfActivity(t){for(var e=0;e<this.SortedActivityList.length;e+=1)if(this.SortedActivityList[e]===t)return e;return Debug.AssertError("Activity not found in sorted list of activities"),null}function ActivityRepository_Clone(){for(var t,e,i,n,r=new ActivityRepository,o=0;o<this.ActivityList.length;o+=1)t=this.ActivityList[o].Clone(),r.ActivityList[o]=t,r.ActivityListByIdentifier[t.GetItemIdentifier()]=t,null===this.ActivityList[o].ParentActivity&&(r.ActivityTree=r.ActivityList[o]);for(o=0;o<this.ActivityList.length;o+=1){for(i in e=this.ActivityList[o],t=r.ActivityList[o],null===e.ParentActivity?t.ParentActivity=null:t.ParentActivity=r.GetActivityFromIdentifier(e.ParentActivity.GetItemIdentifier()),e.ChildActivities)e.ChildActivities.hasOwnProperty(i)&&(t.ChildActivities[i]=r.GetActivityFromIdentifier(e.ChildActivities[i].GetItemIdentifier()));for(n in t.AvailableChildren=[],e.AvailableChildren)e.AvailableChildren.hasOwnProperty(n)&&(t.AvailableChildren[n]=r.GetActivityFromIdentifier(e.AvailableChildren[n].GetItemIdentifier()))}return r.PreOrderTraversal(r.ActivityTree,r.SortedActivityList),r}function ActivityRepository_TearDown(){var t;for(t in this.ActivityList)this.ActivityList.hasOwnProperty(t)&&(this.ActivityList[t].TearDown(),this.ActivityList[t]=null);this.ActivityList=null,this.ActivityTree=null,this.SortedActivityList=null}function ActivityRepository_SetSequencer(t,e){var i;for(i in this.ActivityList)this.ActivityList.hasOwnProperty(i)&&this.ActivityList[i].SetSequencer(t,e)}function ActivityRepository_GetActivityPath(t,e){var i=[],n=0;for(e&&(i[n]=t,n+=1);null!==t.ParentActivity;)t=t.ParentActivity,i[n]=t,n+=1;return i}function ActivityRepository_GetRootActivity(){for(var t=null,e=0;e<this.SortedActivityList.length;e+=1)if(null===this.SortedActivityList[e].ParentActivity){t=this.SortedActivityList[e];break}return t}function ActivityRepository_DoesActivityExist(t){return"undefined"!==this.ActivityListByIdentifier[t]&&null!==this.ActivityListByIdentifier[t]}function ActivityRepository_GetActivityFromIdentifier(t){return void 0!==this.ActivityListByIdentifier[t]&&null!==this.ActivityListByIdentifier[t]?this.ActivityListByIdentifier[t]:null}function ActivityRepository_GetParentActivity(t){var e=null;return null!==t&&(e=t.ParentActivity),e}function ActivityRepository_GetNumDeliverableActivities(){for(var t=0,e=0;e<this.ActivityList.length;e+=1)this.ActivityList[e].IsDeliverable()&&(t+=1);return t}ServerFormater.prototype.ConvertBoolean=ServerFormater_ConvertBoolean,ServerFormater.prototype.ConvertCompletionStatus=ServerFormater_ConvertCompletionStatus,ServerFormater.prototype.ConvertCredit=ServerFormater_ConvertCredit,ServerFormater.prototype.ConvertEntry=ServerFormater_ConvertEntry,ServerFormater.prototype.ConvertExit=ServerFormater_ConvertExit,ServerFormater.prototype.ConvertMode=ServerFormater_ConvertMode,ServerFormater.prototype.ConvertSuccessStatus=ServerFormater_ConvertSuccessStatus,ServerFormater.prototype.ConvertInteractionType=ServerFormater_ConvertInteractionType,ServerFormater.prototype.ConvertInteractionResult=ServerFormater_ConvertInteractionResult,ServerFormater.prototype.GetNumericInteractionResultId=ServerFormater_GetNumericInteractionResultId,ServerFormater.prototype.ConvertTimeSpan=ServerFormater_ConvertTimeSpan,ServerFormater.prototype.CleanupTimeStamp=ServerFormater_CleanupTimeStamp,ServerFormater.prototype.ConvertSSPAllocationSuccess=ServerFormater_ConvertSSPAllocationSuccess,ServerFormater.prototype.ConvertSSPPersistence=ServerFormater_ConvertSSPPersistence,ServerFormater.prototype.TrimToLength=ServerFormater_TrimToLength,StringBuilder.prototype={Append:function(t){this.Contents[this.CurrentEntry]=t,this.CurrentEntry+=1},AppendLine:function(t){this.Append(t+"\r\n")},toString:function(){return this.Contents.join("").trim()}},XmlElement.EncodeExceptQuote=function(t){return null!==t&&(t=t.replace(/&quot;/g,'"')),XmlElement.Encode(t)},XmlElement.Encode=function(t){return null!==(t=new String(t))&&(t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;"),t=0==="a".replace(/a/,function(){return""}).length?t.replace(/(\w|\W)/g,XmlElement.CharacterEscape):EscapeCharacters(t)),t},XmlElement.CharacterEscape=function(t,e){var i=e.charCodeAt(0);return 127<(i=new Number(i))?"&#x"+i.toString(16)+";":i<32?"&amp;#x"+i.toString(16)+";":e},XmlElement.prototype={AddAttribute:function(t,e){this.Attributes[t]=XmlElement.Encode(e)},AddElement:function(t){this.Elements[this.Elements.length]=t},toString:function(){var t,e,i=new StringBuilder(this.Attributes.length+this.Elements.length+2);for(t in i.Append("<"+this.ElementName+" "),this.Attributes)this.Attributes.hasOwnProperty(t)&&i.Append(t+'="'+this.Attributes[t]+'" ');if(0<this.Elements.length){for(i.AppendLine(">"),e=0;e<this.Elements.length;e+=1)i.AppendLine(this.Elements[e]);i.AppendLine("</"+this.ElementName+">")}else i.AppendLine("/>");return i.toString().trim()}},ActivityRepository.prototype={InitializeFromRegistration:ActivityRepository_InitializeFromRegistration,BuildActivity:ActivityRepository_BuildActivity,GetActivityByDatabaseId:ActivityRepository_GetActivityByDatabaseId,PreOrderTraversal:ActivityRepository_PreOrderTraversal,GetSortedIndexOfActivity:ActivityRepository_GetSortedIndexOfActivity,Clone:ActivityRepository_Clone,TearDown:ActivityRepository_TearDown,SetSequencer:ActivityRepository_SetSequencer,GetActivityPath:ActivityRepository_GetActivityPath,GetRootActivity:ActivityRepository_GetRootActivity,DoesActivityExist:ActivityRepository_DoesActivityExist,GetActivityFromIdentifier:ActivityRepository_GetActivityFromIdentifier,GetParentActivity:ActivityRepository_GetParentActivity,GetNumDeliverableActivities:ActivityRepository_GetNumDeliverableActivities};var DATA_STATE_CLEAN="C",DATA_STATE_DIRTY="D",DATA_STATE_POSTED="P",ASCII_QUESTION=63,ASCII_TILDA=126,ASCII_BANG=33,ASCII_PIPE=124,ASCII_SHIFT_IN=15,ASCII_0=48,ASCII_1=49,ASCII_2=50,ASCII_3=51,ASCII_4=52,ASCII_5=53,ASCII_6=54,ASCII_7=55,ASCII_8=56,ASCII_D=68,RESULT_UNKNOWN="unknown",EXIT_ACTION_EXIT_NO_CONFIRMATION="exit,no confirmation",EXIT_ACTION_EXIT_CONFIRMATION="exit,confirmation",EXIT_ACTION_GO_TO_NEXT_SCO="continue",EXIT_ACTION_DISPLAY_MESSAGE="message page",EXIT_ACTION_DO_NOTHING="do nothing",EXIT_ACTION_REFRESH_PAGE="refresh page",POSSIBLE_NAVIGATION_REQUEST_INDEX_START=0,POSSIBLE_NAVIGATION_REQUEST_INDEX_RESUME_ALL=1,POSSIBLE_NAVIGATION_REQUEST_INDEX_CONTINUE=2,POSSIBLE_NAVIGATION_REQUEST_INDEX_PREVIOUS=3,POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT=4,POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT_ALL=5,POSSIBLE_NAVIGATION_REQUEST_INDEX_SUSPEND_ALL=6,POSSIBLE_NAVIGATION_REQUEST_INDEX_ABANDON=7,POSSIBLE_NAVIGATION_REQUEST_INDEX_ABANDON_ALL=8,POSSIBLE_NAVIGATION_REQUEST_INDEX_CHOICE=9,LAUNCH_TYPE_FRAMESET="frameset",LAUNCH_TYPE_POPUP="new window",LAUNCH_TYPE_POPUP_AFTER_CLICK="new window,after click",LAUNCH_TYPE_POPUP_WITHOUT_BROWSER_TOOLBAR="new window without browser toolbar",LAUNCH_TYPE_POPUP_AFTER_CLICK_WITHOUT_BROWSER_TOOLBAR="new window,after click,without browser toolbar",LAUNCH_TYPE_POPUP_WITH_MENU="new window with menubar",STANDARD_SCORM_11="SCORM 1.1",STANDARD_SCORM_12="SCORM 1.2",STANDARD_SCORM_2004_2ND_EDITION="SCORM 2004 2nd Edition",STANDARD_SCORM_2004_3RD_EDITION="SCORM 2004 3rd Edition",STANDARD_SCORM_2004_4TH_EDITION="SCORM 2004 4th Edition",STANDARD_AICC="AICC",STANDARD_CMI5="cmi5",STANDARD_TINCAN="Tin Can",STANDARD_LTI11="LTI 1.1",STANDARD_LTI13="LTI 1.3",SCORM_2004_2ND_EDITION="SCORM 2004 2nd Edition",STANDARD_SCORM_2004="SCORM 2004 3rd Edition",SCORM_TYPE_SCO="SCO",SCORM_TYPE_ASSET="Asset",SCORM_TYPE_OBJECTIVE="Objective",SCORM_TYPE_AGGREGATION="Aggregation",STATUS_DISPLAY_SUCCESS_ONLY="success only",STATUS_DISPLAY_COMPLETION_ONLY="completion only",STATUS_DISPLAY_SEPERATE="separate",STATUS_DISPLAY_COMBINED="combined",STATUS_DISPLAY_NONE="none",STATUS_ROLLUP_METHOD_STATUS_PROVIDED_BY_COURSE="STATUS_PROVIDED_BY_COURSE",STATUS_ROLLUP_METHOD_COMPLETE_WHEN_ALL_UNITS_COMPLETE="COMPLETE_WHEN_ALL_UNITS_COMPLETE",STATUS_ROLLUP_METHOD_COMPLETE_WHEN_ALL_UNITS_COMPLETE_AND_NOT_FAILED="COMPLETE_WHEN_ALL_UNITS_COMPLETE_AND_NOT_FAILED",STATUS_ROLLUP_METHOD_COMPLETE_WHEN_THRESHOLD_SCORE_IS_MET="COMPLETE_WHEN_THRESHOLD_SCORE_IS_MET",STATUS_ROLLUP_METHOD_COMPLETE_WHEN_ALL_UNITS_COMPLETE_AND_THRESHOLD_SCORE_IS_MET="COMPLETE_WHEN_ALL_UNITS_COMPLETE_AND_THRESHOLD_SCORE_IS_MET",STATUS_ROLLUP_METHOD_COMPLETE_WHEN_ALL_UNITS_ARE_PASSED="COMPLETE_WHEN_ALL_UNITS_ARE_PASSED",SCORE_ROLLUP_METHOD_SCORE_PROVIDED_BY_COURSE="SCORE_PROVIDED_BY_COURSE",SCORE_ROLLUP_METHOD_AVERAGE_SCORE_OF_ALL_UNITS="AVERAGE_SCORE_OF_ALL_UNITS",SCORE_ROLLUP_METHOD_AVERAGE_SCORE_OF_ALL_UNITS_WITH_SCORES="AVERAGE_SCORE_OF_ALL_UNITS_WITH_SCORES",SCORE_ROLLUP_METHOD_FIXED_AVERAGE="FIXED_AVERAGE",SCORE_ROLLUP_METHOD_AVERAGE_SCORE_OF_ALL_UNITS_WITH_NONZERO_SCORES="AVERAGE_SCORE_OF_ALL_UNITS_WITH_NONZERO_SCORES",SCORE_ROLLUP_METHOD_LAST_SCO_SCORE="LAST_SCO_SCORE",RESET_RT_DATA_TIMING_NEVER="never",RESET_RT_DATA_TIMING_WHEN_EXIT_IS_NOT_SUSPEND="when exit is not suspend",RESET_RT_DATA_TIMING_ON_EACH_NEW_SEQUENCING_ATTEMPT="on each new sequencing attempt",INVALID_MENU_ITEM_ACTION_DISABLE="Disable",INVALID_MENU_ITEM_ACTION_HIDE="Hide",INVALID_MENU_ITEM_ACTION_SHOW_ENABLE="Show",LOOKAHEAD_SEQUENCER_MODE_DISABLE="DISABLED",LOOKAHEAD_SEQUENCER_MODE_ENABLE="ENABLED",LOOKAHEAD_SEQUENCER_MODE_REALTIME="REALTIME",COMMIT_SAVE_ON_COMPLETION_NOT_SET="not-set",COMMIT_SAVE_ON_COMPLETION_SET="set",COMMIT_SAVE_ON_COMPLETION_SAVED="saved",HASH_ALL_SCOS=-1,CommandSentry;function Controller(){if(this.ProcessedUnload=!1,this.MenuIsVisible=!1,this.Initialized=!1,this.ExitScormPlayerCalled=!1,this.FatalErrorEncountered=!1,this.SignalTerminatedPending=!1,this.PopupBlocked=!1,this.ExitDialogVisible=!1,this.ShouldSaveClientDebugLogs=!1,this.SendDebugLogsAsJson=!1,this.Initialize=Controller_Initialize,this.Unload=Controller_Unload,this.BeforeUnload=Controller_BeforeUnload,this.MustUnload=Controller_MustUnload,this.CreateMenuItem=Controller_CreateMenuItem,this.RenderMenuItem=Controller_RenderMenuItem,this.RedrawChildren=Controller_RedrawChildren,this.UpdateDisplay=Controller_UpdateDisplay,this.RefreshPage=Controller_RefreshPage,this.Activities=null,this.CheckTimeLimitIntervalId=null,this.IsUserOverTimeLimit=Controller_IsUserOverTimeLimit,this.ExitIfTimeLimitExceeded=Controller_ExitIfTimeLimitExceeded,this.BlockCourseEntryWithMessage=Controller_BlockCourseEntryWithMessage,this.ScoLoader=null,this.ScoUnloaded=Controller_ScoUnloaded,this.ExitScormPlayer=Controller_ExitScormPlayer,this.ExitSco=Controller_ExitSco,this.LastState=null,this.MarkPostedDataDirty=Controller_MarkPostedDataDirty,this.MarkPostedDataClean=Controller_MarkPostedDataClean,this.MarkDirtyDataPosted=Controller_MarkDirtyDataPosted,this.PrepareResultsPayload=Controller_PrepareResultsPayload,this.GetXmlForDirtyData=Controller_GetXmlForDirtyData,this.IsThereDirtyData=Controller_IsThereDirtyData,this.DoCommit=Controller_DoCommit,this.GetDeltaXmlForDirtyData=Controller_GetDeltaXmlForDirtyData,this.UpdateLastState=Controller_UpdateLastState,this.DisplayError=Controller_DisplayError,this.GetExceptionText=Controller_GetExceptionText,this.CheckForDebugCommand=Controller_CheckForDebugCommand,this.CloseSco=Controller_CloseSco,this.ReturnToLms=Controller_ReturnToLms,this.GetReturnToLmsNavigationRequest=Controller_GetReturnToLmsNavigationRequest,this.ToggleMenuVisibility=Controller_ToggleMenuVisibility,this.TriggerReturnToLMS=Controller_TriggerReturnToLMS,this.TriggerLegacyReturnToLMS=Controller_TriggerLegacyReturnToLMS,this.HideExitDialog=Controller_HideExitDialog,this.Next=Controller_Next,this.Previous=Controller_Previous,this.Abandon=Controller_Abandon,this.AbandonAll=Controller_AbandonAll,this.Suspend=Controller_Suspend,this.Exit=Controller_Exit,this.ExitAll=Controller_ExitAll,this.ChoiceRequest=Controller_ChoiceRequest,this.ScoHasTerminatedSoUnload=Controller_ScoHasTerminatedSoUnload,this.SignalTerminated=Controller_SignalTerminated,this.TranslateRunTimeNavRequest=Controller_TranslateRunTimeNavRequest,this.FindPossibleNavRequestForRuntimeNavRequest=Controller_FindPossibleNavRequestForRuntimeNavRequest,this.GetMessageText=Controller_GetMessageText,this.HandleRedirectIfRequired=Controller_HandleRedirectIfRequired,this.ClearPendingNavigationRequest=Controller_ClearPendingNavigationRequest,this.IsThereAPendingNavigationRequest=Controller_IsThereAPendingNavigationRequest,this.PendingNavigationRequest=null,this.GetPreferredReturnToLmsAction=Controller_GetPreferredReturnToLmsAction,this.UpdateGlobalLearnerPrefs=Controller_UpdateGlobalLearnerPrefs,this.Sequencer=null,this.LookAheadSequencer=null,this.DeliverActivity=Controller_DeliverActivity,this.PerformDelayedDeliveryInitialization=Controller_PerformDelayedDeliveryInitialization,this.PossibleNavigationRequests=[],this.InitializePossibleNavigationRequests=Controller_InitializePossibleNavigationRequests,this.EvaluatePossibleNavigationRequests=Controller_EvaluatePossibleNavigationRequests,this.FindPossibleChoiceRequestForActivity=Controller_FindPossibleChoiceRequestForActivity,this.GetPossibleContinueRequest=Controller_GetPossibleContinueRequest,this.GetPossiblePreviousRequest=Controller_GetPossiblePreviousRequest,this.IsTargetValid=Controller_IsTargetValid,this.ParseTargetStringIntoActivity=Controller_ParseTargetStringIntoActivity,this.IsChoiceRequestValid=Controller_IsChoiceRequestValid,this.IsJumpRequestValid=Controller_IsJumpRequestValid,this.IsContinueRequestValid=Controller_IsContinueRequestValid,this.IsPreviousRequestValid=Controller_IsPreviousRequestValid,this.ParseTargetStringFromChoiceRequest=Controller_ParseTargetStringFromChoiceRequest,this.CloneSequencer=Controller_CloneSequencer,this.TearDownSequencer=Controller_TearDownSequencer,this.Api=null,this.WriteAuditLog=Controller_WriteAuditLog,this.WriteDetailedLog=Controller_WriteDetailedLog,this.WriteDetailedLogError=Controller_WriteDetailedLogError,this.WriteHistoryLog=Controller_WriteHistoryLog,this.WriteHistoryReturnValue=Controller_WriteHistoryReturnValue,this.GetLaunchHistoryId=Controller_GetLaunchHistoryId,this.SSPBuckets=null,this.NoOpRedirectMsg="",this.CompressionIndicatorToken="<COMP2>",null===IntegrationImplementation.GetHtmlElementToInsertMenuWithin())throw new Error("IntegrationImplementation.GetHtmlElementToInsertMenuWithin() returned null")}function checkForDeprecatedIntegrationFunctions(){if(void 0!==IntegrationImplementation.PopulateMenuItemDivTag)throw new Error("Deprecated function in integration 'PopulateMenuItemDivTag' replace with 'PopulateMenuItemElement'")}function BuildFullUrl(t,e){for(var i=-1<e.indexOf("?")?e.substr(0,e.indexOf("?")):e,n=e.substr(0,i.lastIndexOf("/"));-1<t.indexOf("../");)t=t.substr(3,t.length),n=n.substr(0,n.lastIndexOf("/"));return n+"/"+t}function Controller_Initialize(t){var e,i,n,r=rscpCfg.get("intermediatePage").clone(),o=rscpCfg.get("popupLauncherPage").clone(),s=rscpCfg.get("registrationToDeliver"),a=rscpCfg.get("intermediatePageLoadAtStart"),u=this;try{this.WriteAuditLog("Control Initialize"),rscpCfg.get("shouldSaveClientDebugLogs")&&(this.ShouldSaveClientDebugLogs=!0),rscpCfg.get("sendDebugLogsAsJson")&&(this.SendDebugLogsAsJson=!0),this.Api=t,this.Package=s.Package,this.Activities=new ActivityRepository,this.Activities.InitializeFromRegistration(s,rscpCfg.get("querystringAdditions")),this.Sequencer=new Sequencer(!1,this.Activities),this.Sequencer.GlobalObjectives=s.GlobalObjectives,this.Sequencer.SharedData=s.SharedData,this.Sequencer.Activities.SetSequencer(this.Sequencer,!1),this.SSPBuckets=s.SSPBuckets,this.SharedData=s.SharedData,this.DeliverFramesetUnloadEventCalled=!1,rscpCfg.get("sspEnabled")&&null!=this.Api.SSPApi&&this.Api.SSPApi.InitializeBuckets(),!0===rscpCfg.get("useDeltaRecordResultsPayload")&&this.UpdateLastState(this.GetXmlForDirtyData(!0)),this.InitializePossibleNavigationRequests(),e=this.Activities.GetActivityByDatabaseId(s.SuspendedActivity),this.Sequencer.SetSuspendedActivity(e),this.Sequencer.InitialRandomizationAndSelection(),this.CreateMenuItem(null,this.Activities.ActivityTree,IntegrationImplementation.GetDocumentObjectForMenu()),this.RenderMenuItem(this.Activities.ActivityTree),IntegrationImplementation.SetMenuToggleVisibility(this.Package.Properties.ShowCourseStructure),!0===this.Package.Properties.ShowCourseStructure&&!0===this.Package.Properties.CourseStructureStartsOpen?this.ToggleMenuVisibility():IntegrationImplementation.HideMenu(),this.LookAheadSequencer=new Sequencer(!0,this.Sequencer.Activities.Clone()),this.LookAheadSequencer.Activities.SetSequencer(this.LookAheadSequencer,!0),this.Comm=new Communications,checkForDeprecatedIntegrationFunctions(),""===rscpCfg.get("extRegId")||this.Package.LearningStandard.isAICC()||this.Package.LearningStandard.isCmi5()||this.Package.LearningStandard.isTinCan()||this.Package.LearningStandard.isLti()?this.Comm.Disable():this.Comm.SendDispatchMessagesIfNeeded(!0),this.Comm.StartPostDataProcess(),this.Comm.StartWatchProcess(),i=window.location.toString(),r.PageHref=BuildFullUrl(r.PageHref,i),o.PageHref=BuildFullUrl(o.PageHref,i),this.ScoLoader=new ScoLoader(r,o,rscpCfg.get("pathToCourse"),s.Package.Properties.ScoLaunchType,s.Package.Properties.WrapScoWindowWithApi,s.Package.LearningStandard),this.Initialized=!0,0<this.Package.Properties.TimeLimit&&this.IsUserOverTimeLimit()?(this.WriteAuditLog("Time limit exceeded, blocking entry to course"),this.BlockCourseEntryWithMessage(IntegrationImplementation.GetString("The time limit for this course has been exceeded."))):window.setTimeout(function(){u.Sequencer.Start(),u.EvaluatePossibleNavigationRequests(),0<u.Package.Properties.TimeLimit&&(u.CheckTimeLimitIntervalId=setInterval(function(){Control.ExitIfTimeLimitExceeded()},5e3))},a?200:1)}catch(t){n="Controller_Initialize Error: ",void 0!==s&&void 0!==s.Id&&(n=n+"RegistrationId: "+s.Id+", ");try{this.Comm.LogOnServer(n,t)}catch(t){}throw this.WriteDetailedLogError(n+t),Control.DisplayError("A fatal error has occurred during player initialization. Exiting."),this.FatalErrorEncountered=!0,Control.Package.Properties.PlayerLaunchType===LAUNCH_TYPE_FRAMESET?Control.HandleRedirectIfRequired(window):(window.opener&&null!==window.opener&&!1===window.opener.closed&&Control.HandleRedirectIfRequired(window.opener),window.close()),t}}function Controller_MustUnload(){return this.ExitScormPlayerCalled||this.FatalErrorEncountered}function Controller_BeforeUnload(){return!this.MustUnload()&&rscpCfg.get("shouldPromptOnClose")?IntegrationImplementation.GetString("Leaving this page may result in lost progress."):this.Unload()}function Controller_Unload(){var e,t,i,n,r,o,s,a,u,l,c,d,h=rscpCfg.get("registrationToDeliver");try{if(this.WriteAuditLog("Control Unload: this.ProcessedUnload="+this.ProcessedUnload+", this.ExitScormPlayerCalled="+this.ExitScormPlayerCalled+", this.Api.NeedToCloseOutSession()="+this.Api.NeedToCloseOutSession()),this.DeliverFramesetUnloadEventCalled||this.RefreshPageForAiccCalled)return;this.DeliverFramesetUnloadEventCalled=!0,null!==this.Api&&null!==this.Api.RunTimeData&&this.Api.RunTimeData.NavRequest===SCORM_RUNTIME_NAV_REQUEST_NONE&&(this.Sequencer.ReturnToLmsInvoked=!0),this.ScoLoader.UnloadSco(),this.WriteHistoryLog("",{ev:"Unload"}),"undefined"!=typeof GetCurrentConfigurationJs&&(localStorage.configurationJs=GetCurrentConfigurationJs(),localStorage.runtimeXml=Control.GetXmlForDirtyData()),this.ScoLoader.ScoLoaded&&!this.PopupBlocked&&(t=new Sequencer(!1,this.Sequencer.Activities.Clone()),i=this.Sequencer.CurrentActivity,n=this.Api.RunTimeData.SessionTime,r=this.Api.RunTimeData.TotalTime,o=this.Api.RunTimeData.TotalTimeTracked,s=this.Api.RunTimeData.Entry,a=this.Api.RunTimeData.CompletionStatus,u=this.Api.RunTimeData.CompletionStatusChangedDuringRuntime,l=this.Api.RunTimeData.SuccessStatus,c=this.Api.RunTimeData.SuccessStatusChangedDuringRuntime,d=this.Api.RunTimeData.NavRequest,1===this.Activities.GetNumDeliverableActivities()?this.PendingNavigationRequest=this.GetReturnToLmsNavigationRequest("exit_all"):this.PendingNavigationRequest=this.GetReturnToLmsNavigationRequest("suspend_all"),this.ScoUnloaded("Unload()"),this.Sequencer=t,this.Sequencer.CurrentActivity=i,this.Api.RunTimeData.SessionTime=n,this.Api.RunTimeData.TotalTime=r,this.Api.RunTimeData.TotalTimeTracked=o,this.Api.RunTimeData.Entry=s,this.Api.RunTimeData.CompletionStatus=a,this.Api.RunTimeData.CompletionStatusChangedDuringRuntime=u,this.Api.RunTimeData.SuccessStatus=l,this.Api.RunTimeData.SuccessStatusChangedDuringRuntime=c,this.Api.RunTimeData.NavRequest=d,this.Api.CloseOutSessionCalled=!1,this.ScoLoader.ScoLoaded=!0,this.SignalTerminatedPending&&(this.Api.CloseOutSessionCalled=!0,this.SignalTerminated())),this.ExitScormPlayerCalled||this.ExitScormPlayer("Unload()"),this.ExitScormPlayerCalled=!1,this.ProcessedUnload=!0}catch(t){throw e="Controller_Unload Error: ",void 0!==h&&void 0!==h.Id&&(e=e+"RegistrationId: "+h.Id+", "),this.Comm.LogOnServer(e,t),t}}function Controller_CreateMenuItem(t,e,i){var n,r;for(r in e.MenuItem=new MenuItem(t,e,i),null!==t&&(t.Children[t.Children.length]=e.MenuItem),n=e.GetAvailableChildren())n.hasOwnProperty(r)&&this.CreateMenuItem(e.MenuItem,n[r],i)}function Controller_RenderMenuItem(t){var e,i;for(i in t.MenuItem.Render(t),e=t.GetAvailableChildren())e.hasOwnProperty(i)&&this.RenderMenuItem(e[i])}function Controller_RedrawChildren(t){t.MenuItem.ResynchChildren(t),this.RenderMenuItem(t)}function Controller_UpdateDisplay(t,e){var i,n,r,o,s,a,u,l=this.WriteAuditLog("Control Update Display"),c=0;for(r in this.Package.Properties.LookaheadSequencerMode===LOOKAHEAD_SEQUENCER_MODE_DISABLE?e=t=!1:(null==t&&(t=!1),null==e&&(e=!1)),this.WriteDetailedLog("Updating display for each menu item",l),this.Sequencer.Activities.ActivityList)this.Sequencer.Activities.ActivityList.hasOwnProperty(r)&&(n=e?this.LookAheadSequencer.Activities.ActivityList[r]:this.Sequencer.Activities.ActivityList[r],i=t?this.FindPossibleChoiceRequestForActivity(this.LookAheadSequencer.Activities.ActivityList[r]):this.FindPossibleChoiceRequestForActivity(this.Sequencer.Activities.ActivityList[r]),n.SetHiddenFromChoice(i.Hidden),null!==(o=this.Sequencer.Activities.ActivityList[r].MenuItem)&&(o.UpdateStateDisplay(n,this.Sequencer.CurrentActivity,i,e),o.Visible&&(c+=1)));if(0<c&&null!==this.Sequencer.CurrentActivity&&!1===(s=this.Sequencer.CurrentActivity.MenuItem).Visible&&!0===s.CurrentDisplayState.ActiveDisplayed)for(a=this.Sequencer.CurrentActivity.ParentActivity,u=!1;null!==a&&!1===u;)!0===a.MenuItem.Visible?(i=t?this.FindPossibleChoiceRequestForActivity(this.LookAheadSequencer.Activities.ActivityList[r]):this.FindPossibleChoiceRequestForActivity(this.Sequencer.Activities.ActivityList[r]),a.MenuItem.UpdateStateDisplay(a,a,i,e),u=!0):a=a.ParentActivity;this.WriteDetailedLog("Calling Integration Implementation UpdateControl State",l),IntegrationImplementation.UpdateControlState(IntegrationImplementation.GetDocumentObjectForControls(),this.PossibleNavigationRequests,this.Sequencer.GetCurrentActivity()),e?IntegrationImplementation.UpdateProgressBar(IntegrationImplementation.GetDocumentObjectForControls(),this.LookAheadSequencer.GetCurrentActivity()):IntegrationImplementation.UpdateProgressBar(IntegrationImplementation.GetDocumentObjectForControls(),this.Sequencer.GetCurrentActivity()),0===c?!0===this.MenuIsVisible&&this.ToggleMenuVisibility():!0===this.Package.Properties.ShowCourseStructure&&!0===this.Package.Properties.CourseStructureStartsOpen&&!1===this.MenuIsVisible&&this.ToggleMenuVisibility(),void 0!==IntegrationImplementation.OverrideMenuLookAndFeel&&IntegrationImplementation.OverrideMenuLookAndFeel(IntegrationImplementation.GetDocumentObjectForMenu()),this.WriteDetailedLog("Exiting Control Update Display",l)}function Controller_RefreshPage(){var t=0,e=window;for(this.RefreshPageForAiccCalled=!0;null===e.Control&&null!==e.parent&&e.parent!==e&&t<=500;)t+=1,e=e.parent;void 0===e.Control||null===e.Control?Debug.AssertError("Could not locate the top level window."):e.location.replace(e.location)}function Controller_ScoUnloaded(t){var e,i,n=this.WriteAuditLog("Control ScoUnloaded called by "+t);if(this.WriteHistoryLog("",{ev:"ScoUnloaded"}),!1!==this.Initialized){if(this.ScoLoader.ScoLoaded=!1,null!==this.Api.Activity&&this.Api.NeedToCloseOutSession()&&this.Api.Initialized&&(this.Api.CloseOutSession("ScoUnloaded() because apparently Finish/Terminate wasn't called"),this.Api.SetDirtyData()),null!==this.Api.Activity&&this.Api.Activity.LearningObject.ScormType===SCORM_TYPE_ASSET&&this.Api.Activity.WasLaunchedThisSession())for(this.Api.AccumulateTotalTimeTracked(),this.WriteDetailedLog("New Tracked Total Time for Asset: "+this.Api.RunTimeData.TotalTimeTracked),e=this.Sequencer.Activities.GetActivityPath(this.Api.Activity,!1),i=0;i<e.length;i+=1)e[i].RollupDurations();null===this.PendingNavigationRequest&&null!==this.Api&&null!==this.Api.RunTimeData&&this.Api.RunTimeData.NavRequest!==SCORM_RUNTIME_NAV_REQUEST_NONE&&(this.WriteDetailedLog("API Runtime Nav Request Detected = "+this.Api.RunTimeData.NavRequest,n),this.PendingNavigationRequest=this.TranslateRunTimeNavRequest(this.Api.RunTimeData.NavRequest)),this.Sequencer.NavigationRequest=this.PendingNavigationRequest,this.ClearPendingNavigationRequest(),void 0!==IntegrationImplementation.PreOverallSequencingProcess&&null!==IntegrationImplementation.PreOverallSequencingProcess&&IntegrationImplementation.PreOverallSequencingProcess&&IntegrationImplementation.PreOverallSequencingProcess(),this.Sequencer.OverallSequencingProcess(),!1!==this.ExitScormPlayerCalled||this.DeliverFramesetUnloadEventCalled||(this.EvaluatePossibleNavigationRequests(),this.Comm.KillPostDataProcess(),this.Comm.SaveData(!0,!1),this.Comm.StartPostDataProcess())}}function Controller_ExitScormPlayer(){if(this.ExitScormPlayerCalled=!0,Debug.ShowDebugLogAtExit&&Debug.DataIsAvailable()&&Debug.ShowAllAvailableData(),this.Comm.SaveDataOnExit(),$("html").trigger(new jQuery.Event("_playerExit")),this.ShouldSaveClientDebugLogs&&rscpCfg.get("registrationToDeliver").TrackingEnabled&&this.Comm.SaveDebugLog(!0),!this.ProcessedUnload)if(this.Package.Properties.PlayerLaunchType===LAUNCH_TYPE_FRAMESET)try{Control.HandleRedirectIfRequired(window)}catch(t){}else if(!this.PopupBlocked){try{window.opener&&null!==window.opener&&!1===window.opener.closed&&Control.HandleRedirectIfRequired(window.opener)}catch(t){}try{window.close()}catch(t){}}}function Controller_ExitSco(){this.ScoLoader.UnloadSco()}function Controller_MarkPostedDataDirty(){var t,e,i;for(t in this.WriteAuditLog("Control MarkPostedDataDirty"),this.Activities.ActivityList)this.Activities.ActivityList.hasOwnProperty(t)&&(this.Activities.ActivityList[t].DataState===DATA_STATE_POSTED&&(this.Activities.ActivityList[t].DataState=DATA_STATE_DIRTY),this.Activities.ActivityList[t].MarkPostedObjectiveDataDirty());if(void 0!==this.Sequencer.GlobalObjectives&&null!==this.Sequencer.GlobalObjectives)for(e in this.Sequencer.GlobalObjectives)this.Sequencer.GlobalObjectives.hasOwnProperty(e)&&this.Sequencer.GlobalObjectives[e].DataState===DATA_STATE_POSTED&&(this.Sequencer.GlobalObjectives[e].DataState=DATA_STATE_DIRTY);for(i in this.SSPBuckets)this.SSPBuckets.hasOwnProperty(i)&&this.SSPBuckets[i].DataState===DATA_STATE_POSTED&&(this.SSPBuckets[i].DataState=DATA_STATE_DIRTY)}function Controller_MarkPostedDataClean(){var t,e,i;for(t in this.WriteAuditLog("Control MarkPostedDataClean"),this.Activities.ActivityList)this.Activities.ActivityList.hasOwnProperty(t)&&(this.Activities.ActivityList[t].DataState===DATA_STATE_POSTED&&(this.Activities.ActivityList[t].DataState=DATA_STATE_CLEAN),this.Activities.ActivityList[t].MarkPostedObjectiveDataClean());if(void 0!==this.Sequencer.GlobalObjectives&&null!==this.Sequencer.GlobalObjectives)for(e in this.Sequencer.GlobalObjectives)this.Sequencer.GlobalObjectives.hasOwnProperty(e)&&this.Sequencer.GlobalObjectives[e].DataState===DATA_STATE_POSTED&&(this.Sequencer.GlobalObjectives[e].DataState=DATA_STATE_CLEAN);for(i in this.SSPBuckets)this.SSPBuckets.hasOwnProperty(i)&&this.SSPBuckets[i].DataState===DATA_STATE_POSTED&&(this.SSPBuckets[i].DataState=DATA_STATE_CLEAN)}function Controller_MarkDirtyDataPosted(){var t,e,i;for(t in this.WriteAuditLog("Control MarkDirtyDataPosted"),this.Activities.ActivityList)this.Activities.ActivityList.hasOwnProperty(t)&&(this.Activities.ActivityList[t].IsAnythingDirty()&&(this.Activities.ActivityList[t].DataState=DATA_STATE_POSTED),this.Activities.ActivityList[t].MarkDirtyObjectiveDataPosted());if(void 0!==this.Sequencer.GlobalObjectives&&null!==this.Sequencer.GlobalObjectives)for(e in this.Sequencer.GlobalObjectives)this.Sequencer.GlobalObjectives.hasOwnProperty(e)&&this.Sequencer.GlobalObjectives[e].DataState===DATA_STATE_DIRTY&&(this.Sequencer.GlobalObjectives[e].DataState=DATA_STATE_POSTED);for(i in this.SSPBuckets)this.SSPBuckets.hasOwnProperty(i)&&this.SSPBuckets[i].DataState===DATA_STATE_DIRTY&&(this.SSPBuckets[i].DataState=DATA_STATE_POSTED)}function Controller_PrepareResultsPayload(t){return!0===rscpCfg.get("compressRecordResultsPayload")?this.CompressionIndicatorToken+LZString.compressToBase64(t):t}function Controller_UpdateLastState(t){this.LastState=GetUpdatedLastState(this.LastState,t,this.CompressionIndicatorToken)}function Controller_GetDeltaXmlForDirtyData(t){var e={},i=rscpCfg.get("registrationToDeliver");return null===this.LastState?t:(e.DELTA="true",e.RI=i.Id,e.TR=i.TrackingEnabled,null!==this.Sequencer.GetSuspendedActivity()&&(e.SAI=this.Sequencer.GetSuspendedActivity().GetDatabaseIdentifier()),null!==this.GetLaunchHistoryId()&&(e.LH=this.GetLaunchHistoryId()),BuildXmlForDirtyData(this.LastState,t,e,XmlElement.EncodeExceptQuote))}function Controller_GetXmlForDirtyData(t){var e,i,n,r,o,s,a,u,l,c,d,h,p=new ServerFormater,f=new XmlElement("RTD"),g=rscpCfg.get("registrationToDeliver");if(this.WriteAuditLog("Control GetXmlForDirtyData"),f.AddAttribute("RI",g.Id),null!==this.Sequencer.GetSuspendedActivity()&&f.AddAttribute("SAI",this.Sequencer.GetSuspendedActivity().GetDatabaseIdentifier()),null!==this.GetLaunchHistoryId()&&f.AddAttribute("LH",this.GetLaunchHistoryId()),f.AddAttribute("TR",g.TrackingEnabled),g.TrackingEnabled)for(e in this.Activities.ActivityList)this.Activities.ActivityList.hasOwnProperty(e)&&(t||this.Activities.ActivityList[e].IsAnythingDirty()||this.Activities.ActivityList[e].DataState===DATA_STATE_POSTED)&&f.AddElement(this.Activities.ActivityList[e].GetXml());if(g.TrackingEnabled&&!t){if(void 0!==this.Sequencer.GlobalObjectives&&null!==this.Sequencer.GlobalObjectives)for(i in this.Sequencer.GlobalObjectives)this.Sequencer.GlobalObjectives.hasOwnProperty(i)&&((n=this.Sequencer.GlobalObjectives[i].DataState)!==DATA_STATE_DIRTY&&n!==DATA_STATE_POSTED||f.AddElement(this.Sequencer.GlobalObjectives[i].GetXml(g.Id,i)));for(r in this.SSPBuckets)this.SSPBuckets.hasOwnProperty(r)&&(this.SSPBuckets[r].DataState!==DATA_STATE_DIRTY&&this.SSPBuckets[r].DataState!==DATA_STATE_POSTED||f.AddElement(this.SSPBuckets[r].GetXml()));for(o in this.SharedData)this.SharedData.hasOwnProperty(o)&&(this.SharedData[o].DataState!==DATA_STATE_DIRTY&&this.SharedData[o].DataState!==DATA_STATE_POSTED||f.AddElement(this.SharedData[o].GetXml()))}if(d='<RTL version="" />',t)f.AddElement(d);else try{(s=HistoryLog.GetSerializedLog()).AddAttribute("trackingEnabled",g.TrackingEnabled.toString()),f.AddElement(s)}catch(t){f.AddElement(d),f.AddElement("<RTL_ERROR>There was an error attaching the history log to this XML, see Controller_GetXmlForDirtyData ("+t+")</RTL_ERROR>")}return a=this.Activities.GetRootActivity(),u=new XmlElement("RS"),l=a.GetPrimaryObjective().ProgressStatus?a.GetPrimaryObjective().SatisfiedStatus?"passed":"failed":"unknown",u.AddAttribute("SS",l),c=a.AttemptProgressStatus?a.AttemptCompletionStatus?"complete":"incomplete":"unknown",u.AddAttribute("CS",c),u.AddAttribute("MS",p.ConvertBoolean(a.GetPrimaryObjective().MeasureStatus)),u.AddAttribute("NM",a.GetPrimaryObjective().NormalizedMeasure),u.AddAttribute("ED",p.ConvertTimeSpan(a.ActivityExperiencedDurationTracked)),f.AddElement(u),h=f.toString(),!0===rscpCfg.get("useDeltaRecordResultsPayload")&&(h=this.GetDeltaXmlForDirtyData(h)),this.PrepareResultsPayload('<?xml version="1.0"?>\n'+h)}function Controller_IsThereDirtyData(){var t,e,i,n;for(t in this.WriteAuditLog("Control IsThereDirtyData"),this.Activities.ActivityList)if(this.Activities.ActivityList.hasOwnProperty(t)&&(this.Activities.ActivityList[t].IsAnythingDirty()||this.Activities.ActivityList[t].DataState===DATA_STATE_POSTED))return!0;if(void 0!==this.Sequencer.GlobalObjectives&&null!==this.Sequencer.GlobalObjectives)for(e in this.Sequencer.GlobalObjectives)if(this.Sequencer.GlobalObjectives.hasOwnProperty(e)&&((i=this.Sequencer.GlobalObjectives[e].DataState)===DATA_STATE_DIRTY||i===DATA_STATE_POSTED))return!0;for(n in this.SSPBuckets)if(this.SSPBuckets.hasOwnProperty(n)&&(this.SSPBuckets[n].DataState===DATA_STATE_DIRTY||this.SSPBuckets[n].DataState===DATA_STATE_POSTED))return!0;return!1}function Controller_DoCommit(t,e){var i=rscpCfg.get("scormImmediateSyncCommit");return!(!0===i||e&&!this.DeliverFramesetUnloadEventCalled)||this.Comm.SaveDataNow(!1,i)}function Controller_DisplayError(t){var e,i;if(this.WriteAuditLog("Control DisplayError - "+t),e=IntegrationImplementation.GetString(t),Debug.DataIsAvailable()&&rscpCfg.get("clientDebuggerEnabled"))i=IntegrationImplementation.GetString("Press 'OK' to display debug information to send to technical support, or press 'Cancel' to exit."),confirm(e+"\n\n"+i)&&Debug.ShowAllAvailableData();else if("new window"===this.Package.Properties.ScoLaunchType)try{this.ScoLoader.ContentFrame.scoWindow.alert(e)}catch(t){alert(e)}else alert(e)}function Controller_GetExceptionText(){return"undefined"!=typeof Debug&&this.WriteAuditLog("Control GetExceptionText"),void 0!==this.Sequencer&&null!==this.Sequencer?this.Sequencer.GetExceptionText():""}function Controller_CheckForDebugCommand(t){window.top.DebugCommandSentry.enterKeyCode(t)}function Controller_CloseSco(){this.WriteAuditLog("Control Recieved Close Sco From GUI"),null===this.PendingNavigationRequest&&(!0===this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT].WillSucceed?this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_EXIT,null,""):!0===this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_ABANDON]&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_ABANDON,null,""))),this.WriteHistoryLog("",{ev:"GUI Close",ac:this.PendingNavigationRequest.Type}),this.ScoLoader.UnloadSco()}function Controller_ReturnToLms(t){this.WriteAuditLog("Control Received Return To Lms From GUI"),this.Sequencer.ReturnToLmsInvoked=!0,null==t&&(t=this.GetPreferredReturnToLmsAction()),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=this.GetReturnToLmsNavigationRequest(t)),this.WriteHistoryLog("",{ev:"GUI ReturnToLms",ac:this.PendingNavigationRequest.Type}),this.ScoLoader.UnloadSco()}function Controller_GetReturnToLmsNavigationRequest(t){var e,i=!1,n=!1,r=!1;if(null!==this.Sequencer.CurrentActivity&&(i=this.Sequencer.CurrentActivity.LearningObject.SequencingData.HideSuspendAll,n=this.Sequencer.CurrentActivity.LearningObject.SequencingData.HideAbandonAll,r=this.Sequencer.CurrentActivity.LearningObject.SequencingData.HideExitAll),e=n&&r&&i,1===this.Activities.GetNumDeliverableActivities()){if(!1===r&&!0===this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT_ALL].WillSucceed)return new NavigationRequest(NAVIGATION_REQUEST_EXIT_ALL,null,"");if(!1===i&&!0===this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_SUSPEND_ALL].WillSucceed)return new NavigationRequest(NAVIGATION_REQUEST_SUSPEND_ALL,null,"")}else if("exit_all"===t){if((!1===r||e)&&!0===this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT_ALL].WillSucceed)return new NavigationRequest(NAVIGATION_REQUEST_EXIT_ALL,null,"")}else if("suspend_all"===t&&(!1===i||e)&&!0===this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_SUSPEND_ALL].WillSucceed)return new NavigationRequest(NAVIGATION_REQUEST_SUSPEND_ALL,null,"");return!1===n&&!0===this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_ABANDON_ALL].WillSucceed?new NavigationRequest(NAVIGATION_REQUEST_ABANDON_ALL,null,""):new NavigationRequest(NAVIGATION_REQUEST_EXIT_PLAYER,null,"")}function Controller_ToggleMenuVisibility(){this.WriteAuditLog("Control ToggleMenuVisibility"),!0===this.MenuIsVisible?(IntegrationImplementation.HideMenu(),this.MenuIsVisible=!1):(IntegrationImplementation.ShowMenu(this.Package.Properties.CourseStructureWidth),this.MenuIsVisible=!0)}function Controller_HideExitDialog(){IntegrationImplementation.HideExitDialog(),this.ExitDialogVisible=!1}function Controller_TriggerReturnToLMS(){var t=!1,e=!1,i=!1,n=this.WriteAuditLog("Control TriggerReturnToLMS");null!==this.Sequencer.CurrentActivity&&(t=this.Sequencer.CurrentActivity.LearningObject.SequencingData.HideSuspendAll,e=this.Sequencer.CurrentActivity.LearningObject.SequencingData.HideExitAll,i=this.Sequencer.CurrentActivity.LearningObject.SequencingData.HideAbandonAll),!0===t||!0===e?!0===t?!0===e?!0===i?this.WriteDetailedLog("The Return To LMS button should not be available for selection.",n):this.ReturnToLms("abandon_all"):this.ReturnToLms("exit_all"):this.ReturnToLms("suspend_all"):this.Package.LearningStandard.is2004()?"selectable"===this.Package.Properties.ReturnToLmsAction?!1===this.ExitDialogVisible&&(this.ExitDialogVisible=!0,IntegrationImplementation.ShowExitDialog()):"legacy"===this.Package.Properties.ReturnToLmsAction?this.TriggerLegacyReturnToLMS():this.ReturnToLms(this.Package.Properties.ReturnToLmsAction):("legacy"!==this.Package.Properties.ReturnToLmsAction&&this.WriteDetailedLogError("Package had non-legacy setting for ReturnToLMS, but does not use SCORM 2004"),this.TriggerLegacyReturnToLMS())}function Controller_TriggerLegacyReturnToLMS(){1===this.Activities.GetNumDeliverableActivities()?this.ReturnToLms("exit_all"):this.ReturnToLms("suspend_all")}function Controller_Next(){this.WriteAuditLog("Control Recieved Next Request From GUI"),this.WriteHistoryLog("",{ev:"GUI Continue"}),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_CONTINUE,null)),this.ScoLoader.UnloadSco()}function Controller_Previous(){this.WriteAuditLog("Control Recieved Previous Request From GUI"),this.WriteHistoryLog("",{ev:"GUI Previous"}),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_PREVIOUS,null,"")),this.ScoLoader.UnloadSco()}function Controller_Abandon(){this.WriteAuditLog("Control Recieved Abandon Request From GUI"),this.WriteHistoryLog("",{ev:"GUI Abandon"}),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_ABANDON,null,"")),this.ScoLoader.UnloadSco()}function Controller_AbandonAll(){this.WriteAuditLog("Control Recieved Abandon All Request From GUI"),this.WriteHistoryLog("",{ev:"GUI AbandonAll"}),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_ABANDON_ALL,null,"")),this.ScoLoader.UnloadSco()}function Controller_Suspend(){this.WriteAuditLog("Control Recieved Suspend Request From GUI"),this.WriteHistoryLog("",{ev:"GUI Suspend"}),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_SUSPEND_ALL,null,"")),this.ScoLoader.UnloadSco()}function Controller_Exit(){this.WriteAuditLog("Control Recieved Exit Request From GUI"),this.WriteHistoryLog("",{ev:"GUI Exit"}),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_EXIT,null,"")),this.ScoLoader.UnloadSco()}function Controller_ExitAll(){this.WriteAuditLog("Control Recieved Exit All Request From GUI"),this.WriteHistoryLog("",{ev:"GUI ExitAll"}),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_EXIT_ALL,null,"")),this.ScoLoader.UnloadSco()}function Controller_ChoiceRequest(t){var e,i={ev:"GUI Choice"};this.WriteAuditLog("Control Recieved Choice Request For '"+t+"' From GUI"),this.Activities&&(e=this.Activities.GetActivityFromIdentifier(t))&&(i.tai=e.ItemIdentifier,i.tat=e.LearningObject.Title),this.WriteHistoryLog("",i),null===this.PendingNavigationRequest&&(this.PendingNavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_CHOICE,t,"")),this.ScoLoader.UnloadSco()}function Controller_ScoHasTerminatedSoUnload(){this.WriteAuditLog("In ScoHasTerminatedSoUnload"),this.ScoLoader.UnloadSco()}function Controller_SignalTerminated(){var t=this.Api.RunTimeData,e=!1;this.DeliverFramesetUnloadEventCalled&&(e=!0,this.ScoLoader.ScoLoaded?(1===this.Activities.GetNumDeliverableActivities()?this.PendingNavigationRequest=this.GetReturnToLmsNavigationRequest("exit_all"):this.PendingNavigationRequest=this.GetReturnToLmsNavigationRequest("suspend_all"),this.ScoUnloaded("SignalTerminated()"),this.ExitScormPlayerCalled||this.ExitScormPlayer("SignalTerminated()")):this.SignalTerminatedPending=!0),(this.PendingNavigationRequest||t&&t.NavRequest!==SCORM_RUNTIME_NAV_REQUEST_NONE)&&(e=!0),e||!0!==rscpCfg.get("rollupOnTerminate")||"function"!=typeof this.Sequencer.TriggerRollup||this.Sequencer.TriggerRollup("Controller SignalTerminated, 'rollupOnTerminate' set and no navigation request.")}function Controller_GetPreferredReturnToLmsAction(){return"selectable"===this.Package.Properties.ReturnToLmsAction?confirm("Exiting Course. Click 'OK' To save state and pick up where you left off or choose 'Cancel' to finish the Course.")?"suspend_all":"exit_all":"legacy"===this.Package.Properties.ReturnToLmsAction?1===this.Activities.GetNumDeliverableActivities()?"exit_all":"suspend_all":this.Package.Properties.ReturnToLmsAction}function Controller_TranslateRunTimeNavRequest(t){var e;if("{"===t.substring(0,1)){if(e=this.ParseTargetStringFromChoiceRequest(t),"choice"===t.substr(t.indexOf("}")+1))return new NavigationRequest(NAVIGATION_REQUEST_CHOICE,e,"");if("jump"===t.substr(t.indexOf("}")+1))return new NavigationRequest(NAVIGATION_REQUEST_JUMP,e,"")}switch(t){case SCORM_RUNTIME_NAV_REQUEST_CONTINUE:return new NavigationRequest(NAVIGATION_REQUEST_CONTINUE,null,"");case SCORM_RUNTIME_NAV_REQUEST_PREVIOUS:return new NavigationRequest(NAVIGATION_REQUEST_PREVIOUS,null,"");case SCORM_RUNTIME_NAV_REQUEST_EXIT:return new NavigationRequest(NAVIGATION_REQUEST_EXIT,null,"");case SCORM_RUNTIME_NAV_REQUEST_EXITALL:return new NavigationRequest(NAVIGATION_REQUEST_EXIT_ALL,null,"");case SCORM_RUNTIME_NAV_REQUEST_ABANDON:return new NavigationRequest(NAVIGATION_REQUEST_ABANDON,null,"");case SCORM_RUNTIME_NAV_REQUEST_ABANDONALL:return new NavigationRequest(NAVIGATION_REQUEST_ABANDON_ALL,null,"");case SCORM_RUNTIME_NAV_REQUEST_SUSPENDALL:return new NavigationRequest(NAVIGATION_REQUEST_SUSPEND_ALL,null,"");case SCORM_RUNTIME_NAV_REQUEST_NONE:return null;default:Debug.AssertError("Unrecognized runtime navigation request")}return null}function Controller_FindPossibleNavRequestForRuntimeNavRequest(t){var e,i,n;if("{"===t.substring(0,1))if(e=this.ParseTargetStringFromChoiceRequest(t),"choice"===t.substr(t.indexOf("}")+1)){for(i=POSSIBLE_NAVIGATION_REQUEST_INDEX_CHOICE;i<this.PossibleNavigationRequests.length;i+=1)if(this.PossibleNavigationRequests[i].TargetActivityItemIdentifier===e)return this.PossibleNavigationRequests[i]}else if("jump"===t.substr(t.indexOf("}")+1))return(n=new NavigationRequest(NAVIGATION_REQUEST_JUMP,e,"")).WillSucceed=this.IsJumpRequestValid(t),n;switch(t){case SCORM_RUNTIME_NAV_REQUEST_CONTINUE:return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_CONTINUE];case SCORM_RUNTIME_NAV_REQUEST_PREVIOUS:return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_PREVIOUS];case SCORM_RUNTIME_NAV_REQUEST_EXIT:return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT];case SCORM_RUNTIME_NAV_REQUEST_EXITALL:return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT_ALL];case SCORM_RUNTIME_NAV_REQUEST_ABANDON:return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_ABANDON];case SCORM_RUNTIME_NAV_REQUEST_ABANDONALL:return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_ABANDON_ALL];case SCORM_RUNTIME_NAV_REQUEST_SUSPENDALL:return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_SUSPEND_ALL];case SCORM_RUNTIME_NAV_REQUEST_NONE:return null;default:Debug.AssertError("Unrecognized runtime navigation request")}return null}function Controller_HandleRedirectIfRequired(t){var e=rscpCfg.get("redirectOnExitUrl");"noop"!==e&&0!==e.indexOf("noop_message=")&&0!==e.trim().toLowerCase().indexOf("javascript:")?t.location=e:0===e.indexOf("noop_message=")&&(this.NoOpRedirectMsg=e.substring(e.indexOf("=")+1))}function Controller_GetMessageText(){var t="";try{void 0!==this.Sequencer.NavigationRequest&&null!==this.Sequencer.NavigationRequest&&void 0!==this.Sequencer.NavigationRequest.MessageToUser&&null!==this.Sequencer.NavigationRequest.MessageToUser&&(t=this.Sequencer.NavigationRequest.MessageToUser)}catch(t){}return this.ExitScormPlayerCalled&&""===t&&0===rscpCfg.get("redirectOnExitUrl").indexOf("noop_message=")&&""!==this.NoOpRedirectMsg&&(t=this.NoOpRedirectMsg),t}function Controller_ClearPendingNavigationRequest(){this.WriteAuditLog("Control ClearPendingNavigationRequest"),this.PendingNavigationRequest=null}function Controller_IsThereAPendingNavigationRequest(){return null!==this.PendingNavigationRequest}function Controller_DeliverActivity(t){var e;this.WriteAuditLog("**************************************"),this.WriteAuditLog("Deliverying Activity - "+t),this.WriteAuditLog("**************************************"),e=this.WriteAuditLog("Control DeliverActivity - "+t),!1===t.IsDeliverable()&&Debug.AssertError("ERROR - Asked to deliver a non-leaf activity - "+t),Control.Package.Properties.ScoLaunchType!==LAUNCH_TYPE_POPUP_AFTER_CLICK&&Control.Package.Properties.ScoLaunchType!==LAUNCH_TYPE_POPUP_AFTER_CLICK_WITHOUT_BROWSER_TOOLBAR&&(this.Api.ResetState(),this.Api.InitializeForDelivery(t)),this.ScoLoader.LoadSco(t),this.UpdateDisplay(!1,!1),this.WriteDetailedLog("Exiting Control Deliver Activity",e)}function Controller_PerformDelayedDeliveryInitialization(t){this.Sequencer.ContentDeliveryEnvironmentActivityDataSubProcess(t),this.Api.ResetState(),this.Api.InitializeForDelivery(t),this.EvaluatePossibleNavigationRequests()}function Controller_InitializePossibleNavigationRequests(){var t,e,i,n,r=this.WriteAuditLog("Initializing Possible Navigation Requests"),o=Control.Package.Properties.LookaheadSequencerMode===LOOKAHEAD_SEQUENCER_MODE_DISABLE?(this.WriteDetailedLog("Lookahead Sequencer Mode Disabled",r),!0):(this.WriteDetailedLog("Lookahead Sequencer Mode Enabled",r),RESULT_UNKNOWN);for(e in this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_START]=new PossibleRequest(NAVIGATION_REQUEST_START,null,o,"",""),this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_RESUME_ALL]=new PossibleRequest(NAVIGATION_REQUEST_RESUME_ALL,null,o,"",""),this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_CONTINUE]=new PossibleRequest(NAVIGATION_REQUEST_CONTINUE,null,o,"",""),this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_PREVIOUS]=new PossibleRequest(NAVIGATION_REQUEST_PREVIOUS,null,o,"",""),this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT]=new PossibleRequest(NAVIGATION_REQUEST_EXIT,null,o,"",""),this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_EXIT_ALL]=new PossibleRequest(NAVIGATION_REQUEST_EXIT_ALL,null,o,"",""),this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_SUSPEND_ALL]=new PossibleRequest(NAVIGATION_REQUEST_SUSPEND_ALL,null,o,"",""),this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_ABANDON]=new PossibleRequest(NAVIGATION_REQUEST_ABANDON,null,o,"",""),this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_ABANDON_ALL]=new PossibleRequest(NAVIGATION_REQUEST_ABANDON_ALL,null,o,"",""),t=POSSIBLE_NAVIGATION_REQUEST_INDEX_CHOICE,this.Activities.SortedActivityList)this.Activities.SortedActivityList.hasOwnProperty(e)&&(i=this.Activities.SortedActivityList[e].GetItemIdentifier(),this.PossibleNavigationRequests[t]=new PossibleRequest(NAVIGATION_REQUEST_CHOICE,i,o,"",""),t+=1);for(n in this.PossibleNavigationRequests)this.PossibleNavigationRequests.hasOwnProperty(n)&&this.WriteDetailedLog("Initialized "+this.PossibleNavigationRequests[n].toString(),r);this.Sequencer.InitializePossibleNavigationRequestAbsolutes(this.PossibleNavigationRequests,this.Activities.ActivityTree,this.Activities.SortedActivityList)}function Controller_EvaluatePossibleNavigationRequests(t,e){var i,n;null==e&&(e=!1),this.Package.Properties.LookaheadSequencerMode!==LOOKAHEAD_SEQUENCER_MODE_DISABLE?(i=this.WriteAuditLog("Control Evaluate Possible Navigation Requests"),this.WriteDetailedLog("Tearing down sequencer",i),this.TearDownSequencer(this.LookAheadSequencer),this.WriteDetailedLog("Cloning sequencer",i),this.LookAheadSequencer=this.CloneSequencer(this.Sequencer),this.LookAheadSequencer.LookAhead=!0,this.WriteDetailedLog("Setting sequencer pointer for cloned activities",i),this.LookAheadSequencer.Activities.SetSequencer(this.LookAheadSequencer,!0),this.WriteDetailedLog("Performing sequencing look ahead evaluation",i),this.PossibleNavigationRequests=this.LookAheadSequencer.EvaluatePossibleNavigationRequests(this.PossibleNavigationRequests),this.WriteDetailedLog("Done Evaluating Possible Navigation Requests",i),!0===e&&null===this.PendingNavigationRequest&&null!==this.Api&&null!==this.Api.RunTimeData&&this.Api.RunTimeData.NavRequest!==SCORM_RUNTIME_NAV_REQUEST_NONE&&(n=Control.FindPossibleNavRequestForRuntimeNavRequest(this.Api.RunTimeData.NavRequest),this.WriteDetailedLog("Checking to see if the nav request ("+n+") from the runtime will succeed now after re-evaluating with current data.",i),!0===n.WillSucceed?(this.WriteDetailedLog("Nav request will succeed. Unloading SCO.",i),Control.ScoHasTerminatedSoUnload()):this.WriteDetailedLog("Nav request will NOT succeed. Leaving SCO loaded.",i)),null!=t&&!0===t?this.UpdateDisplay(!0,!0):this.UpdateDisplay(!0,!1)):i=this.WriteAuditLog("Bypassing Lookahead Sequencer processing because PackageProperties.LookaheadSequencerMode = disabled"),this.Api.IsLookAheadSequencerRunning=!1,this.Api.RunLookAheadSequencerIfNeeded()}function Controller_FindPossibleChoiceRequestForActivity(t){for(var e=t.GetItemIdentifier(),i=POSSIBLE_NAVIGATION_REQUEST_INDEX_CHOICE;i<this.PossibleNavigationRequests.length;i+=1)if(this.PossibleNavigationRequests[i].TargetActivityItemIdentifier===e)return this.PossibleNavigationRequests[i];return Debug.AssertError("Could not locate possible choice request for activity-"+t),null}function Controller_GetPossibleContinueRequest(){return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_CONTINUE]}function Controller_GetPossiblePreviousRequest(){return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_PREVIOUS]}function Controller_IsTargetValid(t){return null!==this.ParseTargetStringIntoActivity(t)}function Controller_IsChoiceRequestValid(t){for(var e=this.ParseTargetStringIntoActivity(t).GetItemIdentifier(),i=POSSIBLE_NAVIGATION_REQUEST_INDEX_CHOICE;i<this.PossibleNavigationRequests.length;i+=1)if(this.PossibleNavigationRequests[i].TargetActivityItemIdentifier===e)return this.PossibleNavigationRequests[i].WillSucceed;return!1}function Controller_IsJumpRequestValid(t){var e=this.ParseTargetStringIntoActivity(t);return null!==e&&e.IsAvailable()}function Controller_IsContinueRequestValid(){return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_CONTINUE].WillSucceed}function Controller_IsPreviousRequestValid(){return this.PossibleNavigationRequests[POSSIBLE_NAVIGATION_REQUEST_INDEX_PREVIOUS].WillSucceed}function Controller_ParseTargetStringIntoActivity(t){var e=this.ParseTargetStringFromChoiceRequest(t);return this.Activities.GetActivityFromIdentifier(e)}function Controller_ParseTargetStringFromChoiceRequest(t){return t.substring(t.indexOf("=")+1,t.indexOf("}"))}function Controller_CloneSequencer(t,e){var i,n=new Sequencer(e,t.Activities.Clone());for(i in null===t.SuspendedActivity?n.SuspendedActivity=null:n.SuspendedActivity=n.Activities.GetActivityFromIdentifier(t.SuspendedActivity.GetItemIdentifier()),null===t.CurrentActivity?n.CurrentActivity=null:n.CurrentActivity=n.Activities.GetActivityFromIdentifier(t.CurrentActivity.GetItemIdentifier()),n.GlobalObjectives=[],t.GlobalObjectives)t.GlobalObjectives.hasOwnProperty(i)&&(n.GlobalObjectives[n.GlobalObjectives.length]=t.GlobalObjectives[i].Clone());return void 0!==t.AtEndOfCourse&&(n.AtEndOfCourse=t.AtEndOfCourse,n.AtStartOfCourse=t.AtStartOfCourse),n.NavigationRequest=null,n.ChoiceTargetIdentifier=null,n.Exception=null,n.ExceptionText=null,n}function Controller_TearDownSequencer(t){(t.LookAhead=null)!==t.Activities&&t.Activities.TearDown(),t.Activities=null,t.NavigationRequest=null,t.ChoiceTargetIdentifier=null,t.SuspendedActivity=null,t.CurrentActivity=null,t.Exception=null,t.ExceptionText=null,t.GlobalObjectives=null}function Controller_WriteAuditLog(t){Debug.WriteControlAudit(t)}function Controller_WriteDetailedLog(t,e){Debug.WriteControlDetailed(t,e)}function Controller_WriteDetailedLogError(t,e){Debug.WriteControlDetailed(t,e,!0)}function Controller_WriteHistoryLog(t,e){HistoryLog.WriteEventDetailed(t,e)}function Controller_WriteHistoryReturnValue(t,e){HistoryLog.WriteEventDetailedReturnValue(t,e)}function Controller_GetLaunchHistoryId(){return rscpCfg.get("launchHistoryId")}function GetController(){for(var t,e=0,i=window;null===i.Control&&null!==i.parent&&i.parent!==i&&e<=500;)e+=1,i=i.parent;return void 0===i.Control||null===i.Control?Debug.AssertError("Could not locate the Control object."):t=i.Control,t}function Controller_UpdateGlobalLearnerPrefs(){var t,e,i,n;if("undefined"!==this.Api.LearnerPrefsArray&&null!==this.Api.LearnerPrefsArray)for(e in t=this.Api.LearnerPrefsArray)if(t.hasOwnProperty(e))for(i in this.Activities.ActivityList)this.Activities.ActivityList.hasOwnProperty(i)&&null!==(n=this.Activities.ActivityList[i]).RunTime&&n.RunTime[e]!==t[e]&&(n.RunTime[e]=t[e],n.RunTime.SetDirtyData())}function Controller_IsUserOverTimeLimit(){var t,e;return!(this.Package.Properties.TimeLimit<=0)&&(null!==(t=this.Activities.GetRootActivity())&&(e=ConvertIso8601TimeSpanToHundredths(t.GetActivityExperiencedDurationTracked())+(null===this.Api.TrackedStartDate?0:Math.round((new Date-this.Api.TrackedStartDate)/10)),60*this.Package.Properties.TimeLimit*100<e))}function Controller_ExitIfTimeLimitExceeded(){!0===this.IsUserOverTimeLimit()&&(this.WriteAuditLog("Time limit exceeded, automatically returning user from the course"),!0!==this.MessageShown&&(alert("You have exceeded the time limit for this course, your session will now end."),this.MessageShown=!0),this.TriggerReturnToLMS())}function Controller_BlockCourseEntryWithMessage(t){var e,i,n;for(e in this.Sequencer.NavigationRequest=new NavigationRequest(NAVIGATION_REQUEST_DISPLAY_MESSAGE,null,t),this.Sequencer.Activities.ActivityList)this.Sequencer.Activities.ActivityList.hasOwnProperty(e)&&(this.Sequencer.Activities.ActivityList[e].SetHiddenFromChoice(!0),null!==(i=this.Sequencer.Activities.ActivityList[e].MenuItem)&&i.Disable());for(n=0;n<this.PossibleNavigationRequests.length;n+=1)this.PossibleNavigationRequests[n].WillSucceed=!1;IntegrationImplementation.UpdateControlState(IntegrationImplementation.GetDocumentObjectForControls(),this.PossibleNavigationRequests,null)}function Communications(){this.IntervalFunctionID="",this.IntervalWatchFunctionID="",this.RequestTimeoutIntervalID="",this.FinalExitCalls=0,this.FailedSubmissions=0,this.SequenceNumber=rscpCfg.get("registrationToDeliver").LastSequenceNumber||0,this.Disabled=!1,this.MinimumCommitFrequency=5e3,this.MaxCommitFrequency=3e5,this.MaxNonCommitInterval=18e5,this.PendingRequestTimeout=3e4,this.MaxBackoff=3e4,this.BaseBackoff=1500,this.CurrentRequest=null,this.AlreadyExitedError=!1,this.CommCommitFrequency=rscpCfg.get("registrationToDeliver").Package.Properties.CommCommitFrequency,this.CommCommitFrequency<this.MinimumCommitFrequency?this.CommCommitFrequency=this.MinimumCommitFrequency:this.CommCommitFrequency>this.MaxCommitFrequency&&(this.CommCommitFrequency=this.MaxCommitFrequency),this.MaxNonCommitAttempts=parseInt(this.MaxNonCommitInterval/this.CommCommitFrequency,10),this.NonCommitAttempts=0,this.CommitAttempts=0,this.StartPostDataProcess=Communications_StartPostDataProcess,this.KillPostDataProcess=Communications_KillPostDataProcess,this.StartRequestTimeoutProcess=Communications_StartRequestTimeoutProcess,this.KillRequestTimeoutProcess=Communications_KillRequestTimeoutProcess,this.CancelPendingRequest=Communications_CancelPendingRequest,this.SaveDataWithBackoff=Communications_SaveDataWithBackoff,this.SaveData=Communications_SaveData,this.SaveDataNow=Communications_SaveDataNow,this.SaveDataOnExit=Communications_SaveDataOnExit,this.SaveDebugLog=Communications_SaveDebugLog,this.SendDataToServer=Communications_SendDataToServer,this.ResponseIndicatesAlreadyExited=Communications_ResponseIndicatesAlreadyExited,this.GetServerResponseErrorPresent=Communications_GetServerResponseErrorPresent,this.GetMatchPartsForRegex=Communications_GetMatchPartsForRegex,this.CheckServerResponse=Communications_CheckServerResponse,this.CallFailed=Communications_CallFailed,this.Disable=Communications_Disable,this.LogOnServer=Communications_LogOnServer,this.StartWatchProcess=Communications_StartWatchProcess,this.CheckComm=Communications_CheckComm,this.TrySendBeacon=Communications_TrySendBeacon}function Communications_StartWatchProcess(){this.Disabled||""===this.IntervalWatchFunctionID&&(Control.WriteDetailedLog("Communications_StartWatchProcess"),this.IntervalWatchFunctionID=window.setInterval(function(){Control.Comm.CheckComm()},this.MaxNonCommitInterval))}function Communications_CheckComm(){this.Disabled||(Control.WriteDetailedLog("Communications_CheckComm"),0===this.CommitAttempts&&(Control.WriteDetailedLog("WARNING: GL-200 30 minutes passed without persisting any data"),Cookies.set("GLError","GL-200",{expires:14})))}function Communications_StartPostDataProcess(){this.Disabled||""===this.IntervalFunctionID&&(Control.WriteDetailedLog("Communications_StartPostDataProcess"),this.IntervalFunctionID=window.setInterval(function(){Control.Comm.SaveData(!1,!1)},this.CommCommitFrequency))}function Communications_KillPostDataProcess(){this.Disabled||(Control.WriteDetailedLog("Communications_KillPostDataProcess"),""!==this.IntervalFunctionID&&(window.clearInterval(this.IntervalFunctionID),this.IntervalFunctionID=""))}function Communications_StartRequestTimeoutProcess(){this.Disabled||(Control.WriteDetailedLog("Communications_StartRequestTimeoutProcess"),""===this.RequestTimeoutIntervalID&&(this.RequestTimeoutIntervalID=window.setInterval(function(){Control.Comm.CancelPendingRequest()},this.PendingRequestTimeout)))}function Communications_KillRequestTimeoutProcess(){this.Disabled||(Control.WriteDetailedLog("Communications_KillRequestTimeoutProcess"),""!==this.RequestTimeoutIntervalID&&(window.clearInterval(this.RequestTimeoutIntervalID),this.RequestTimeoutIntervalID=""))}function Communications_CancelPendingRequest(){null!==this.CurrentRequest&&4!==this.CurrentRequest.readyState&&this.CurrentRequest.abort()}function Communications_SaveDataWithBackoff(t){var e=0;if(this.disabled)return!0;t||(e=Math.random()*Math.min(this.MaxBackoff,2*this.BaseBackoff*this.FailedSubmissions)),setTimeout(function(){Control.Comm.SaveData(!1,t)},e)}function Communications_SaveData(t,e){var i,n;if(this.Disabled)return!0;try{return this.CommitAttempts+=1,Control.WriteDetailedLog("Communications Save Data, synchronous="+t+", isExit="+e+", commitAttempt="+this.CommitAttempts),this.SendDispatchMessagesIfNeeded(),(n=!0)===e?(Control.WriteDetailedLog("About to save final data upon player exit, final exit calls = "+this.FinalExitCalls),Control.MarkDirtyDataPosted(),i=Control.GetXmlForDirtyData(),this.SendDataToServer(t,i,!0)):Control.IsThereDirtyData()?(Control.WriteDetailedLog("Found Dirty Data to Save"),Control.MarkDirtyDataPosted(),i=Control.GetXmlForDirtyData(),n=this.SendDataToServer(t,i)):(Control.WriteDetailedLog("No Dirty Data to Save"),this.NonCommitAttempts+=1,this.NonCommitAttempts>=this.MaxNonCommitAttempts&&(Control.WriteDetailedLog("WARNING: GL-100 "+this.CommCommitFrequency*this.MaxNonCommitAttempts/6e4+" minutes without commiting data"),Cookies.set("GLError","GL-100",{expires:14}))),n}catch(t){Control.WriteDetailedLogError("ERROR - Exception in Communications_SaveData, results may not have been posted: "+GetErrorDetailString(t)),this.LogOnServer("Exception in Communications_SaveData, results may not have been posted",t),this.CallFailed()}}function Communications_SaveDataNow(t,e){var i;return!!this.Disabled||(Control.WriteDetailedLog("Communications_SaveDataNow"),this.KillPostDataProcess(),i=this.SaveData(e),t||this.StartPostDataProcess(),i)}function Communications_SaveDataOnExit(){this.Disabled||(Control.WriteDetailedLog("Communications_SaveDataOnExit"),this.KillPostDataProcess(),this.SaveData(!0,!0))}function Communications_SaveDebugLog(){var t,e,i;0<Debug.log.entries.length&&(i=rscpCfg.get("sendDebugLogsAsJson")?(t=JSON.stringify(Debug),e="json","application/json"):(t=Debug.GetSerializedLog(),e="text","text/xml"),$.ajax({url:rscpCfg.get("debugLogPersistPage"),type:"POST",dataType:e,contentType:i,data:t,async:!1}))}function Communications_SendDataToServer(i,n,r){var o,s;return!!this.Disabled||("undefined"!=typeof GetCurrentConfigurationJs?(localStorage.configurationJs=GetCurrentConfigurationJs(),localStorage.runtimeXml=n,!0):(this.SequenceNumber+=1,o=MergeQueryStringParameters(rscpCfg.get("scormResultsPage"),"sequence="+this.SequenceNumber),!(!r||(o=MergeQueryStringParameters(o,"isExitScormPlayer=true"),!this.TrySendBeacon(o,n)))||(i=!!i,Control.WriteDetailedLog("In SendDataToServer, synchronous="+i+", strPostData="+n),s=!0,this.KillPostDataProcess(),this.StartRequestTimeoutProcess(),this.CurrentRequest=$.ajax({type:"POST",url:o,cache:!1,dataType:"text",contentType:"text/xml",data:n,xhrFields:{withCredentials:!0},async:!i,success:function(t){Control.WriteDetailedLog("Server Responded With:"+t),Control.Comm.KillRequestTimeoutProcess(),Control.Comm.CurrentRequest=null,(s=Control.Comm.CheckServerResponse(t,!0,i,r))&&!0===rscpCfg.get("useDeltaRecordResultsPayload")&&Control.UpdateLastState(n),r||Control.Comm.StartPostDataProcess()},error:function(t){var e;if(Control.WriteDetailedLogError("ERROR - Server side error occurred when saving state data, HTTP response not 200 (OK). Status: "+t.status),Control.Comm.KillRequestTimeoutProcess(),Control.Comm.CurrentRequest=null,r&&i&&0===t.status)return Control.WriteDetailedLog("Blocked exit sync XHR, so trying to send exit postback using Fetch with KeepAlive. Sync request failure message: "+t.statusText),Control.Comm.TryFetchKeepAlive(o,n)?(Control.WriteDetailedLog("Exit postback using Fetch with KeepAlive was sent (this does not guarantee it was successful)"),!0):(Control.WriteDetailedLog("Fetch with KeepAlive failed, so trying to send exit postback using SendBeacon"),PREFER_SEND_BEACON=!0,Control.Comm.TrySendBeacon(o,n));null===(e=Control.Comm.GetServerResponseErrorPresent(t.responseText))||2!==e.length?Control.Comm.CallFailed()?i?s=Control.Comm.SaveData(i,r):Control.Comm.SaveDataWithBackoff(r):s=!1:(s=!1,Control.Comm.CheckServerResponse(t.responseText,!0,i,r)&&Control.WriteDetailedLog("SendDataToServer received error callback but CheckServerResponse returned success=true: "+t.responseText))}}),s)))}function Communications_GetMatchPartsForRegex(t,e){return null==e||""===(e=String(e)).trim()?null:e.match(t)}function Communications_GetServerResponseErrorPresent(t){return this.GetMatchPartsForRegex(/<error present="(true|false)">/,t)}function Communications_ResponseIndicatesAlreadyExited(t){return null!==this.GetMatchPartsForRegex(/<alreadyexitederror/,t)}function Communications_CheckServerResponse(t,e,i,n){var r,o,s;return!!this.Disabled||(null===(o=this.GetServerResponseErrorPresent(t))||2!==o.length?(Control.WriteDetailedLogError("ERROR - Invalid server response received from the LMS."),r=!1):!1==("false"===o[1])?(Control.WriteDetailedLogError("ERROR - LMS was unable to successfully save state date, see the LMS response for specific error information. Server Response="+String(t)),r=!1,this.AlreadyExitedError=this.ResponseIndicatesAlreadyExited(t)):r=!0,!1===r?(s=this.CallFailed(),e&&s&&(i?this.SaveData(i,n):this.SaveDataWithBackoff(n))):(this.FailedSubmissions=0,Control.MarkPostedDataClean()),r)}function Communications_CallFailed(){return!this.Disabled&&(this.FailedSubmissions+=1,Control.MarkPostedDataDirty(),Control.WriteDetailedLog("Communications Call Failed, Failed Submissions="+this.FailedSubmissions),!(this.FailedSubmissions>=rscpCfg.get("registrationToDeliver").Package.Properties.CommMaxFailedSubmissions||this.AlreadyExitedError)||(this.KillPostDataProcess(),Control.DeliverFramesetUnloadEventCalled||Control.DisplayError("A fatal error has occurred, communication with the server has been lost."),Control.FatalErrorEncountered=!0,Control.Package.Properties.PlayerLaunchType===LAUNCH_TYPE_FRAMESET?Control.HandleRedirectIfRequired(window):(window.opener&&null!==window.opener&&!1===window.opener.closed&&Control.HandleRedirectIfRequired(window.opener),window.close()),!1))}function Communications_Disable(){this.Disabled=!0}function Communications_LogOnServer(t,e){var i=t;null!==e&&(i=t+GetErrorDetailString(e)),$.ajax({type:"POST",url:rscpCfg.get("serverLoggerPage"),cache:!1,dataType:"text",data:{msg:rscpCfg.get("registrationToDeliver").Id+" - "+i,registration:rscpCfg.get("extRegId"),configuration:rscpCfg.get("extCfg")},async:!1})}function Communications_TrySendBeacon(t,e){return!(!PREFER_SEND_BEACON||!window.navigator||"function"!=typeof window.navigator.sendBeacon)&&window.navigator.sendBeacon(t,e)}function ScoLoader(t,e,i,n,r,o){this.IntermediatePage=t,this.PopupLauncherPage=e,this.PathToCourse=i,this.ScoLaunchType=n,this.WrapScoWindowWithApi=r,this.Standard=o,this.ScoLoaded=!1,this.ContentFrame=ScoLoader_FindContentFrame(window),null===this.ContentFrame&&Debug.AssertError("Unable to locate the content frame-"+IntegrationImplementation.CONTENT_FRAME_NAME)}function ScoLoader_WriteHistoryLog(t,e){HistoryLog.WriteEventDetailed(t,e)}function ScoLoader_WriteHistoryReturnValue(t,e){HistoryLog.WriteEventDetailedReturnValue(t,e)}function ScoLoader_LoadSco(t){var e,i,n,r,o,s,a,u,l={ev:"LoadSco"},c="",d=this.ScoLaunchType,h="",p="";t&&(l.ai=t.ItemIdentifier,l.at=t.LearningObject.Title),this.WriteHistoryLog("",l),t.LaunchedThisSession=!1,null===t.GetActivityStartTimestampUtc()&&t.SetActivityStartTimestampUtc(ConvertDateToIso8601String(new Date)),null===t.GetAttemptStartTimestampUtc()&&t.SetAttemptStartTimestampUtc(ConvertDateToIso8601String(new Date)),this.Standard.isCmi5()?(c=rscpCfg.get("cmi5LaunchTemplate")+"&auId="+encodeURIComponent(t.ItemIdentifier),c+="&returnURL= "+encodeURIComponent(MergeQueryStringParameters(this.IntermediatePage.PageHref,this.IntermediatePage.Parameters)),void 0!==rscpCfg.get("querystringAdditions")[t.DatabaseId]&&null!==rscpCfg.get("querystringAdditions")[t.DatabaseId]?p=rscpCfg.get("querystringAdditions")[t.DatabaseId]:void 0!==rscpCfg.get("querystringAdditions")[HASH_ALL_SCOS]&&null!==rscpCfg.get("querystringAdditions")[HASH_ALL_SCOS]&&(p=rscpCfg.get("querystringAdditions")[HASH_ALL_SCOS]),""!==p&&(c=MergeQueryStringParameters(c,p)),e="OwnWindow",(i=rscpCfg.get("cmi5Aus"))[t.ItemIdentifier]&&(e=i[t.ItemIdentifier].launchMethod),"OwnWindow"===e&&d===LAUNCH_TYPE_FRAMESET&&(d=LAUNCH_TYPE_POPUP)):this.Standard.isLti11()?c=rscpCfg.get("ltiLaunchTemplate"):this.Standard.isLti13()?c="begin-oidc-flow.html":(this.Standard.isAICC()&&(""===rscpCfg.get("extRegId")?n="AICC_SID="+escape(this.ConstructPreviewAiccSid(t)+escape(rscpCfg.get("extCfg"))):(n="AICC_SID="+escape(t.AiccSessionId),36===t.AiccSessionId.length&&t.AiccSessionId.indexOf("~")<0&&(n+=escape(escape(rscpCfg.get("extCfg"))))),h+=n+"&AICC_URL="+escape(rscpCfg.get("aiccResultsPage"))),null!==this.PathToCourse&&0<this.PathToCourse.length&&0!==t.GetLaunchPath().toLowerCase().indexOf("http://")&&0!==t.GetLaunchPath().toLowerCase().indexOf("https://")&&!this.Standard.isTinCan()?(c=this.PathToCourse,r=t.GetLaunchPath(),this.PathToCourse.lastIndexOf("/")!==this.PathToCourse.length-1&&0!==r.indexOf("/")&&(c+="/"),c+=r):c=t.GetLaunchPath(),""!==h&&(c=MergeQueryStringParameters(c,h))),d===LAUNCH_TYPE_FRAMESET?(Control.WriteDetailedLog("Loading Sco In Frameset at: "+c),this.ContentFrame.location=c,Control.Api.InitTrackedTimeStart(t),t.SetLaunchedThisSession()):d===LAUNCH_TYPE_POPUP||d===LAUNCH_TYPE_POPUP_WITHOUT_BROWSER_TOOLBAR||d===LAUNCH_TYPE_POPUP_WITH_MENU||d===LAUNCH_TYPE_POPUP_AFTER_CLICK||d===LAUNCH_TYPE_POPUP_AFTER_CLICK_WITHOUT_BROWSER_TOOLBAR?(s=d===LAUNCH_TYPE_POPUP_WITHOUT_BROWSER_TOOLBAR||d===LAUNCH_TYPE_POPUP_AFTER_CLICK_WITHOUT_BROWSER_TOOLBAR?"false":"true",a=d===LAUNCH_TYPE_POPUP_WITH_MENU?"yes":"no",u=d===LAUNCH_TYPE_POPUP_AFTER_CLICK||d===LAUNCH_TYPE_POPUP_AFTER_CLICK_WITHOUT_BROWSER_TOOLBAR?"true":"false",o=!0===this.WrapScoWindowWithApi?MergeQueryStringParameters(this.PopupLauncherPage.PageHref,this.PopupLauncherPage.Parameters,"ScoUrl="+encodeURIComponent(c),"LaunchAfterClick="+u,"WrapApi=true","ShowToolbar="+s,"ShowMenubar="+a):MergeQueryStringParameters(this.PopupLauncherPage.PageHref,this.PopupLauncherPage.Parameters,"ScoUrl="+encodeURIComponent(c),"LaunchAfterClick="+u,"ShowToolbar="+s,"ShowMenubar="+a),this.ContentFrame.location=o):Debug.AssertError("Invalid Sco Launch Type"),"function"==typeof IntegrationImplementation.PostScoLoaded&&IntegrationImplementation.PostScoLoaded(t)}function ScoLoader_UnloadSco(t){var e="";!0===Control.Package.Properties.MakeStudentPrefsGlobalToCourse&&Control.UpdateGlobalLearnerPrefs(),e=Control.DeliverFramesetUnloadEventCalled?"blank.html":!0===t?MergeQueryStringParameters(this.IntermediatePage.PageHref,this.IntermediatePage.Parameters,"MessageWaiting=true"):MergeQueryStringParameters(this.IntermediatePage.PageHref,this.IntermediatePage.Parameters),this.ScoLaunchType!==LAUNCH_TYPE_POPUP&&this.ScoLaunchType!==LAUNCH_TYPE_POPUP_AFTER_CLICK||!this.ContentFrame.CloseSco?(Control.WriteDetailedLog("UnLoading Sco and launching intermediate page from "+e),this.ContentFrame.location=e):Control.DeliverFramesetUnloadEventCalled?(this.ContentFrame.scoWindow&&null!==this.ContentFrame.scoWindow&&!this.ContentFrame.scoWindow.closed&&this.ContentFrame.scoWindow.close(),this.ContentFrame.location=e):(Control.WriteDetailedLog("Closing Sco"),this.ContentFrame.CloseSco(),Control.WriteDetailedLog("Launching intermediate page from "+e),window.setTimeout(function(){Control.ScoLoader.ContentFrame.location=e},250)),"function"==typeof IntegrationImplementation.PostScoUnloaded&&IntegrationImplementation.PostScoUnloaded()}function ScoLoader_FindContentFrame(t){for(var e=null,i=0;i<t.frames.length;i+=1){if(t.frames[i].name===IntegrationImplementation.CONTENT_FRAME_NAME)return e=t.frames[i];if(null!==(e=ScoLoader_FindContentFrame(t.frames[i])))return e}return null}function ScoLoader_ConstructPreviewAiccSid(t){var e=rscpCfg.get("registrationToDeliver").Package.Id,i=e.length<10?"0"+e.length.toString():e.length.toString(),n=t.ScormObjectDatabaseId,r=n.length<10?"0"+n.length.toString():n.length.toString();return"PREVIEW"+i+e+r+n}function MenuItem(t,e,i){var n,r;this.ParentMenuItem=t,this.Document=i,this.ActivityId=e.GetItemIdentifier()+e.GetDatabaseIdentifier(),this.MenuElementId="MenuItem"+this.ActivityId,this.el=null,this.Level=null===t?0:t.Level+1,this.Children=[],this.Visible=!0,this.Enabled=!0,n="div","function"==typeof IntegrationImplementation.GetMenuItemElementTag&&(n=IntegrationImplementation.GetMenuItemElementTag()),(r=this.Document.createElement(n)).id=this.MenuElementId,this.el=r,this.CurrentDisplayState=null,this.CurrentDisplayState=IntegrationImplementation.PopulateMenuItemElement(r,this.Document,this.ActivityId,e.GetTitle(),this.Level,e.IsDeliverable(),Control.Package.LearningStandard,Control.Package.Properties.StatusDisplay,e.GetItemIdentifier(),e,this)}function MenuItem_getLastSubmenuItem(t){return 0===t.Children.length?t:MenuItem_getLastSubmenuItem(t.Children[t.Children.length-1])}function MenuItem_Render(t){var e,i,n;if(null!==this.ParentMenuItem){for(i=0;i<this.ParentMenuItem.Children.length&&this.ParentMenuItem.Children[i].ActivityId!==this.ActivityId;i+=1);(e=0===i?this.Document.getElementById(this.ParentMenuItem.MenuElementId):(n=MenuItem_getLastSubmenuItem(this.ParentMenuItem.Children[i-1]),this.Document.getElementById(n.MenuElementId))).parentNode.insertBefore(this.el,e.nextSibling),!0===t.DisplayInChoice()?this.Show():this.Hide()}else(e=IntegrationImplementation.GetHtmlElementToInsertMenuWithin()).insertBefore(this.el,null)}function MenuItem_UpdateStateDisplay(t,e,i,n){var r=!0,o=!0,r=!0===t.DisplayInChoice();i.WillSucceed?Control.Package.Properties.InvalidMenuItemAction===INVALID_MENU_ITEM_ACTION_DISABLE?o=!0:Control.Package.Properties.InvalidMenuItemAction!==INVALID_MENU_ITEM_ACTION_HIDE&&Control.Package.Properties.InvalidMenuItemAction!==INVALID_MENU_ITEM_ACTION_SHOW_ENABLE||(r=!0):Control.Package.Properties.InvalidMenuItemAction===INVALID_MENU_ITEM_ACTION_DISABLE?o=!1:Control.Package.Properties.InvalidMenuItemAction===INVALID_MENU_ITEM_ACTION_HIDE?r=!1:Control.Package.Properties.InvalidMenuItemAction===INVALID_MENU_ITEM_ACTION_SHOW_ENABLE&&(r=!0),r!==this.Visible&&(!0===r?this.Show():this.Hide()),!0===t.IsTheRoot()&&!0===Control.Package.Properties.ForceDisableRootChoice&&(o=!1),o!==this.Enabled&&(!0===o?this.Enable(t.GetItemIdentifier(),t.GetTitle()):this.Disable()),this.CurrentDisplayState=IntegrationImplementation.UpdateMenuStateDisplay(this.el,this.Document,t,this.ActivityId,t.IsDeliverable(),e,i,Control.Package.LearningStandard,Control.Package.Properties.StatusDisplay,this.CurrentDisplayState,n)}function MenuItem_Hide(){!0===this.Visible&&(this.el.style.display="none",this.BumpDownLevel(this)),this.Visible=!1}function MenuItem_Show(){!1===this.Visible&&(this.el.style.display="inline",this.BumpUpLevel(this)),this.Visible=!0}function MenuItem_Enable(e){!1===this.Enabled&&(this.el.tabIndex=0,this.el.onclick=function(){return GetController().ChoiceRequest(e),!0},this.el.onkeydown=function(t){if(13===t.keyCode||32===t.keyCode)return GetController().ChoiceRequest(e),!0}),this.Enabled=!0}function MenuItem_Disable(){!0===this.Enabled&&(this.el.tabIndex=-1,this.el.onclick="",this.el.onkeydown=""),this.Enabled=!1}function MenuItem_BumpUpLevel(t){var e;for(e in t.Level+=1,IntegrationImplementation.UpdateIndentLevel(t.el,t.ActivityId,t.Level),t.Children)t.Children.hasOwnProperty(e)&&t.BumpUpLevel(t.Children[e])}function MenuItem_BumpDownLevel(t){var e;for(e in--t.Level,IntegrationImplementation.UpdateIndentLevel(t.el,t.ActivityId,t.Level),t.Children)t.Children.hasOwnProperty(e)&&t.BumpDownLevel(t.Children[e])}function MenuItem_ResynchChildren(t){var e,i,n,r;for(i in this.Children)this.Children.hasOwnProperty(i)&&(e=this.Children[i].el).parentNode.removeChild(e);for(r in this.Children=[],n=t.GetAvailableChildren())n.hasOwnProperty(r)&&(this.Children[r]=n[r].MenuItem)}function Activity(t,e,i,n,r,o,s,a,u,l,c,d,h,p,f,g,m,S,v,A,y,T,C,_,b,E,R,I,D,O){this.StringIdentifier=null,this.DatabaseId=t,this.ItemIdentifier=e,this.ScormObjectDatabaseId=i,this.ActivityProgressStatus=n,this.ActivityAttemptCount=r,this.AttemptProgressStatus=o,this.AttemptCompletionAmountStatus=s,this.AttemptCompletionAmount=a,this.AttemptCompletionStatus=u,this.Active=l,this.Suspended=c,this.Included=d,this.Ordinal=h,this.SelectedChildren=p,this.RandomizedChildren=f,this.ActivityObjectives=g,this.RunTime=m,this.PrevAttemptProgressStatus=S,this.PrevAttemptCompletionStatus=v,this.AttemptedDuringThisAttempt=A,this.FirstCompletionTimestampUtc=y,this.ActivityStartTimestampUtc=T,this.AttemptStartTimestampUtc=C,this.ActivityAbsoluteDuration=_,this.AttemptAbsoluteDuration=b,this.ActivityExperiencedDurationTracked=E,this.AttemptExperiencedDurationTracked=R,this.ActivityExperiencedDurationReported=I,this.AttemptExperiencedDurationReported=D,this.AiccSessionId=O,this.IsDurations=0<=ConvertIso8601TimeSpanToHundredths(_),this.ActivityEndedDate=null,this.Sequencer=null,this.LookAheadActivity=!1,this.LearningObject=null,this.ParentActivity=null,this.ChildActivities=[],this.AvailableChildren=null,this.DataState=DATA_STATE_CLEAN,this.MenuItem=null,this.CachedPrimaryObjective=null,this.HiddenFromChoice=!1,this.HasSeqRulesRelevantToChoice=null,this.HasChildActivitiesDeliverableViaFlow=!1,this.LaunchedThisSession=!1}function Activity_GetXml(){var t,e=new ServerFormater,i=new XmlElement("A");for(i.AddAttribute("DI",this.DatabaseId),i.AddAttribute("II",this.ItemIdentifier),i.AddAttribute("APS",e.ConvertBoolean(this.ActivityProgressStatus)),i.AddAttribute("AAC",this.ActivityAttemptCount),i.AddAttribute("AtPS",e.ConvertBoolean(this.AttemptProgressStatus)),i.AddAttribute("ACS",e.ConvertBoolean(this.AttemptCompletionStatus)),i.AddAttribute("ACAS",e.ConvertBoolean(this.AttemptCompletionAmountStatus)),i.AddAttribute("ACA",this.AttemptCompletionAmount),i.AddAttribute("A",e.ConvertBoolean(this.Active)),i.AddAttribute("S",e.ConvertBoolean(this.Suspended)),i.AddAttribute("I",e.ConvertBoolean(this.Included)),i.AddAttribute("O",this.Ordinal),i.AddAttribute("SC",e.ConvertBoolean(this.SelectedChildren)),i.AddAttribute("RC",e.ConvertBoolean(this.RandomizedChildren)),i.AddAttribute("PAPS",e.ConvertBoolean(this.PrevAttemptProgressStatus)),i.AddAttribute("PACS",e.ConvertBoolean(this.PrevAttemptCompletionStatus)),i.AddAttribute("ADTA",e.ConvertBoolean(this.AttemptedDuringThisAttempt)),null!==this.FirstCompletionTimestampUtc&&i.AddAttribute("FCTU",this.FirstCompletionTimestampUtc),this.IsDurations&&(null!==this.ActivityStartTimestampUtc&&i.AddAttribute("ASTU",this.ActivityStartTimestampUtc),null!==this.AttemptStartTimestampUtc&&i.AddAttribute("AtSTU",this.AttemptStartTimestampUtc),i.AddAttribute("AAD",e.ConvertTimeSpan(this.ActivityAbsoluteDuration)),i.AddAttribute("AtAD",e.ConvertTimeSpan(this.AttemptAbsoluteDuration)),i.AddAttribute("AEDT",e.ConvertTimeSpan(this.ActivityExperiencedDurationTracked)),i.AddAttribute("AtEDT",e.ConvertTimeSpan(this.AttemptExperiencedDurationTracked)),i.AddAttribute("AEDR",e.ConvertTimeSpan(this.ActivityExperiencedDurationReported)),i.AddAttribute("AtEDR",e.ConvertTimeSpan(this.AttemptExperiencedDurationReported))),t=0;t<this.ActivityObjectives.length;t+=1)i.AddElement(this.ActivityObjectives[t].GetXml(this.DatabaseId,t));return null!==this.RunTime&&i.AddElement(this.RunTime.GetXml(this.DatabaseId)),i.toString()}function Activity_toString(){return this.GetTitle()+" ("+this.GetItemIdentifier()+")"}function Activity_GetTitle(){return this.LearningObject.Title}function Activity_GetItemIdentifier(){return null!==this.LearningObject.ItemIdentifier&&""!==this.LearningObject.ItemIdentifier?this.LearningObject.ItemIdentifier:this.DatabaseId}function Activity_GetDatabaseIdentifier(){return this.DatabaseId}function Activity_GetLaunchPath(){return MergeQueryStringParameters(this.LearningObject.Href,this.LearningObject.Parameters)}function Activity_IsDeliverable(){return null!==this.RunTime}function Activity_TransferRteDataToActivity(){var t,e,i,n,r,o,s,a,u,l,c=this.GetObjectives(),d=this.GetPrimaryObjective(),h=!1;if(this.IsTracked()){for(i=0;i<c.length;i+=1)e=c[i].GetIdentifier(),null!==(t=this.RunTime.FindObjectiveWithId(e))?(!0===t.SuccessStatusChangedDuringRuntime&&(t.SuccessStatus===SCORM_STATUS_UNKNOWN?c[i].SetProgressStatus(!1,!1,this,!0):t.SuccessStatus===SCORM_STATUS_PASSED?(c[i].SetProgressStatus(!0,!1,this,!0),c[i].SetSatisfiedStatus(!0,!1,this)):t.SuccessStatus===SCORM_STATUS_FAILED?(c[i].SetProgressStatus(!0,!1,this,!0),c[i].SetSatisfiedStatus(!1,!1,this)):Debug.AssertError("Invalid success status ("+t.SuccessStatus+") encountered in a RTE objective at position "+i)),!0===t.MeasureChangedDuringRuntime&&(null===t.ScoreScaled?c[i].SetMeasureStatus(!1,this):(c[i].SetMeasureStatus(!0,this),c[i].SetNormalizedMeasure(t.ScoreScaled,this))),c[i].SetScoreRaw(t.ScoreRaw),c[i].SetScoreMin(t.ScoreMin),c[i].SetScoreMax(t.ScoreMax),!0===t.ProgressMeasureChangedDuringRuntime&&(d.GetIdentifier()===e&&(h=!0,null===t.ProgressMeasure?this.SetAttemptCompletionAmountStatus(!1):(this.SetAttemptCompletionAmountStatus(!0),this.SetAttemptCompletionAmount(t.ProgressMeasure))),null===t.ProgressMeasure?c[i].SetProgressMeasureStatus(!1):(c[i].SetProgressMeasureStatus(!0),c[i].SetProgressMeasure(t.ProgressMeasure))),!0===t.CompletionStatusChangedDuringRuntime&&(s=o=!1,t.CompletionStatus===SCORM_STATUS_UNKNOWN?o=!1:t.CompletionStatus===SCORM_STATUS_NOT_ATTEMPTED?s=!(o=!0):t.CompletionStatus===SCORM_STATUS_COMPLETED?s=o=!0:t.CompletionStatus===SCORM_STATUS_INCOMPLETE||t.CompletionStatus===SCORM_STATUS_BROWSED?s=!(o=!0):Debug.AssertError("Invalid completion status-"+t.CompletionStatus),c[i].SetCompletionStatus(o),!0===o&&c[i].SetCompletionStatusValue(s),d.GetIdentifier()===e&&(this.SetAttemptProgressStatus(o),!0===o&&this.SetAttemptCompletionStatus(s)))):0<e.length&&Debug.AssertError("Sequencing objective not found in runtime, id="+c[i].GetIdentifier());r=!0===this.Sequencer.LookAhead?(n=this.RunTime.LookAheadSuccessStatus,this.RunTime.LookAheadCompletionStatus):(n=this.RunTime.SuccessStatus,this.RunTime.CompletionStatus),n===SCORM_STATUS_UNKNOWN?d.SetProgressStatus(!1,!1,this):n===SCORM_STATUS_PASSED?(d.SetProgressStatus(!0,!1,this),d.SetSatisfiedStatus(!0,!1,this)):n===SCORM_STATUS_FAILED?(d.SetProgressStatus(!0,!1,this),d.SetSatisfiedStatus(!1,!1,this)):this.Sequencer.LogSeq("ERROR - invalid success status-"+n),0===this.RunTime.ScoreRaw&&Control.Package.Properties.ScoreRollupMode===SCORE_ROLLUP_METHOD_AVERAGE_SCORE_OF_ALL_UNITS_WITH_NONZERO_SCORES||(null===this.RunTime.ScoreScaled?(d.SetMeasureStatus(!1,this),!0===Control.Package.Properties.ScaleRawScore&&(null!=(a=NormalizeRawScore(this.RunTime.ScoreRaw,this.RunTime.ScoreMin,this.RunTime.ScoreMax))?(d.SetMeasureStatus(!0,this),d.SetNormalizedMeasure(a,this)):this.Sequencer.LogSeq("WARNING - Unable to normalize score - Raw Score: "+this.RunTime.ScoreRaw+"Min Score: "+this.RunTime.ScoreMin+"Max Score: "+this.RunTime.ScoreMax))):(d.SetMeasureStatus(!0,this),d.SetNormalizedMeasure(this.RunTime.ScoreScaled,this))),d.SetScoreRaw(this.RunTime.ScoreRaw),d.SetScoreMin(this.RunTime.ScoreMin),d.SetScoreMax(this.RunTime.ScoreMax),null===this.RunTime.ProgressMeasure?!0!==h&&(this.SetAttemptCompletionAmountStatus(!1),d.SetProgressMeasureStatus(!1)):(this.SetAttemptCompletionAmountStatus(!0),this.SetAttemptCompletionAmount(this.RunTime.ProgressMeasure),d.SetProgressMeasureStatus(!0),d.SetProgressMeasure(this.RunTime.ProgressMeasure)),(l=u=!1)!==Control.Package.LearningStandard.is20044thOrGreater()&&!0!==this.RunTime.CompletionStatusChangedDuringRuntime||(r===SCORM_STATUS_UNKNOWN?l=u=!1:r===SCORM_STATUS_NOT_ATTEMPTED?l=!(u=!0):r===SCORM_STATUS_COMPLETED?l=u=!0:r===SCORM_STATUS_INCOMPLETE||r===SCORM_STATUS_BROWSED?l=!(u=!0):Debug.AssertError("Invalid completion status-"+r),this.SetAttemptProgressStatus(u),!0===u&&this.SetAttemptCompletionStatus(l)),!1===this.LookAheadActivity&&this.SetDirtyData()}}function Activity_IsTheRoot(){return null===this.ParentActivity}function Activity_IsALeaf(){return 0===this.ChildActivities.length}function Activity_IsActive(){return this.Active}function Activity_IsSuspended(){return this.Suspended}function Activity_HasSuspendedChildren(){for(var t=this.GetChildren(),e=0;e<t.length;e+=1)if(t[e].IsSuspended())return!0;return!1}function Activity_SetActive(t){this.Active=t,this.SetDirtyData()}function Activity_SetSuspended(t){this.Suspended=t,this.SetDirtyData()}function Activity_IsTracked(){return this.LearningObject.SequencingData.Tracked}function Activity_IsCompletionSetByContent(){return!0===Control.Package.Properties.ForceObjectiveCompletionSetByContent||this.LearningObject.SequencingData.CompletionSetByContent}function Activity_IsObjectiveSetByContent(){return!0===Control.Package.Properties.ForceObjectiveCompletionSetByContent||this.LearningObject.SequencingData.ObjectiveSetByContent}function Activity_GetAttemptProgressStatus(){return!1!==this.IsTracked()&&this.AttemptProgressStatus}function Activity_SetAttemptProgressStatus(t){!0===(this.AttemptProgressStatus=t)&&this.SetAttemptedDuringThisAttempt(),this.GetPrimaryObjective().SetCompletionStatus(t),this.SetDirtyData()}function Activity_SetAttemptCompletionStatus(t){null===this.FirstCompletionTimestampUtc&&!0===t&&(this.FirstCompletionTimestampUtc=ConvertDateToIso8601String(new Date)),this.AttemptCompletionStatus=t,this.GetPrimaryObjective().SetCompletionStatusValue(t),this.SetDirtyData()}function Activity_GetAttemptCompletionStatus(){return!1!==this.IsTracked()&&this.AttemptCompletionStatus}function Activity_GetChildren(){return this.ChildActivities}function Activity_GetSequencingControlFlow(){return this.LearningObject.SequencingData.ControlFlow}function Activity_GetSequencingControlChoice(){return this.LearningObject.SequencingData.ControlChoice}function Activity_GetSequencingControlChoiceExit(){return this.LearningObject.SequencingData.ControlChoiceExit}function Activity_GetSequencingControlForwardOnly(){return this.LearningObject.SequencingData.ControlForwardOnly}function Activity_GetPreventActivation(){return this.LearningObject.SequencingData.PreventActivation}function Activity_GetConstrainedChoice(){return this.LearningObject.SequencingData.ConstrainChoice}function Activity_GetSelectionTiming(){return this.LearningObject.SequencingData.SelectionTiming}function Activity_GetSelectionCountStatus(){return this.LearningObject.SequencingData.SelectionCountStatus}function Activity_GetSelectionCount(){return this.LearningObject.SequencingData.SelectionCount}function Activity_GetRandomizationTiming(){return this.LearningObject.SequencingData.RandomizationTiming}function Activity_GetRandomizeChildren(){return this.LearningObject.SequencingData.RandomizeChildren}function Activity_GetLimitConditionAttemptControl(){return this.LearningObject.SequencingData.LimitConditionAttemptControl}function Activity_GetActivityProgressStatus(){return!1!==this.IsTracked()&&this.ActivityProgressStatus}function Activity_SetActivityProgressStatus(t){this.ActivityProgressStatus=t,this.SetDirtyData()}function Activity_GetAttemptCount(){return this.ActivityAttemptCount}function Activity_GetLimitConditionAttemptLimit(){return this.LearningObject.SequencingData.LimitConditionAttemptLimit}function Activity_GetPreConditionRules(){return this.LearningObject.SequencingData.PreConditionSequencingRules}function Activity_GetPostConditionRules(){return this.LearningObject.SequencingData.PostConditionSequencingRules}function Activity_GetExitRules(){return this.LearningObject.SequencingData.ExitSequencingRules}function Activity_IsSatisfied(t,e){var i;return null==e&&(e=!1),!1===this.IsTracked()?RESULT_UNKNOWN:(null==(i=null==t||""===t?this.GetPrimaryObjective():this.FindObjective(t))&&Debug.AssertError("Sequencing rule references a bad objective."),!0===i.GetProgressStatus(this,e)?!0===i.GetSatisfiedStatus(this,e):RESULT_UNKNOWN)}function Activity_IsObjectiveStatusKnown(t,e){return null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into IsObjectiveStatusKnown"),!1!==this.IsTracked()&&!0===this.FindObjective(t).GetProgressStatus(this,e)}function Activity_IsObjectiveMeasureKnown(t,e){return null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into IsObjectiveMeasureKnown"),!1!==this.IsTracked()&&!0===this.FindObjective(t).GetMeasureStatus(this,e)}function Activity_IsObjectiveMeasureGreaterThan(t,e,i){var n;return null==i&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into IsObjectiveMeasureGreaterThan"),!1!==this.IsTracked()&&!0===(n=this.FindObjective(t)).GetMeasureStatus(this,i)?n.GetNormalizedMeasure(this,i)>e:RESULT_UNKNOWN}function Activity_IsObjectiveMeasureLessThan(t,e,i){var n;return null==i&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into IsObjectiveMeasureLessThan"),!1===this.IsTracked()?RESULT_UNKNOWN:(n=this.FindObjective(t),Debug.AssertError("The objective referenced by a sequencing rule was not found. Does the definition of the sequencing rule in the manifest erroneously reference the name of the global objective instead of the local name of the objective? Problematic reference="+t,null===n),!0===n.GetMeasureStatus(this,i)?n.GetNormalizedMeasure(this,i)<e:RESULT_UNKNOWN)}function Activity_GetObjectiveMeasure(t){var e;return null==t&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into GetObjectiveMeasure"),!1!==this.IsTracked()&&!0===(e=this.GetPrimaryObjective()).GetMeasureStatus(this,t)?e.GetNormalizedMeasure(this,t):RESULT_UNKNOWN}function Activity_IsCompleted(t,e){var i,n,r,o,s,a,u=!1,l=!1,c=null;return null==e&&(e=!1),!1===this.IsTracked()?RESULT_UNKNOWN:(Control.Package.LearningStandard.is20044thOrGreater()&&(u=!0),!0===Control.Package.LearningStandard.is20044thOrGreater()&&!0===this.GetCompletedByMeasure()&&(l=!0),!0===u&&null!=t&&""!==t&&null==(c=this.FindObjective(t))&&Debug.AssertError("Sequencing rule references a bad objective."),!0===u&&null!=c?(i=c.GetCompletionStatus(this,e),n=c.GetCompletionStatusValue(this,e),!0===l&&(r=c.GetProgressMeasureStatus(),o=c.GetProgressMeasure())):(a=(s=this.GetPrimaryObjective()).GetMaps("ReadCompletionStatus",!0),!0===u&&0<a.length?(i=s.GetCompletionStatus(this,e),n=s.GetCompletionStatusValue(this,e),!0===l&&(r=s.GetProgressMeasureStatus(),o=s.GetProgressMeasure())):(n=!0===e&&!1===this.WasAttemptedDuringThisAttempt()?(i=this.PrevAttemptProgressStatus,this.PrevAttemptCompletionStatus):(i=this.AttemptProgressStatus,this.AttemptCompletionStatus),!0===l&&(r=this.GetAttemptCompletionAmountStatus(),o=this.GetAttemptCompletionAmount()))),!0!==l||!1!==this.IsActive()&&!0!==this.GetMeasureSatisfactionIfActive()?!0===i?!0===n:RESULT_UNKNOWN:!0===r?o>=this.GetMinProgressMeasure():RESULT_UNKNOWN)}function Activity_IsActivityProgressKnown(t,e){var i,n,r,o=!1,s=this.ActivityProgressStatus,a=null;return null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into IsActivityProgressKnown"),!1!==this.IsTracked()&&(Control.Package.LearningStandard.is20044thOrGreater()&&(o=!0),i=!0===Control.Package.LearningStandard.is20044thOrGreater()&&!0===this.GetCompletedByMeasure()?this.GetAttemptCompletionAmountStatus():(!0===o&&null!=t&&""!==t&&null==(a=this.FindObjective(t))&&Debug.AssertError("Sequencing rule references a bad objective."),!0===o&&null!=a?a.GetCompletionStatus(this,e):(r=(n=this.GetPrimaryObjective()).GetMaps("ReadCompletionStatus",!0),!0===o&&0<r.length?n.GetCompletionStatus(this,e):!0===e&&!1===this.WasAttemptedDuringThisAttempt()?this.PrevAttemptProgressStatus:this.AttemptProgressStatus)),!0===o?i:!0===i&&!0===s)}function Activity_IsAttempted(){return!1!==this.IsTracked()&&(!0===this.ActivityProgressStatus||!0===Control.Package.LearningStandard.is20044thOrGreater())&&0<this.GetAttemptCount()||RESULT_UNKNOWN}function Activity_IsAttemptLimitExceeded(){return!1===this.IsTracked()?RESULT_UNKNOWN:!this.IsActive()&&!this.IsSuspended()&&(!0===this.ActivityProgressStatus&&!0===this.GetLimitConditionAttemptControl()&&this.GetAttemptCount()>=this.GetLimitConditionAttemptLimit()||RESULT_UNKNOWN)}function Activity_GetObjectives(){return this.ActivityObjectives}function Activity_FindObjective(t){for(var e=this.GetObjectives(),i=0;i<e.length;i+=1)if(null===t||""===t){if(!0===e[i].GetContributesToRollup())return e[i]}else if(e[i].GetIdentifier()===t)return e[i];return null}function Activity_GetPrimaryObjective(){var t,e,i=null;if(null===this.CachedPrimaryObjective){for(t=this.GetObjectives(),e=0;e<t.length;e+=1)if(!0===t[e].GetContributesToRollup()){i=t[e];break}this.CachedPrimaryObjective=i}return null===this.CachedPrimaryObjective&&Debug.AssertError("Could not find a primary objective."),this.CachedPrimaryObjective}function Activity_GetRollupObjectiveMeasureWeight(){return parseFloat(this.LearningObject.SequencingData.RollupObjectiveMeasureWeight)}function Activity_GetMeasureSatisfactionIfActive(){return this.LearningObject.SequencingData.MeasureSatisfactionIfActive}function Activity_GetRollupRules(){return this.LearningObject.SequencingData.RollupRules}function Activity_ApplyRollupRule(t){var e;t.Action===RULE_SET_SATISFIED||t.Action===RULE_SET_NOT_SATISFIED?this.LearningObject.UsesDefaultSatisfactionRollupRules=!0:this.LearningObject.UsesDefaultCompletionRollupRules=!0,e=this.LearningObject.SequencingData.RollupRules.length,this.LearningObject.SequencingData.RollupRules[e]=t}function Activity_GetRollupObjectiveSatisfied(){return this.LearningObject.SequencingData.RollupObjectiveSatisfied}function Activity_GetRequiredForSatisfied(){return this.LearningObject.SequencingData.RequiredForSatisfied}function Activity_GetRequiredForNotSatisfied(){return this.LearningObject.SequencingData.RequiredForNotSatisfied}function Activity_RollupProgressCompletion(){return this.LearningObject.SequencingData.RollupProgressCompletion}function Activity_GetRequiredForCompleted(){return this.LearningObject.SequencingData.RequiredForCompleted}function Activity_GetRequiredForIncomplete(){return this.LearningObject.SequencingData.RequiredForIncomplete}function Activity_IncrementAttemptCount(){this.ActivityAttemptCount+=1}function Activity_SetRandomizedChildren(t){this.RandomizedChildren=t,this.SetDirtyData()}function Activity_SetSelectedChildren(t){this.SelectedChildren=t,this.SetDirtyData()}function Activity_GetRandomizedChildren(){return this.RandomizedChildren}function Activity_GetSelectedChildren(){return this.SelectedChildren}function Activity_GetActivityListBetweenChildren(t,e,i){for(var n=this.GetAvailableChildren(),r=[],o=null,s=null,a=0;a<n.length;a+=1)t===n[a]&&(o=a),e===n[a]&&(s=a);return o===s?i&&(r[0]=n[o]):o<s?(i&&(s+=1),r=n.slice(o,s)):s<o&&(i||(s+=1),r=n.slice(s,o+1)),r}function Activity_IsActivityAnAvailableChild(t){for(var e=this.GetAvailableChildren(),i=0;i<e.length;i+=1)if(e[i]===t)return!0;return!1}function Activity_SearchAllAvailableDescendents(t,e){for(var i=t.GetAvailableChildren(),n=0;n<i.length;n+=1){if(i[n]===e)return!0;if(Activity_SearchAllAvailableDescendents(i[n],e))return!0}return!1}function Activity_IsActivityAnAvailableDescendent(t){return Activity_SearchAllAvailableDescendents(this,t)}function Activity_IsActivityTheLastAvailableChild(t){var e=this.GetAvailableChildren();return e[e.length-1]===t}function Activity_IsActivityTheFirstAvailableChild(t){return this.GetAvailableChildren()[0]===t}function Activity_GetFirstAvailableChild(){return this.GetAvailableChildren()[0]}function Activity_GetNextActivityPreorder(){var t,e,i=this.GetAvailableChildren();if(0!==i.length)return i[0];for(t=this;null!==t.ParentActivity;t=t.ParentActivity)if(null!==(e=t.GetNextSibling()))return e;return null}function Activity_GetPreviousActivityPreorder(){var t,e=this.GetPreviousSibling();if(null===e)return this.ParentActivity;for(t=e.GetAvailableChildren();0<t.length;)t=(e=t[t.length-1]).GetAvailableChildren();return e}function Activity_GetNextSibling(){var t,e,i=null,n=this.ParentActivity;if(null===n)return null;for(t=n.GetAvailableChildren(),e=0;e<t.length;e+=1)if(t[e]===this){i=e;break}return null!==i&&i<t.length-1?t[i+1]:null}function Activity_GetPreviousSibling(){var t,e,i=null,n=this.ParentActivity;if(null===n)return null;for(t=n.GetAvailableChildren(),e=0;e<t.length;e+=1)if(t[e]===this){i=e;break}return null!==i&&0<i?t[i-1]:null}function Activity_InitializeAvailableChildren(){for(var t=this.GetChildren(),e=[],i=0;i<t.length;i+=1)!0===t[i].Included&&(e[e.length]=t[i]);0===e.length?this.SetAvailableChildren(t):(e.sort(function(t,e){var i=t.Ordinal,n=e.Ordinal;return i<n?-1:n<i?1:0}),this.SetAvailableChildren(e))}function Activity_GetAvailableChildren(){return null===this.AvailableChildren&&this.InitializeAvailableChildren(),this.AvailableChildren}function Activity_SetAvailableChildren(t){var e,i;for(this.AvailableChildren=t,e=this.GetChildren(),i=0;i<e.length;i+=1)e[i].Ordinal=0,e[i].Included=!1;for(i=0;i<this.AvailableChildren.length;i+=1)this.AvailableChildren[i].Ordinal=i+1,this.AvailableChildren[i].Included=!0;this.SetDirtyData()}function Activity_IsAvailable(){return this.Included}function Activity_InitializeForNewAttempt(t,e){var i,n,r;if(this.AttemptedDuringThisAttempt=!1,n=this.GetObjectives(),t&&!0===this.LearningObject.SequencingData.UseCurrentAttemptObjectiveInformation)for(t=!0,i=0;i<n.length;i+=1)n[i].ResetAttemptState();else t=!1;for(e&&!0===this.LearningObject.SequencingData.UseCurrentAttemptProgressInformation?(e=!0,this.ResetAttemptState()):e=!1,r=this.GetChildren(),i=0;i<r.length;i+=1)r[i].InitializeForNewAttempt(t,e);rscpCfg.get("sspEnabled")&&Control.Api.SSPApi&&Control.Api.SSPApi.ResetBucketsForActivity(this.DatabaseId),this.SetDirtyData()}function Activity_ResetAttemptState(){this.PrevAttemptProgressStatus=this.AttemptProgressStatus,this.PrevAttemptCompletionStatus=this.AttemptCompletionStatus,this.AttemptProgressStatus=!1,this.AttemptCompletionAmountStatus=!1,this.AttemptCompletionAmount=0,this.AttemptCompletionStatus=!1,this.SetDirtyData()}function Activity_RollupDurations(){for(var t,e,i=null,n=null,r=null,o=null,s=0,a=0,u=0,l=0,c=this.GetChildren(),d=0;d<c.length;d+=1)c[d].GetActivityStartTimestampUtc()&&(!i||c[d].GetActivityStartTimestampUtc()<i)&&(i=c[d].GetActivityStartTimestampUtc()),c[d].ActivityEndedDate&&(!r||c[d].ActivityEndedDate>r)&&(r=c[d].ActivityEndedDate),c[d].GetActivityExperiencedDurationTracked()&&(s+=ConvertIso8601TimeSpanToHundredths(c[d].GetActivityExperiencedDurationTracked())),c[d].GetActivityExperiencedDurationReported()&&(a+=ConvertIso8601TimeSpanToHundredths(c[d].GetActivityExperiencedDurationReported())),(!this.GetAttemptStartTimestampUtc()||c[d].GetAttemptStartTimestampUtc()&&c[d].GetAttemptStartTimestampUtc()>=this.GetAttemptStartTimestampUtc())&&(!this.GetAttemptStartTimestampUtc()&&c[d].GetAttemptStartTimestampUtc()&&(!n||c[d].GetAttemptStartTimestampUtc()<n)&&(n=c[d].GetAttemptStartTimestampUtc()),c[d].ActivityEndedDate&&(!o||c[d].ActivityEndedDate>o)&&(o=c[d].ActivityEndedDate),c[d].GetAttemptExperiencedDurationTracked()&&(u+=ConvertIso8601TimeSpanToHundredths(c[d].GetAttemptExperiencedDurationTracked())),c[d].GetAttemptExperiencedDurationReported()&&(l+=ConvertIso8601TimeSpanToHundredths(c[d].GetAttemptExperiencedDurationReported())));this.IsALeaf()||null===i||(this.SetActivityStartTimestampUtc(i),this.GetAttemptStartTimestampUtc()||this.SetAttemptStartTimestampUtc(n),this.ActivityEndedDate=r,t=GetDateFromUtcIso8601Time(this.GetActivityStartTimestampUtc()),e=GetDateFromUtcIso8601Time(this.GetAttemptStartTimestampUtc()),this.SetActivityAbsoluteDuration(ConvertHundredthsToIso8601TimeSpan((r-t)/10)),this.SetAttemptAbsoluteDuration(ConvertHundredthsToIso8601TimeSpan((o-e)/10)),this.SetActivityExperiencedDurationTracked(ConvertHundredthsToIso8601TimeSpan(s)),this.SetActivityExperiencedDurationReported(ConvertHundredthsToIso8601TimeSpan(a)),this.SetAttemptExperiencedDurationTracked(ConvertHundredthsToIso8601TimeSpan(u)),this.SetAttemptExperiencedDurationReported(ConvertHundredthsToIso8601TimeSpan(l)))}function Activity_SetDirtyData(){this.DataState=DATA_STATE_DIRTY}function Activity_IsAnythingDirty(){var t;if(this.DataState===DATA_STATE_DIRTY)return!0;for(t=0;t<this.ActivityObjectives.length;t+=1)if(this.ActivityObjectives[t].DataState===DATA_STATE_DIRTY)return!0;return!1}function Activity_MarkPostedObjectiveDataDirty(){for(var t=0;t<this.ActivityObjectives.length;t+=1)this.ActivityObjectives[t].DataState===DATA_STATE_POSTED&&this.ActivityObjectives[t].SetDirtyData()}function Activity_MarkPostedObjectiveDataClean(){for(var t=0;t<this.ActivityObjectives.length;t+=1)this.ActivityObjectives[t].DataState===DATA_STATE_POSTED&&(this.ActivityObjectives[t].DataState=DATA_STATE_CLEAN)}function Activity_MarkDirtyObjectiveDataPosted(){for(var t=0;t<this.ActivityObjectives.length;t+=1)this.ActivityObjectives[t].DataState===DATA_STATE_DIRTY&&(this.ActivityObjectives[t].DataState=DATA_STATE_POSTED)}function Activity_SetSequencer(t,e){var i;for(this.Sequencer=t,this.LookAheadActivity=e,i=0;i<this.ActivityObjectives.length;i+=1)this.ActivityObjectives[i].SetSequencer(t)}function Activity_Clone(){var t,e=new Activity(this.DatabaseId,this.ItemIdentifier,this.ScormObjectDatabaseId,this.ActivityProgressStatus,this.ActivityAttemptCount,this.AttemptProgressStatus,this.AttemptCompletionAmountStatus,this.AttemptCompletionAmount,this.AttemptCompletionStatus,this.Active,this.Suspended,this.Included,this.Ordinal,this.SelectedChildren,this.RandomizedChildren,null,null,this.PrevAttemptProgressStatus,this.PrevAttemptCompletionStatus,this.AttemptedDuringThisAttempt,this.FirstCompletionTimestampUtc,this.ActivityStartTimestampUtc,this.AttemptStartTimestampUtc,this.ActivityAbsoluteDuration,this.AttemptAbsoluteDuration,this.ActivityExperiencedDurationTracked,this.AttemptExperiencedDurationTracked,this.ActivityExperiencedDurationReported,this.AttemptExperiencedDurationReported);for(t in e.StringIdentifier=this.toString(),e.ActivityObjectives=[],this.ActivityObjectives)this.ActivityObjectives.hasOwnProperty(t)&&(e.ActivityObjectives[t]=this.ActivityObjectives[t].Clone());return e.RunTime=this.RunTime,e.LearningObject=this.LearningObject,e.DataState=DATA_STATE_CLEAN,e.LaunchedThisSession=this.LaunchedThisSession,e.AttemptedDuringThisAttempt=this.AttemptedDuringThisAttempt,e.UsesDefaultRollupRules=this.UsesDefaultRollupRules,e}function Activity_TearDown(){var t;for(t in this.StringIdentifier=null,this.DatabaseId=null,this.ScormObjectDatabaseId=null,this.ActivityProgressStatus=null,this.ActivityAttemptCount=null,this.AttemptProgressStatus=null,this.AttemptCompletionAmountStatus=null,this.AttemptCompletionAmount=null,this.AttemptCompletionStatus=null,this.FirstCompletionTimestampUtc=null,this.ActivityStartTimestampUtc=null,this.AttemptStartTimestampUtc=null,this.ActivityAbsoluteDuration=null,this.AttemptAbsoluteDuration=null,this.ActivityExperiencedDurationTracked=null,this.AttemptExperiencedDurationTracked=null,this.ActivityExperiencedDurationReported=null,this.AttemptExperiencedDurationReported=null,this.Active=null,this.Suspended=null,this.Included=null,this.Ordinal=null,this.SelectedChildren=null,this.RandomizedChildren=null,this.RunTime=null,this.Sequencer=null,this.LookAheadActivity=null,this.LearningObject=null,this.ParentActivity=null,this.AvailableChildren=null,this.DataState=null,this.MenuItem=null,this.ChildActivities=null,this.CachedPrimaryObjective=null,this.HiddenFromChoice=null,this.ActivityObjectives)this.ActivityObjectives.hasOwnProperty(t)&&(this.ActivityObjectives[t].TearDown(),this.ActivityObjectives[t]=null);this.ActivityObjectives=null}function Activity_DisplayInChoice(){return!1!==this.LearningObject.Visible&&(!1!==this.IsAvailable()&&!0!==this.HiddenFromChoice)}function Activity_SetHiddenFromChoice(t){this.HiddenFromChoice=t}function Activity_WasLaunchedThisSession(){return this.LaunchedThisSession}function Activity_SetLaunchedThisSession(){this.LaunchedThisSession=!0,this.LearningObject.ScormType===SCORM_TYPE_ASSET&&(Control.ScoLoader.ScoLoaded=!0)}function Activity_WasAttemptedDuringThisAttempt(){return this.AttemptedDuringThisAttempt}function Activity_SetAttemptedDuringThisAttempt(){this.AttemptedDuringThisAttempt=!0}function Activity_GetMinProgressMeasure(){return this.LearningObject.CompletionThreshold}function Activity_GetCompletionProgressWeight(){return parseFloat(this.LearningObject.CompletionProgressWeight)}function Activity_GetCompletedByMeasure(){return this.LearningObject.CompletedByMeasure}function Activity_GetAttemptCompletionAmount(){return this.AttemptCompletionAmount}function Activity_SetAttemptCompletionAmount(t){this.AttemptCompletionAmount=t}function Activity_GetAttemptCompletionAmountStatus(){return this.AttemptCompletionAmountStatus}function Activity_SetAttemptCompletionAmountStatus(t){this.AttemptCompletionAmountStatus=t}function Activity_GetCompletionStatusChangedDuringRuntime(){return null!==this.RunTime&&this.RunTime.CompletionStatusChangedDuringRuntime}function Activity_GetSuccessStatusChangedDuringRuntime(){return null!==this.RunTime&&this.RunTime.SuccessStatusChangedDuringRuntime}function Activity_GetActivityStartTimestampUtc(){return this.ActivityStartTimestampUtc}function Activity_SetActivityStartTimestampUtc(t){this.ActivityStartTimestampUtc=t,this.SetDirtyData()}function Activity_GetAttemptStartTimestampUtc(){return this.AttemptStartTimestampUtc}function Activity_SetAttemptStartTimestampUtc(t){this.AttemptStartTimestampUtc=t,this.SetDirtyData()}function Activity_GetActivityAbsoluteDuration(){return this.ActivityAbsoluteDuration}function Activity_SetActivityAbsoluteDuration(t){this.ActivityAbsoluteDuration=t,this.SetDirtyData()}function Activity_GetAttemptAbsoluteDuration(){return this.AttemptAbsoluteDuration}function Activity_SetAttemptAbsoluteDuration(t){this.AttemptAbsoluteDuration=t,this.SetDirtyData()}function Activity_GetActivityExperiencedDurationTracked(){return this.ActivityExperiencedDurationTracked}function Activity_SetActivityExperiencedDurationTracked(t){this.ActivityExperiencedDurationTracked=t,this.SetDirtyData()}function Activity_GetAttemptExperiencedDurationTracked(){return this.AttemptExperiencedDurationTracked}function Activity_SetAttemptExperiencedDurationTracked(t){this.AttemptExperiencedDurationTracked=t,this.SetDirtyData()}function Activity_GetActivityExperiencedDurationReported(){return this.ActivityExperiencedDurationReported}function Activity_SetActivityExperiencedDurationReported(t){this.ActivityExperiencedDurationReported=t,this.SetDirtyData()}function Activity_GetAttemptExperiencedDurationReported(){return this.AttemptExperiencedDurationReported}function Activity_SetAttemptExperiencedDurationReported(t){this.AttemptExperiencedDurationReported=t,this.SetDirtyData()}function Activity_UsesDefaultSatisfactionRollupRules(){return this.LearningObject.UsesDefaultSatisfactionRollupRules}function Activity_UsesDefaultCompletionRollupRules(){return this.LearningObject.UsesDefaultCompletionRollupRules}function ActivityObjective(t,e,i,n,r,o,s,a,u,l,c,d,h,p,f,g,m,S,v){this.Identifier=t,this.ProgressStatus=e,this.SatisfiedStatus=i,this.MeasureStatus=n,this.NormalizedMeasure=r,this.Primary=o,this.PrevProgressStatus=s,this.PrevSatisfiedStatus=a,this.PrevMeasureStatus=u,this.PrevNormalizedMeasure=l,this.FirstSuccessTimestampUtc=c,this.FirstNormalizedMeasure=d,this.ScoreRaw=h,this.ScoreMin=p,this.ScoreMax=f,this.CompletionStatus=g,this.CompletionStatusValue=m,this.ProgressMeasureStatus=S,this.ProgressMeasure=v,this.SatisfiedByMeasure=!1,this.MinNormalizedMeasure=1,this.Maps=[],this.DataState=DATA_STATE_CLEAN,this.Sequencer=null}function ActivityObjective_GetXml(t,e){var i=new ServerFormater,n=new XmlElement("AO");return n.AddAttribute("AI",t),n.AddAttribute("AOI",e),n.AddAttribute("I",this.Identifier),n.AddAttribute("PS",i.ConvertBoolean(this.ProgressStatus)),n.AddAttribute("SS",i.ConvertBoolean(this.SatisfiedStatus)),n.AddAttribute("MS",i.ConvertBoolean(this.MeasureStatus)),n.AddAttribute("NM",this.NormalizedMeasure),n.AddAttribute("PPS",i.ConvertBoolean(this.PrevProgressStatus)),n.AddAttribute("PSS",i.ConvertBoolean(this.PrevSatisfiedStatus)),n.AddAttribute("PMS",i.ConvertBoolean(this.PrevMeasureStatus)),n.AddAttribute("PNM",this.PrevNormalizedMeasure),null!==this.FirstSuccessTimestampUtc&&n.AddAttribute("FSTU",this.FirstSuccessTimestampUtc),null!==this.FirstNormalizedMeasure&&n.AddAttribute("FNM",this.FirstNormalizedMeasure),n.AddAttribute("P",i.ConvertBoolean(this.Primary)),n.AddAttribute("CS",i.ConvertBoolean(this.CompletionStatus)),n.AddAttribute("CSV",i.ConvertBoolean(this.CompletionStatusValue)),null!==this.ScoreRaw&&n.AddAttribute("SR",this.ScoreRaw),null!==this.ScoreMax&&n.AddAttribute("SM",this.ScoreMax),null!==this.ScoreMin&&n.AddAttribute("SMi",this.ScoreMin),n.AddAttribute("PrMS",i.ConvertBoolean(this.ProgressMeasureStatus)),null!==this.ProgressMeasure&&n.AddAttribute("PM",this.ProgressMeasure),n.toString()}function ActivityObjective_toString(){return this.Identifier}function ActivityObjective_ResetAttemptState(){this.PrevProgressStatus=this.ProgressStatus,this.PrevSatisfiedStatus=this.SatisfiedStatus,this.PrevMeasureStatus=this.MeasureStatus,this.PrevNormalizedMeasure=this.NormalizedMeasure,this.ProgressStatus=!1,this.SatisfiedStatus=!1,this.MeasureStatus=!1,this.NormalizedMeasure=0,this.ScoreRaw=null,this.ScoreMin=null,this.ScoreMax=null,this.CompletionStatus=!1,this.CompletionStatusValue=!1,this.ProgressMeasureStatus=!1,this.ProgressMeasure=null,this.SetDirtyData()}function ActivityObjective_GetContributesToRollup(){return this.Primary}function ActivityObjective_GetMeasureStatus(t,e){var i,n,r,o;if(null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into GetMeasureStatus"),!0===(!1===(i=!0===e&&null!=t&&!1===t.WasAttemptedDuringThisAttempt()?this.PrevMeasureStatus:this.MeasureStatus)||Control.Package.LearningStandard.is20043rdOrGreater()))for(n=this.Maps,r=0;r<n.length;r+=1)!0===n[r].ReadNormalizedMeasure&&null!==(o=this.Sequencer.GetGlobalObjectiveByIdentifier(n[r].TargetObjectiveId))&&!0===o.MeasureStatus&&(i=o.MeasureStatus);return i}function ActivityObjective_GetNormalizedMeasure(t,e){var i,n,r,o,s;if(null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into GetNormalizedMeasure"),n=!0===e&&null!=t&&!1===t.WasAttemptedDuringThisAttempt()?(i=this.PrevMeasureStatus,this.PrevNormalizedMeasure):(i=this.MeasureStatus,this.NormalizedMeasure),!0===(!1===i||Control.Package.LearningStandard.is20043rdOrGreater()))for(r=this.Maps,o=0;o<r.length;o+=1)!0===r[o].ReadNormalizedMeasure&&null!==(s=this.Sequencer.GetGlobalObjectiveByIdentifier(r[o].TargetObjectiveId))&&!0===s.MeasureStatus&&(n=s.NormalizedMeasure);return n}function ActivityObjective_SetMeasureStatus(t,e){var i,n,r;if(null==e&&Debug.AssertError("ERROR - activity must be passed into SetMeasureStatus"),!0===(this.MeasureStatus=t))for(e.SetAttemptedDuringThisAttempt(),i=this.Maps,n=0;n<i.length;n+=1)!0===i[n].WriteNormalizedMeasure&&(null===(r=this.Sequencer.GetGlobalObjectiveByIdentifier(i[n].TargetObjectiveId))?this.Sequencer.AddGlobalObjective(i[n].TargetObjectiveId,!1,!1,!0,0):(r.MeasureStatus=!0,r.SetDirtyData()));this.SetDirtyData()}function ActivityObjective_SetNormalizedMeasure(t,e){var i,n,r,o;if(this.NormalizedMeasure=t,!0===this.MeasureStatus)for(i=this.Maps,n=0;n<i.length;n+=1)!0===i[n].WriteNormalizedMeasure&&(null===(r=this.Sequencer.GetGlobalObjectiveByIdentifier(i[n].TargetObjectiveId))?this.Sequencer.AddGlobalObjective(i[n].TargetObjectiveId,!1,!1,!0,t):(r.NormalizedMeasure=t,r.SetDirtyData()));null==e&&Debug.AssertError("ERROR - activity must be passed into SetNormalizedMeasure"),!0!==this.GetSatisfiedByMeasure()||!1!==e.IsActive()&&!0!==e.GetMeasureSatisfactionIfActive()||(o=this.GetNormalizedMeasure(e,!1)>=this.GetMinimumSatisfiedNormalizedMeasure(),this.SetProgressStatus(!0,!0,e),this.SetSatisfiedStatus(o,!0,e)),!0===this.ProgressStatus&&0===this.FirstNormalizedMeasure&&(this.FirstNormalizedMeasure=t),this.SetDirtyData()}function ActivityObjective_SetProgressStatus(t,e,i,n){var r,o,s,a;if(null==i&&Debug.AssertError("ERROR - activity must be passed into SetMeasureStatus"),!1===this.GetSatisfiedByMeasure()||!0===e){if(!0===(this.ProgressStatus=t)&&i.SetAttemptedDuringThisAttempt(),r=t,Control.Package.LearningStandard.is20044thOrGreater()&&(r=r||!0===n),r)for(o=this.Maps,s=0;s<o.length;s+=1)!0===o[s].WriteSatisfiedStatus&&(null===(a=this.Sequencer.GetGlobalObjectiveByIdentifier(o[s].TargetObjectiveId))?this.Sequencer.AddGlobalObjective(o[s].TargetObjectiveId,t,!1,!1,0):(a.ProgressStatus=t,a.SetDirtyData()));this.SetDirtyData()}}function ActivityObjective_SetSatisfiedStatus(t,e,i){var n,r,o;if(!1===this.GetSatisfiedByMeasure()||!0===e){if(!0===(this.SatisfiedStatus=t)&&!0===Control.Package.Properties.SatisfiedCausesCompletion&&(i.SetAttemptProgressStatus(!0),i.SetAttemptCompletionStatus(!0)),!0===this.ProgressStatus)for(null===this.FirstSuccessTimestampUtc&&!0===t&&(this.FirstSuccessTimestampUtc=ConvertDateToIso8601String(new Date)),n=this.Maps,r=0;r<n.length;r+=1)!0===n[r].WriteSatisfiedStatus&&(null===(o=this.Sequencer.GetGlobalObjectiveByIdentifier(n[r].TargetObjectiveId))?this.Sequencer.AddGlobalObjective(n[r].TargetObjectiveId,!0,t,!1,0):(o.SatisfiedStatus=t,o.SetDirtyData()));this.SetDirtyData()}}function ActivityObjective_GetSatisfiedByMeasure(){return this.SatisfiedByMeasure}function ActivityObjective_GetMinimumSatisfiedNormalizedMeasure(){return parseFloat(this.MinNormalizedMeasure)}function ActivityObjective_GetProgressStatus(t,e){var i,n,r,o;if(null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into GetProgressStatus"),null==t&&Debug.AssertError("ERROR - activity must be passed into ActivityObjective_GetProgressStatus"),!0===(!1===(i=!0===e&&!1===t.WasAttemptedDuringThisAttempt()?this.PrevProgressStatus:this.ProgressStatus)||Control.Package.LearningStandard.is20043rdOrGreater()))for(n=this.Maps,r=0;r<n.length;r+=1)!0===n[r].ReadSatisfiedStatus&&null!==(o=this.Sequencer.GetGlobalObjectiveByIdentifier(n[r].TargetObjectiveId))&&(i=o.ProgressStatus);return!0!==this.GetSatisfiedByMeasure()||!1!==t.IsActive()&&!0!==t.GetMeasureSatisfactionIfActive()||(i=!0===this.GetMeasureStatus(t,e)),i}function ActivityObjective_GetSatisfiedStatus(t,e){var i,n,r,o,s;if(null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into GetSatisfiedStatus"),i=!0===e&&!1===t.WasAttemptedDuringThisAttempt()?(n=this.PrevProgressStatus,this.PrevSatisfiedStatus):(n=this.ProgressStatus,this.SatisfiedStatus),!0===(!1===n||Control.Package.LearningStandard.is20043rdOrGreater()))for(r=this.Maps,o=0;o<r.length;o+=1)!0===r[o].ReadSatisfiedStatus&&null!==(s=this.Sequencer.GetGlobalObjectiveByIdentifier(r[o].TargetObjectiveId))&&!0===s.ProgressStatus&&(i=s.SatisfiedStatus);return null==t?Debug.AssertError("ERROR - activity must be passed into ActivityObjective_GetSatisfiedStatus"):!0!==this.GetSatisfiedByMeasure()||!1!==t.IsActive()&&!0!==t.GetMeasureSatisfactionIfActive()||!0!==this.GetMeasureStatus(t,e)||(i=this.GetNormalizedMeasure(t,e)>=this.GetMinimumSatisfiedNormalizedMeasure()),i}function ActivityObjective_GetScoreRaw(){var t,e,i,n=this.ScoreRaw;if(!0===Control.Package.LearningStandard.is20044thOrGreater())for(t=this.Maps,e=0;e<t.length;e+=1)!0===t[e].ReadRawScore&&null!==(i=this.Sequencer.GetGlobalObjectiveByIdentifier(t[e].TargetObjectiveId))&&null!==i.ScoreRaw&&(n=i.ScoreRaw);return n}function ActivityObjective_SetScoreRaw(t){var e,i,n;if(null!==(this.ScoreRaw=t))for(e=this.Maps,i=0;i<e.length;i+=1)!0===e[i].WriteRawScore&&null!==(n=this.Sequencer.GetGlobalObjectiveByIdentifier(e[i].TargetObjectiveId))&&(n.ScoreRaw=t,n.SetDirtyData());this.SetDirtyData()}function ActivityObjective_GetScoreMin(){var t,e,i,n=this.ScoreMin;if(!0===Control.Package.LearningStandard.is20044thOrGreater())for(t=this.Maps,e=0;e<t.length;e+=1)!0===t[e].ReadMinScore&&null!==(i=this.Sequencer.GetGlobalObjectiveByIdentifier(t[e].TargetObjectiveId))&&null!==i.ScoreMin&&(n=i.ScoreMin);return n}function ActivityObjective_SetScoreMin(t){var e,i,n;if(null!==(this.ScoreMin=t))for(e=this.Maps,i=0;i<e.length;i+=1)!0===e[i].WriteMinScore&&null!==(n=this.Sequencer.GetGlobalObjectiveByIdentifier(e[i].TargetObjectiveId))&&(n.ScoreMin=t,n.SetDirtyData());this.SetDirtyData()}function ActivityObjective_GetScoreMax(){var t,e,i,n=this.ScoreMax;if(!0===Control.Package.LearningStandard.is20044thOrGreater())for(t=this.Maps,e=0;e<t.length;e+=1)!0===t[e].ReadMaxScore&&null!==(i=this.Sequencer.GetGlobalObjectiveByIdentifier(t[e].TargetObjectiveId))&&null!==i.ScoreMax&&(n=i.ScoreMax);return n}function ActivityObjective_SetScoreMax(t){var e,i,n;if(null!==(this.ScoreMax=t))for(e=this.Maps,i=0;i<e.length;i+=1)!0===e[i].WriteMaxScore&&null!==(n=this.Sequencer.GetGlobalObjectiveByIdentifier(e[i].TargetObjectiveId))&&(n.ScoreMax=t,n.SetDirtyData());this.SetDirtyData()}function ActivityObjective_GetCompletionStatus(t,e){var i,n,r,o;if(null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into GetCompletionStatus"),null==t&&Debug.AssertError("ERROR - activity must be passed into ActivityObjective_GetCompletionStatusValue"),i=this.CompletionStatus,!0===Control.Package.LearningStandard.is20044thOrGreater())for(n=this.Maps,o=0;o<n.length;o+=1)!0===n[o].ReadCompletionStatus&&null!==(r=this.Sequencer.GetGlobalObjectiveByIdentifier(n[o].TargetObjectiveId))&&(i=r.CompletionStatus);return i}function ActivityObjective_GetCompletionStatusValue(t,e){var i,n,r,o;if(null==e&&Debug.AssertError("ERROR - canLookAtPreviousAttempt must be passed into GetCompletionStatusValue"),null==t&&Debug.AssertError("ERROR - activity must be passed into ActivityObjective_GetCompletionStatusValue"),i=this.CompletionStatusValue,!0===Control.Package.LearningStandard.is20044thOrGreater())for(n=this.GetMaps("ReadCompletionStatus",!0),r=0;r<n.length;r+=1)null!==(o=this.Sequencer.GetGlobalObjectiveByIdentifier(n[r].TargetObjectiveId))&&(i=o.CompletionStatusValue);return i}function ActivityObjective_SetCompletionStatus(t){var e,i,n;for(this.CompletionStatus=t,e=this.GetMaps("WriteCompletionStatus",!0),i=0;i<e.length;i+=1)null!==(n=this.Sequencer.GetGlobalObjectiveByIdentifier(e[i].TargetObjectiveId))&&(n.CompletionStatus=t,n.SetDirtyData());this.SetDirtyData()}function ActivityObjective_SetCompletionStatusValue(t){var e,i,n;for(this.CompletionStatusValue=t,e=this.GetMaps("WriteCompletionStatus",!0),i=0;i<e.length;i+=1)null!==(n=this.Sequencer.GetGlobalObjectiveByIdentifier(e[i].TargetObjectiveId))&&(n.CompletionStatusValue=t,n.SetDirtyData());this.SetDirtyData()}function ActivityObjective_GetProgressMeasureStatus(){var t,e,i,n=this.ProgressMeasureStatus;if(!0===Control.Package.LearningStandard.is20044thOrGreater())for(t=this.Maps,e=0;e<t.length;e+=1)!0===t[e].ReadProgressMeasure&&null!==(i=this.Sequencer.GetGlobalObjectiveByIdentifier(t[e].TargetObjectiveId))&&(n=i.ProgressMeasureStatus);return n}function ActivityObjective_GetProgressMeasure(){var t,e,i,n=this.ProgressMeasure;if(!0===Control.Package.LearningStandard.is20044thOrGreater())for(t=this.Maps,e=0;e<t.length;e+=1)!0===t[e].ReadProgressMeasure&&null!==(i=this.Sequencer.GetGlobalObjectiveByIdentifier(t[e].TargetObjectiveId))&&!1!==i.ProgressMeasureStatus&&(n=i.ProgressMeasure);return n}function ActivityObjective_SetProgressMeasureStatus(t){var e,i,n;for(this.ProgressMeasureStatus=t,e=this.Maps,i=0;i<e.length;i+=1)!0===e[i].WriteProgressMeasure&&null!==(n=this.Sequencer.GetGlobalObjectiveByIdentifier(e[i].TargetObjectiveId))&&(n.ProgressMeasureStatus=t,n.SetDirtyData());this.SetDirtyData()}function ActivityObjective_SetProgressMeasure(t){var e,i,n;if(this.ProgressMeasure=t,!0===this.ProgressMeasureStatus)for(e=this.Maps,i=0;i<e.length;i+=1)!0===e[i].WriteProgressMeasure&&null!==(n=this.Sequencer.GetGlobalObjectiveByIdentifier(e[i].TargetObjectiveId))&&(n.ProgressMeasure=t,n.SetDirtyData());this.SetDirtyData()}function ActivityObjective_GetIdentifier(){return this.Identifier}function ActivityObjective_GetMaps(t,e){var i,n,r=this.Maps;if(0<r.length&&null!=t){for(void 0===e&&null===e&&(e=!0),i=[],n=0;n<r.length;n+=1)r[n][t]===e&&(i[i.length]=r[n]);return i}return r}function ActivityObjective_SetDirtyData(){this.DataState=DATA_STATE_DIRTY}function ActivityObjective_SetSequencer(t){this.Sequencer=t}function ActivityObjective_Clone(){var t=new ActivityObjective(this.Identifier,this.ProgressStatus,this.SatisfiedStatus,this.MeasureStatus,this.NormalizedMeasure,this.Primary,null,null,null,null,null,null,this.ScoreRaw,this.ScoreMin,this.ScoreMax,this.CompletionStatus,this.CompletionStatusValue,this.ProgressMeasureStatus,this.ProgressMeasure);return t.SatisfiedByMeasure=this.SatisfiedByMeasure,t.MinNormalizedMeasure=this.MinNormalizedMeasure,t.CompletionStatusSetAtRuntime=this.CompletionStatusSetAtRuntime,t.Maps=this.Maps,t}function ActivityObjective_TearDown(){this.Identifier=null,this.ProgressStatus=null,this.SatisfiedStatus=null,this.MeasureStatus=null,this.NormalizedMeasure=null,this.ScoreRaw=null,this.ScoreMin=null,this.ScoreMax=null,this.CompletionStatus=null,this.CompletionStatusValue=null,this.ProgressMeasure=null,this.Primary=null,this.SatisfiedByMeasure=null,this.MinNormalizedMeasure=null,this.Maps=null,this.DataState=null,this.Sequencer=null,this.ProgressMeasureStatus=null,this.ProgressMeasure=null}function ActivityObjective_GetSuccessStatusChangedDuringRuntime(t){var e=t.RunTime.FindObjectiveWithId(this.Identifier);return null!==e&&!0===e.SuccessStatusChangedDuringRuntime}!function(){function m(t){var e={completion:null,success:null};return t.IsCompleted(null,!1)!==RESULT_UNKNOWN&&!0===t.IsCompleted(null,!1)&&(e.completion="completed"),t.IsSatisfied(null,!1)!==RESULT_UNKNOWN&&(!0===t.IsSatisfied(null,!1)?e.success="passed":e.success="failed"),!0===t.GetPrimaryObjective().MeasureStatus?e.score=100*t.GetPrimaryObjective().NormalizedMeasure:e.score="unknown",e}Communications.prototype={SendDispatchMessagesIfNeeded:function(t){var e,i,n,r,o,s,a,u,l,c,d,h=0,p=0,f=Control.Activities.ActivityList,g=[];if("undefined"!=typeof DispatchDriver){for(t=t||!1,l=rscpCfg.get("dispatchStatusAuthoritativeSource"),c=m(Control.Activities.GetRootActivity()),d="root_only"===l||"root_preferred"===l&&(null!==c.completion||null!==c.success||null!==c.score&&"unknown"!==c.score)?"root activity":Control.Package.Properties.LookaheadSequencerMode===LOOKAHEAD_SEQUENCER_MODE_DISABLE?(Control.WriteDetailedLog("Lookahead sequencer disabled so not consulted for course status"),"root activity"):(Control.WriteDetailedLog("Lookahead sequencer being consulted for status"),null!==(s=m(Control.LookAheadSequencer.Activities.GetRootActivity())).completion||null!==s.success||null!==s.score&&"unknown"!==s.score?"lookahead_preferred"===l?(Control.WriteDetailedLog("Lookahead sequencer is preferred and populated"),c=s,"lookahead sequencer"):"root_preferred"===l?(Control.WriteDetailedLog("Root activity doesn't have data (falling back to lookahead sequencer)"),c=s,"lookahead sequencer"):"learner_preferred"===l&&(a=c,"passed"===(u=s).success&&"passed"!==a.success||"completed"===u.completion&&"passed"!==a.success&&"completed"!==a.completion||"unknown"!==u.score&&("unknown"===a.score||u.score>a.score)&&("passed"===u.success||"passed"!==a.success)&&("completed"===u.completion||"completed"!==a.completion))?(Control.WriteDetailedLog("Best for learner comes from lookahead sequencer"),c=s,"lookahead sequencer"):("learner_preferred"===l?Control.WriteDetailedLog("Lookahead sequencer doesn't have better data for learner (falling back to root activity)"):Control.WriteDetailedLog("Unrecognized condition in determining course status (falling back to root activity)"),"root activity"):(Control.WriteDetailedLog("Lookahead sequencer doesn't have data (falling back to root activity)"),"root activity")),Control.WriteDetailedLog("Got Dispatch course status from "+d+" ("+l+")."),null===c.completion&&(c.completion="incomplete"),e=c,i=0;i<f.length;i+=1)if((r=f[i]).IsDeliverable())for(h+=ConvertIso8601TimeSpanToHundredths(r.RunTime.SessionTimeTracked),p+=ConvertIso8601TimeSpanToHundredths(r.RunTime.SessionTime),n=0;n<r.RunTime.Interactions.length;n+=1)g.push(r.RunTime.Interactions[n]);null!==(o=0<h?h:p)&&!isNaN(o)||(o=0);try{DispatchDriver.SetSummary(t,e.completion,e.success,e.score,o)}catch(t){throw new Error("Failed to SetSummary on DispatchDriver: "+t)}try{DispatchDriver.SetInteractions(t,g)}catch(t){throw new Error("Failed to SetInteractions on DispatchDriver: "+t)}}},TryFetchKeepAlive:function(t,e){if("function"!=typeof fetch||!("keepalive"in new Request("")))return!1;try{return fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",body:e,keepalive:!0}).then(function(t){Control.WriteDetailedLog("Exit postback using Fetch with KeepAlive finished with status "+t.status+":"+t.statusText)}).catch(function(t){Control.WriteDetailedLog("Error making exit postback fetch request: "+t.message)}),!0}catch(t){return Control.WriteDetailedLog("Error making exit postback fetch request: "+t.message),!1}}}}(),ScoLoader.prototype.LoadSco=ScoLoader_LoadSco,ScoLoader.prototype.UnloadSco=ScoLoader_UnloadSco,ScoLoader.prototype.WriteHistoryLog=ScoLoader_WriteHistoryLog,ScoLoader.prototype.WriteHistoryReturnValue=ScoLoader_WriteHistoryReturnValue,ScoLoader.prototype.ConstructPreviewAiccSid=ScoLoader_ConstructPreviewAiccSid,MenuItem.prototype.Render=MenuItem_Render,MenuItem.prototype.UpdateStateDisplay=MenuItem_UpdateStateDisplay,MenuItem.prototype.Hide=MenuItem_Hide,MenuItem.prototype.Show=MenuItem_Show,MenuItem.prototype.Enable=MenuItem_Enable,MenuItem.prototype.Disable=MenuItem_Disable,MenuItem.prototype.BumpUpLevel=MenuItem_BumpUpLevel,MenuItem.prototype.BumpDownLevel=MenuItem_BumpDownLevel,MenuItem.prototype.ResynchChildren=MenuItem_ResynchChildren,function(){"use strict";var s=0,a=0,u=0,l=0,c=!1,e=!1;(CommandSentry=function(){this._keySequences=[],this._touchSequences=[],this._successCallbacks=[],this._keySeqCounters=[],this._touchSeqCounters=[]}).prototype={addCommand:function(t,e,i){this._keySequences.push(e),this._keySeqCounters.push(0),this._touchSequences.push(i),this._touchSeqCounters.push(0),this._successCallbacks.push(t)},addTargetElement:function(t){var e;for(void 0===t&&(t=document),e=0;e<this._keySequences.length;e+=1)if(0<this._keySequences[e].length){this._addEvent(t,"keypress",this._keypressCallback);break}for(e=0;e<this._touchSequences.length;e+=1)if(0<this._touchSequences[e].length){this._addEvent(t,"touchstart",this._touchstartCallback),this._addEvent(t,"touchmove",this._touchmoveCallback),this._addEvent(t,"touchend",this._touchendCallback);break}},enterKeyCode:function(t){for(var e=0;e<this._keySequences.length;e+=1)t!==this._keySequences[e][this._keySeqCounters[e]]&&(this._keySeqCounters[e]=0),t===this._keySequences[e][this._keySeqCounters[e]]&&(this._keySeqCounters[e]+=1,this._keySeqCounters[e]===this._keySequences[e].length&&0<this._keySeqCounters[e]&&(this._keySeqCounters[e]=0,this._successCallbacks[e]()))},_addEvent:function(t,e,i){t.addEventListener?t.addEventListener(e,CommandSentry.bind(this,i),!1):t.attachEvent&&t.attachEvent("on"+e,CommandSentry.bind(this,i,t.parentWindow.event))},_evaluateTouchCommand:function(){for(var t=a-s,e=l-u,i=0<t?"r":"l",n=0<e?"d":"u",r=Math.abs(t)>Math.abs(e)?i:n,r=c?"t":r,o=0;o<this._touchSequences.length;o+=1)r!==this._touchSequences[o][this._touchSeqCounters[o]]&&(this._touchSeqCounters[o]=0),r===this._touchSequences[o][this._touchSeqCounters[o]]&&(this._touchSeqCounters[o]+=1,this._touchSeqCounters[o]===this._touchSequences[o].length&&0<this._touchSeqCounters[o]&&(this._touchSeqCounters[o]=0,this._successCallbacks[o]()))},_keypressCallback:function(t){var e=0!==t.keyCode?t.keyCode:t.charCode;this.enterKeyCode(e)},_touchstartCallback:function(t){s=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY,e=c=!0},_touchmoveCallback:function(t){e&&1===t.touches.length&&(a=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY,e=c=!1,this._evaluateTouchCommand())},_touchendCallback:function(){c&&this._evaluateTouchCommand()}},CommandSentry.bind=function(t,e){return function(){e.apply(t,arguments)}}}(),Activity.prototype.GetXml=Activity_GetXml,Activity.prototype.toString=Activity_toString,Activity.prototype.GetTitle=Activity_GetTitle,Activity.prototype.GetItemIdentifier=Activity_GetItemIdentifier,Activity.prototype.GetDatabaseIdentifier=Activity_GetDatabaseIdentifier,Activity.prototype.GetLaunchPath=Activity_GetLaunchPath,Activity.prototype.IsDeliverable=Activity_IsDeliverable,Activity.prototype.TransferRteDataToActivity=Activity_TransferRteDataToActivity,Activity.prototype.IsTheRoot=Activity_IsTheRoot,Activity.prototype.IsALeaf=Activity_IsALeaf,Activity.prototype.IsActive=Activity_IsActive,Activity.prototype.IsSuspended=Activity_IsSuspended,Activity.prototype.HasSuspendedChildren=Activity_HasSuspendedChildren,Activity.prototype.SetActive=Activity_SetActive,Activity.prototype.SetSuspended=Activity_SetSuspended,Activity.prototype.IsTracked=Activity_IsTracked,Activity.prototype.IsCompletionSetByContent=Activity_IsCompletionSetByContent,Activity.prototype.IsObjectiveSetByContent=Activity_IsObjectiveSetByContent,Activity.prototype.GetAttemptProgressStatus=Activity_GetAttemptProgressStatus,Activity.prototype.SetAttemptProgressStatus=Activity_SetAttemptProgressStatus,Activity.prototype.SetAttemptCompletionStatus=Activity_SetAttemptCompletionStatus,Activity.prototype.GetAttemptCompletionStatus=Activity_GetAttemptCompletionStatus,Activity.prototype.GetChildren=Activity_GetChildren,Activity.prototype.GetSequencingControlFlow=Activity_GetSequencingControlFlow,Activity.prototype.GetSequencingControlChoice=Activity_GetSequencingControlChoice,Activity.prototype.GetSequencingControlChoiceExit=Activity_GetSequencingControlChoiceExit,Activity.prototype.GetSequencingControlForwardOnly=Activity_GetSequencingControlForwardOnly,Activity.prototype.GetPreventActivation=Activity_GetPreventActivation,Activity.prototype.GetConstrainedChoice=Activity_GetConstrainedChoice,Activity.prototype.GetSelectionTiming=Activity_GetSelectionTiming,Activity.prototype.GetSelectionCountStatus=Activity_GetSelectionCountStatus,Activity.prototype.GetSelectionCount=Activity_GetSelectionCount,Activity.prototype.GetRandomizationTiming=Activity_GetRandomizationTiming,Activity.prototype.GetRandomizeChildren=Activity_GetRandomizeChildren,Activity.prototype.GetLimitConditionAttemptControl=Activity_GetLimitConditionAttemptControl,Activity.prototype.GetActivityProgressStatus=Activity_GetActivityProgressStatus,Activity.prototype.SetActivityProgressStatus=Activity_SetActivityProgressStatus,Activity.prototype.GetAttemptCount=Activity_GetAttemptCount,Activity.prototype.GetLimitConditionAttemptLimit=Activity_GetLimitConditionAttemptLimit,Activity.prototype.GetPreConditionRules=Activity_GetPreConditionRules,Activity.prototype.GetPostConditionRules=Activity_GetPostConditionRules,Activity.prototype.GetExitRules=Activity_GetExitRules,Activity.prototype.IsSatisfied=Activity_IsSatisfied,Activity.prototype.IsObjectiveStatusKnown=Activity_IsObjectiveStatusKnown,Activity.prototype.IsObjectiveMeasureKnown=Activity_IsObjectiveMeasureKnown,Activity.prototype.IsObjectiveMeasureGreaterThan=Activity_IsObjectiveMeasureGreaterThan,Activity.prototype.IsObjectiveMeasureLessThan=Activity_IsObjectiveMeasureLessThan,Activity.prototype.GetObjectiveMeasure=Activity_GetObjectiveMeasure,Activity.prototype.IsCompleted=Activity_IsCompleted,Activity.prototype.IsActivityProgressKnown=Activity_IsActivityProgressKnown,Activity.prototype.IsAttempted=Activity_IsAttempted,Activity.prototype.IsAttemptLimitExceeded=Activity_IsAttemptLimitExceeded,Activity.prototype.GetObjectives=Activity_GetObjectives,Activity.prototype.FindObjective=Activity_FindObjective,Activity.prototype.GetPrimaryObjective=Activity_GetPrimaryObjective,Activity.prototype.GetRollupObjectiveMeasureWeight=Activity_GetRollupObjectiveMeasureWeight,Activity.prototype.GetMeasureSatisfactionIfActive=Activity_GetMeasureSatisfactionIfActive,Activity.prototype.GetRollupRules=Activity_GetRollupRules,Activity.prototype.ApplyRollupRule=Activity_ApplyRollupRule,Activity.prototype.GetRollupObjectiveSatisfied=Activity_GetRollupObjectiveSatisfied,Activity.prototype.GetRequiredForSatisfied=Activity_GetRequiredForSatisfied,Activity.prototype.GetRequiredForNotSatisfied=Activity_GetRequiredForNotSatisfied,Activity.prototype.RollupProgressCompletion=Activity_RollupProgressCompletion,Activity.prototype.GetRequiredForCompleted=Activity_GetRequiredForCompleted,Activity.prototype.GetRequiredForIncomplete=Activity_GetRequiredForIncomplete,Activity.prototype.IncrementAttemptCount=Activity_IncrementAttemptCount,Activity.prototype.SetRandomizedChildren=Activity_SetRandomizedChildren,Activity.prototype.SetSelectedChildren=Activity_SetSelectedChildren,Activity.prototype.GetRandomizedChildren=Activity_GetRandomizedChildren,Activity.prototype.GetSelectedChildren=Activity_GetSelectedChildren,Activity.prototype.GetActivityListBetweenChildren=Activity_GetActivityListBetweenChildren,Activity.prototype.IsActivityAnAvailableChild=Activity_IsActivityAnAvailableChild,Activity.prototype.IsActivityAnAvailableDescendent=Activity_IsActivityAnAvailableDescendent,Activity.prototype.IsActivityTheLastAvailableChild=Activity_IsActivityTheLastAvailableChild,Activity.prototype.IsActivityTheFirstAvailableChild=Activity_IsActivityTheFirstAvailableChild,Activity.prototype.GetFirstAvailableChild=Activity_GetFirstAvailableChild,Activity.prototype.GetNextActivityPreorder=Activity_GetNextActivityPreorder,Activity.prototype.GetPreviousActivityPreorder=Activity_GetPreviousActivityPreorder,Activity.prototype.GetNextSibling=Activity_GetNextSibling,Activity.prototype.GetPreviousSibling=Activity_GetPreviousSibling,Activity.prototype.InitializeAvailableChildren=Activity_InitializeAvailableChildren,Activity.prototype.GetAvailableChildren=Activity_GetAvailableChildren,Activity.prototype.SetAvailableChildren=Activity_SetAvailableChildren,Activity.prototype.IsAvailable=Activity_IsAvailable,Activity.prototype.InitializeForNewAttempt=Activity_InitializeForNewAttempt,Activity.prototype.ResetAttemptState=Activity_ResetAttemptState,Activity.prototype.RollupDurations=Activity_RollupDurations,Activity.prototype.SetDirtyData=Activity_SetDirtyData,Activity.prototype.IsAnythingDirty=Activity_IsAnythingDirty,Activity.prototype.MarkPostedObjectiveDataDirty=Activity_MarkPostedObjectiveDataDirty,Activity.prototype.MarkPostedObjectiveDataClean=Activity_MarkPostedObjectiveDataClean,Activity.prototype.MarkDirtyObjectiveDataPosted=Activity_MarkDirtyObjectiveDataPosted,Activity.prototype.SetSequencer=Activity_SetSequencer,Activity.prototype.Clone=Activity_Clone,Activity.prototype.TearDown=Activity_TearDown,Activity.prototype.DisplayInChoice=Activity_DisplayInChoice,Activity.prototype.SetHiddenFromChoice=Activity_SetHiddenFromChoice,Activity.prototype.SetLaunchedThisSession=Activity_SetLaunchedThisSession,Activity.prototype.WasLaunchedThisSession=Activity_WasLaunchedThisSession,Activity.prototype.SetAttemptedDuringThisAttempt=Activity_SetAttemptedDuringThisAttempt,Activity.prototype.WasAttemptedDuringThisAttempt=Activity_WasAttemptedDuringThisAttempt,Activity.prototype.GetMinProgressMeasure=Activity_GetMinProgressMeasure,Activity.prototype.GetCompletionProgressWeight=Activity_GetCompletionProgressWeight,Activity.prototype.GetCompletedByMeasure=Activity_GetCompletedByMeasure,Activity.prototype.GetAttemptCompletionAmount=Activity_GetAttemptCompletionAmount,Activity.prototype.SetAttemptCompletionAmount=Activity_SetAttemptCompletionAmount,Activity.prototype.GetAttemptCompletionAmountStatus=Activity_GetAttemptCompletionAmountStatus,Activity.prototype.SetAttemptCompletionAmountStatus=Activity_SetAttemptCompletionAmountStatus,Activity.prototype.GetCompletionStatusChangedDuringRuntime=Activity_GetCompletionStatusChangedDuringRuntime,Activity.prototype.GetSuccessStatusChangedDuringRuntime=Activity_GetSuccessStatusChangedDuringRuntime,Activity.prototype.GetActivityStartTimestampUtc=Activity_GetActivityStartTimestampUtc,Activity.prototype.SetActivityStartTimestampUtc=Activity_SetActivityStartTimestampUtc,Activity.prototype.GetAttemptStartTimestampUtc=Activity_GetAttemptStartTimestampUtc,Activity.prototype.SetAttemptStartTimestampUtc=Activity_SetAttemptStartTimestampUtc,Activity.prototype.GetActivityAbsoluteDuration=Activity_GetActivityAbsoluteDuration,Activity.prototype.SetActivityAbsoluteDuration=Activity_SetActivityAbsoluteDuration,Activity.prototype.GetAttemptAbsoluteDuration=Activity_GetAttemptAbsoluteDuration,Activity.prototype.SetAttemptAbsoluteDuration=Activity_SetAttemptAbsoluteDuration,Activity.prototype.GetActivityExperiencedDurationTracked=Activity_GetActivityExperiencedDurationTracked,Activity.prototype.SetActivityExperiencedDurationTracked=Activity_SetActivityExperiencedDurationTracked,Activity.prototype.GetAttemptExperiencedDurationTracked=Activity_GetAttemptExperiencedDurationTracked,Activity.prototype.SetAttemptExperiencedDurationTracked=Activity_SetAttemptExperiencedDurationTracked,Activity.prototype.GetActivityExperiencedDurationReported=Activity_GetActivityExperiencedDurationReported,Activity.prototype.SetActivityExperiencedDurationReported=Activity_SetActivityExperiencedDurationReported,Activity.prototype.GetAttemptExperiencedDurationReported=Activity_GetAttemptExperiencedDurationReported,Activity.prototype.SetAttemptExperiencedDurationReported=Activity_SetAttemptExperiencedDurationReported,Activity.prototype.UsesDefaultSatisfactionRollupRules=Activity_UsesDefaultSatisfactionRollupRules,Activity.prototype.UsesDefaultCompletionRollupRules=Activity_UsesDefaultCompletionRollupRules,ActivityObjective.prototype.GetXml=ActivityObjective_GetXml,ActivityObjective.prototype.toString=ActivityObjective_toString,ActivityObjective.prototype.ResetAttemptState=ActivityObjective_ResetAttemptState,ActivityObjective.prototype.GetContributesToRollup=ActivityObjective_GetContributesToRollup,ActivityObjective.prototype.GetMeasureStatus=ActivityObjective_GetMeasureStatus,ActivityObjective.prototype.GetNormalizedMeasure=ActivityObjective_GetNormalizedMeasure,ActivityObjective.prototype.SetMeasureStatus=ActivityObjective_SetMeasureStatus,ActivityObjective.prototype.SetNormalizedMeasure=ActivityObjective_SetNormalizedMeasure,ActivityObjective.prototype.SetProgressStatus=ActivityObjective_SetProgressStatus,ActivityObjective.prototype.SetSatisfiedStatus=ActivityObjective_SetSatisfiedStatus,ActivityObjective.prototype.GetSatisfiedByMeasure=ActivityObjective_GetSatisfiedByMeasure,ActivityObjective.prototype.GetMinimumSatisfiedNormalizedMeasure=ActivityObjective_GetMinimumSatisfiedNormalizedMeasure,ActivityObjective.prototype.GetProgressStatus=ActivityObjective_GetProgressStatus,ActivityObjective.prototype.GetSatisfiedStatus=ActivityObjective_GetSatisfiedStatus,ActivityObjective.prototype.GetScoreRaw=ActivityObjective_GetScoreRaw,ActivityObjective.prototype.GetScoreMin=ActivityObjective_GetScoreMin,ActivityObjective.prototype.GetScoreMax=ActivityObjective_GetScoreMax,ActivityObjective.prototype.GetCompletionStatus=ActivityObjective_GetCompletionStatus,ActivityObjective.prototype.GetCompletionStatusValue=ActivityObjective_GetCompletionStatusValue,ActivityObjective.prototype.GetProgressMeasureStatus=ActivityObjective_GetProgressMeasureStatus,ActivityObjective.prototype.GetProgressMeasure=ActivityObjective_GetProgressMeasure,ActivityObjective.prototype.SetScoreRaw=ActivityObjective_SetScoreRaw,ActivityObjective.prototype.SetScoreMin=ActivityObjective_SetScoreMin,ActivityObjective.prototype.SetScoreMax=ActivityObjective_SetScoreMax,ActivityObjective.prototype.SetCompletionStatus=ActivityObjective_SetCompletionStatus,ActivityObjective.prototype.SetCompletionStatusValue=ActivityObjective_SetCompletionStatusValue,ActivityObjective.prototype.SetProgressMeasureStatus=ActivityObjective_SetProgressMeasureStatus,ActivityObjective.prototype.SetProgressMeasure=ActivityObjective_SetProgressMeasure,ActivityObjective.prototype.GetIdentifier=ActivityObjective_GetIdentifier,ActivityObjective.prototype.GetMaps=ActivityObjective_GetMaps,ActivityObjective.prototype.SetDirtyData=ActivityObjective_SetDirtyData,ActivityObjective.prototype.SetSequencer=ActivityObjective_SetSequencer,ActivityObjective.prototype.Clone=ActivityObjective_Clone,ActivityObjective.prototype.TearDown=ActivityObjective_TearDown,ActivityObjective.prototype.GetSuccessStatusChangedDuringRuntime=ActivityObjective_GetSuccessStatusChangedDuringRuntime;var SCORM_MODE_NORMAL="normal",SCORM_MODE_REVIEW="review",SCORM_MODE_BROWSE="browse",SCORM_STATUS_PASSED="passed",SCORM_STATUS_COMPLETED="completed",SCORM_STATUS_FAILED="failed",SCORM_STATUS_INCOMPLETE="incomplete",SCORM_STATUS_BROWSED="browsed",SCORM_STATUS_NOT_ATTEMPTED="not attempted",SCORM_STATUS_UNKNOWN="unknown",SCORM_EXIT_TIME_OUT="time-out",SCORM_EXIT_SUSPEND="suspend",SCORM_EXIT_LOGOUT="logout",SCORM_EXIT_NORMAL="normal",SCORM_EXIT_UNKNOWN="",SCORM_CREDIT="credit",SCORM_CREDIT_NO="no-credit",SCORM_ENTRY_AB_INITO="ab-initio",SCORM_ENTRY_RESUME="resume",SCORM_ENTRY_NORMAL="",SCORM_TRUE_FALSE="true-false",SCORM_CHOICE="choice",SCORM_FILL_IN="fill-in",SCORM_MATCHING="matching",SCORM_PERFORMANCE="performance",SCORM_SEQUENCING="sequencing",SCORM_LIKERT="likert",SCORM_NUMERIC="numeric",SCORM_LONG_FILL_IN="long-fill-in",SCORM_OTHER="other",SCORM_CORRECT="correct",SCORM_WRONG="wrong",SCORM_INCORRECT="incorrect",SCORM_UNANTICIPATED="unanticipated",SCORM_NEUTRAL="neutral",SCORM_RUNTIME_NAV_REQUEST_CONTINUE="continue",SCORM_RUNTIME_NAV_REQUEST_PREVIOUS="previous",SCORM_RUNTIME_NAV_REQUEST_CHOICE="choice",SCORM_RUNTIME_NAV_REQUEST_JUMP="jump",SCORM_RUNTIME_NAV_REQUEST_EXIT="exit",SCORM_RUNTIME_NAV_REQUEST_EXITALL="exitAll",SCORM_RUNTIME_NAV_REQUEST_ABANDON="abandon",SCORM_RUNTIME_NAV_REQUEST_ABANDONALL="abandonAll",SCORM_RUNTIME_NAV_REQUEST_SUSPENDALL="suspendAll",SCORM_RUNTIME_NAV_REQUEST_NONE="_none_";function ActivityRunTime(t,e,i,n,r,o,s,a,u,l,c,d,h,p,f,g,m,S,v,A,y,T,C){this.CompletionStatus=t,this.Credit=e,this.Entry=i,this.Exit=n,this.Location=r,this.Mode=o,this.ProgressMeasure=s,this.ScoreRaw=a,this.ScoreMax=u,this.ScoreMin=l,this.ScoreScaled=c,this.SuccessStatus=d,this.SuspendData=h,this.TotalTime=p,this.TotalTimeTracked=f,this.AudioLevel=g,this.LanguagePreference=m,this.DeliverySpeed=S,this.AudioCaptioning=v,this.Comments=A,this.CommentsFromLMS=y,this.Interactions=T,this.Objectives=C,this.LookAheadCompletionStatus=t,this.LookAheadSuccessStatus=d,this.CompletionStatusChangedDuringRuntime=!1,this.SuccessStatusChangedDuringRuntime=!1,this.SessionTime="",this.SessionTimeTracked="",this.NavRequest=SCORM_RUNTIME_NAV_REQUEST_NONE,this.DataState=DATA_STATE_CLEAN}function ActivityRunTime_ResetState(){var t=rscpCfg.get("registrationToDeliver").LessonMode;this.CompletionStatus=SCORM_STATUS_UNKNOWN,this.Entry=SCORM_ENTRY_AB_INITO,this.Exit=SCORM_EXIT_UNKNOWN,this.Location=null,t!==SCORM_MODE_REVIEW&&t!==SCORM_MODE_BROWSE&&(this.Mode=SCORM_MODE_NORMAL),this.ProgressMeasure=null,this.ScoreRaw=null,this.ScoreMax=null,this.ScoreMin=null,this.ScoreScaled=null,this.SuccessStatus=SCORM_STATUS_UNKNOWN,this.SuspendData=null,this.TotalTime="PT0H0M0S",this.TotalTimeTracked="PT0H0M0S",!0!==Control.Package.Properties.MakeStudentPrefsGlobalToCourse&&(this.AudioLevel=1,this.LanguagePreference="",this.DeliverySpeed=1,this.AudioCaptioning=0),this.Comments=[],this.CommentsFromLMS=[],this.Interactions=[],this.Objectives=[],this.LookAheadCompletionStatus=this.CompletionStatus,this.LookAheadSuccessStatus=this.SuccessStatus,this.SessionTime="",this.NavRequest=SCORM_RUNTIME_NAV_REQUEST_NONE,this.CompletionStatusChangedDuringRuntime=!1,this.SuccessStatusChangedDuringRuntime=!1,this.SetDirtyData()}function ActivityRunTime_GetXml(t){var e,i=new ServerFormater,n=new XmlElement("ART");for(n.AddAttribute("AI",t),n.AddAttribute("CS",i.ConvertCompletionStatus(this.CompletionStatus)),n.AddAttribute("C",i.ConvertCredit(this.Credit)),n.AddAttribute("E",i.ConvertEntry(this.Entry)),n.AddAttribute("Ex",i.ConvertExit(this.Exit)),null!==this.Location&&n.AddAttribute("L",i.TrimToLength(this.Location,1e3)),n.AddAttribute("M",i.ConvertMode(this.Mode)),null!==this.ProgressMeasure&&n.AddAttribute("PM",this.ProgressMeasure),null!==this.ScoreRaw&&n.AddAttribute("SR",this.ScoreRaw),null!==this.ScoreMax&&n.AddAttribute("SM",this.ScoreMax),null!==this.ScoreMin&&n.AddAttribute("SMi",this.ScoreMin),null!==this.ScoreScaled&&n.AddAttribute("SS",this.ScoreScaled),n.AddAttribute("SuS",i.ConvertSuccessStatus(this.SuccessStatus)),null!==this.SuspendData&&(/^[\x00-\x7F]*$/.test(this.SuspendData)?(n.AddAttribute("SD",i.TrimToLength(this.SuspendData,Control.Package.Properties.SuspendDataMaxLength)),n.AddAttribute("SDE",!1)):(n.AddAttribute("SD",i.TrimToLength(Base64.encode(this.SuspendData),Control.Package.Properties.SuspendDataMaxLength)),n.AddAttribute("SDE",!0))),n.AddAttribute("TT",i.ConvertTimeSpan(this.TotalTime)),n.AddAttribute("TTT",i.ConvertTimeSpan(this.TotalTimeTracked)),n.AddAttribute("AL",this.AudioLevel),n.AddAttribute("LP",i.TrimToLength(this.LanguagePreference,250)),n.AddAttribute("DS",this.DeliverySpeed),n.AddAttribute("AC",this.AudioCaptioning),e=0;e<this.Comments.length;e+=1)n.AddElement(this.Comments[e].GetXml(t,e,!1));for(e=0;e<this.CommentsFromLMS.length;e+=1)n.AddElement(this.CommentsFromLMS[e].GetXml(t,e,!0));for(e=0;e<this.Interactions.length;e+=1)n.AddElement(this.Interactions[e].GetXml(t,e));for(e=0;e<this.Objectives.length;e+=1)n.AddElement(this.Objectives[e].GetXml(t,e));return n.toString()}function ActivityRunTime_toString(){return"RunTimeData - CompletionStatus="+this.CompletionStatus+", SuccessStatus="+this.SuccessStatus}function ActivityRunTime_SetDirtyData(){this.DataState=DATA_STATE_DIRTY}function ActivityRunTime_IsValidObjectiveIndex(t){return(t=parseInt(t,10))<=this.Objectives.length}function ActivityRunTime_IsValidInteractionIndex(t){return(t=parseInt(t,10))<=this.Interactions.length}function ActivityRunTime_IsValidInteractionObjectiveIndex(t,e){return t=parseInt(t,10),e=parseInt(e,10),this.Interactions[t]?e<=this.Interactions[t].Objectives.length:0===e}function ActivityRunTime_IsValidInteractionCorrectResponseIndex(t,e){return t=parseInt(t,10),e=parseInt(e,10),this.Interactions[t]?e<=this.Interactions[t].CorrectResponses.length:0===e}function ActivityRunTime_AddObjective(){this.Objectives[this.Objectives.length]=new ActivityRunTimeObjective(null,SCORM_STATUS_UNKNOWN,SCORM_STATUS_UNKNOWN,null,null,null,null,null,null)}function ActivityRunTime_AddInteraction(){this.Interactions[this.Interactions.length]=new ActivityRunTimeInteraction(null,null,null,null,null,null,null,null,null,[],[])}function ActivityRunTime_AddComment(){this.Comments[this.Comments.length]=new ActivityRunTimeComment(null,null,null,null,null)}function ActivityRunTime_FindObjectiveWithId(t){for(var e=0;e<this.Objectives.length;e+=1)if(this.Objectives[e].Identifier===t)return this.Objectives[e];return null}function ActivityRunTimeComment(t,e,i,n,r){this.Comment=t,this.Language=e,this.Location=i,this.TimestampUtc=n,this.Timestamp=r}function ActivityRunTimeInteraction(t,e,i,n,r,o,s,a,u,l,c){this.Id=t,this.Type=e,this.TimestampUtc=i,this.Timestamp=n,this.Weighting=r,""===o&&(o=null),this.Result=o,""===s&&(s=null),this.Latency=s,this.Description=a,this.LearnerResponse=u,this.CorrectResponses=l,this.Objectives=c}function ActivityRunTimeObjective(t,e,i,n,r,o,s,a,u){this.Identifier=t,this.SuccessStatus=e,this.CompletionStatus=i,this.ScoreScaled=n,this.ScoreRaw=r,this.ScoreMax=o,this.ScoreMin=s,this.ProgressMeasure=a,this.Description=u,this.SuccessStatusChangedDuringRuntime=!1,this.MeasureChangedDuringRuntime=!1,this.ProgressMeasureChangedDuringRuntime=!1,this.CompletionStatusChangedDuringRuntime=!1}function CosmeticPage(t,e,i){this.FrameName=t,this.PageHref=e,this.Parameters=i}function GlobalObjective(t,e,i,n,r,o,s,a,u,l,c,d,h){Debug.AssertError("Global Objective not created with all parameters (is the call missing the index?).",null==o),this.Index=t,this.ID=e,this.ProgressStatus=i||!1,this.SatisfiedStatus=n||!1,this.MeasureStatus=r||!1,this.NormalizedMeasure=o||0,this.ScoreRaw=void 0===s?null:s,this.ScoreMin=void 0===a?null:a,this.ScoreMax=void 0===u?null:u,this.CompletionStatus=l||!1,this.CompletionStatusValue=c||!1,this.ProgressMeasureStatus=d||!1,this.ProgressMeasure=void 0===h?null:h,this.DataState=DATA_STATE_CLEAN}function LearningObject(t,e,i,n,r,o,s,a,u,l,c,d,h,p,f,g,m,S,v,A,y,T){this.Title=t,this.Href=e,this.Parameters=i,this.DataFromLms=n,this.MasteryScore=r,this.MaxTimeAllowed=o,this.TimeLimitAction=s,this.Prerequisites=a,this.Visible=u,this.CompletedByMeasure=l,this.CompletionThreshold=c,this.CompletionProgressWeight=d,this.PersistState=h,this.ItemIdentifier=p,this.ResourceIdentifier=f,this.ExternalIdentifier=g,this.DatabaseIdentifier=m,this.ScormType=S,this.SSPBuckets=v,this.SequencingData=A,this.SharedDataMaps=y,this.Children=T,this.UsesDefaultSatisfactionRollupRules=!1,this.UsesDefaultCompletionRollupRules=!1}ActivityRunTime.prototype.ResetState=ActivityRunTime_ResetState,ActivityRunTime.prototype.GetXml=ActivityRunTime_GetXml,ActivityRunTime.prototype.toString=ActivityRunTime_toString,ActivityRunTime.prototype.SetDirtyData=ActivityRunTime_SetDirtyData,ActivityRunTime.prototype.IsValidObjectiveIndex=ActivityRunTime_IsValidObjectiveIndex,ActivityRunTime.prototype.IsValidInteractionIndex=ActivityRunTime_IsValidInteractionIndex,ActivityRunTime.prototype.IsValidInteractionObjectiveIndex=ActivityRunTime_IsValidInteractionObjectiveIndex,ActivityRunTime.prototype.IsValidInteractionCorrectResponseIndex=ActivityRunTime_IsValidInteractionCorrectResponseIndex,ActivityRunTime.prototype.AddObjective=ActivityRunTime_AddObjective,ActivityRunTime.prototype.AddInteraction=ActivityRunTime_AddInteraction,ActivityRunTime.prototype.AddComment=ActivityRunTime_AddComment,ActivityRunTime.prototype.FindObjectiveWithId=ActivityRunTime_FindObjectiveWithId,ActivityRunTimeComment.prototype={GetXml:function(t,e,i){var n=new ServerFormater,r=new XmlElement("ARTC");return r.AddAttribute("AI",t),r.AddAttribute("I",e),r.AddAttribute("FL",n.ConvertBoolean(i)),null!==this.Comment&&r.AddAttribute("C",n.TrimToLength(this.Comment,4e3)),null!==this.Language&&r.AddAttribute("L",this.Language),null!==this.Location&&r.AddAttribute("Lo",n.TrimToLength(this.Location,250)),null!==this.Timestamp&&""!==this.Timestamp&&(r.AddAttribute("TU",n.CleanupTimeStamp(this.Timestamp)),r.AddAttribute("T",this.Timestamp)),r.toString()},toString:function(){return"ActivityRunTimeComment"},GetCommentValue:function(){var t="";return void 0!==this.Language&&null!==this.Language&&(t=this.Language),t+=this.Comment},SetCommentValue:function(t){var e="",i="",n=t.indexOf("}");0===t.indexOf("{lang=")&&0<n?(e=t.substr(0,n+1),t.length>=n+2&&(i=t.substring(n+1))):i=t,this.Language=e,this.Comment=i}},ActivityRunTimeInteraction.prototype={GetXml:function(t,e){var i,n,r,o=new ServerFormater,s=new XmlElement("ARTI");for(s.AddAttribute("AI",t),s.AddAttribute("I",e),s.AddAttribute("Id",o.TrimToLength(this.Id,4e3)),null!==this.Type&&s.AddAttribute("T",o.ConvertInteractionType(this.Type)),null!==this.Timestamp&&(s.AddAttribute("TU",o.CleanupTimeStamp(this.Timestamp)),s.AddAttribute("Ti",this.Timestamp)),null!==this.Weighting&&s.AddAttribute("W",this.Weighting),null!==this.Result&&""!==this.Result&&(IsValidCMIDecimal(this.Result)?(s.AddAttribute("R",o.GetNumericInteractionResultId()),s.AddAttribute("RN",this.Result)):s.AddAttribute("R",o.ConvertInteractionResult(this.Result))),null!==this.Latency&&s.AddAttribute("L",o.ConvertTimeSpan(this.Latency)),null!==this.Description&&s.AddAttribute("D",o.TrimToLength(this.Description,500)),null!==this.LearnerResponse&&s.AddAttribute("LR",o.TrimToLength(this.LearnerResponse,7800)),r=0;r<this.CorrectResponses.length;r+=1)(i=new XmlElement("CR")).AddAttribute("AI",t),i.AddAttribute("II",e),i.AddAttribute("I",r),i.AddAttribute("V",o.TrimToLength(this.CorrectResponses[r],7800)),s.AddElement(i.toString());for(r=0;r<this.Objectives.length;r+=1)(n=new XmlElement("O")).AddAttribute("AI",t),n.AddAttribute("II",e),n.AddAttribute("I",r),n.AddAttribute("Id",o.TrimToLength(this.Objectives[r],4e3)),s.AddElement(n.toString());return s.toString()},toString:function(){return"ActivityRunTimeInteraction"}},ActivityRunTimeObjective.prototype={GetXml:function(t,e){var i=new ServerFormater,n=new XmlElement("ARTO");return n.AddAttribute("AI",t),n.AddAttribute("I",e),null!==this.Identifier&&n.AddAttribute("Id",i.TrimToLength(this.Identifier,4e3)),n.AddAttribute("SS",i.ConvertSuccessStatus(this.SuccessStatus)),n.AddAttribute("CS",i.ConvertCompletionStatus(this.CompletionStatus)),null!==this.ScoreScaled&&n.AddAttribute("SSc",this.ScoreScaled),null!==this.ScoreRaw&&n.AddAttribute("SR",this.ScoreRaw),null!==this.ScoreMax&&n.AddAttribute("SM",this.ScoreMax),null!==this.ScoreMin&&n.AddAttribute("SMi",this.ScoreMin),null!==this.ProgressMeasure&&n.AddAttribute("PM",this.ProgressMeasure),null!==this.Description&&n.AddAttribute("D",i.TrimToLength(this.Description,500)),n.toString()},toString:function(){return"ActivityRunTimeObjective - "+this.Identifier}},CosmeticPage.prototype={clone:function(){return new CosmeticPage(this.FrameName,this.PageHref,this.Parameters)}},GlobalObjective.prototype={GetXml:function(t){var e=new ServerFormater,i=new XmlElement("GO");return i.AddAttribute("RI",t),i.AddAttribute("ROI",this.Index),i.AddAttribute("I",this.ID),i.AddAttribute("PS",e.ConvertBoolean(this.ProgressStatus)),i.AddAttribute("SS",e.ConvertBoolean(this.SatisfiedStatus)),i.AddAttribute("MS",e.ConvertBoolean(this.MeasureStatus)),i.AddAttribute("NM",this.NormalizedMeasure),i.AddAttribute("CS",e.ConvertBoolean(this.CompletionStatus)),i.AddAttribute("CSV",e.ConvertBoolean(this.CompletionStatusValue)),null!==this.ScoreRaw&&i.AddAttribute("SR",this.ScoreRaw),null!==this.ScoreMax&&i.AddAttribute("SM",this.ScoreMax),null!==this.ScoreMin&&i.AddAttribute("SMi",this.ScoreMin),i.AddAttribute("PrMS",e.ConvertBoolean(this.ProgressMeasureStatus)),null!==this.ProgressMeasure&&i.AddAttribute("PM",this.ProgressMeasure),i.toString()},Clone:function(){return new GlobalObjective(this.Index,this.ID,this.ProgressStatus,this.SatisfiedStatus,this.MeasureStatus,this.NormalizedMeasure,this.ScoreRaw,this.ScoreMin,this.ScoreMax,this.CompletionStatus,this.CompletionStatusValue,this.ProgressMeasureStatus,this.ProgressMeasure)},SetDirtyData:function(){this.DataState=DATA_STATE_DIRTY},ResetState:function(){this.ProgressStatus=!1,this.SatisfiedStatus=!1,this.MeasureStatus=!1,this.NormalizedMeasure=0,this.ScoreRaw=null,this.ScoreMin=null,this.ScoreMax=null,this.CompletionStatus=!1,this.CompletionStatusValue=!1,this.ProgressMeasureStatus=!1,this.ProgressMeasure=null,this.SetDirtyData()}},LearningObject.prototype={GetScaledPassingScore:function(){return null!==this.SequencingData&&null!==this.SequencingData.PrimaryObjective&&!0===this.SequencingData.PrimaryObjective.SatisfiedByMeasure?null!==this.SequencingData.PrimaryObjective.MinNormalizedMeasure?this.SequencingData.PrimaryObjective.MinNormalizedMeasure:1:null}};var NAVIGATION_REQUEST_START="START",NAVIGATION_REQUEST_RESUME_ALL="RESUME ALL",NAVIGATION_REQUEST_CONTINUE="CONTINUE",NAVIGATION_REQUEST_PREVIOUS="PREVIOUS",NAVIGATION_REQUEST_FORWARD="FORWARD",NAVIGATION_REQUEST_BACKWARD="BACKWARD",NAVIGATION_REQUEST_CHOICE="CHOICE",NAVIGATION_REQUEST_EXIT="EXIT",NAVIGATION_REQUEST_EXIT_ALL="EXIT ALL",NAVIGATION_REQUEST_SUSPEND_ALL="SUSPEND ALL",NAVIGATION_REQUEST_ABANDON="ABANDON",NAVIGATION_REQUEST_ABANDON_ALL="ABANDON ALL",NAVIGATION_REQUEST_NOT_VALID="INVALID",NAVIGATION_REQUEST_JUMP="JUMP",NAVIGATION_REQUEST_DISPLAY_MESSAGE="DISPLAY MESSAGE",NAVIGATION_REQUEST_EXIT_PLAYER="EXIT PLAYER";function NavigationRequest(t,e,i){this.Type=t,this.TargetActivity=e,this.MessageToUser=i}function LearningStandard(t){this.value=t}function Package(t,e,i,n,r,o){this.Id=t,this.ObjectivesGlobalToSystem=e,this.LearningStandard=new LearningStandard(i),this.Properties=n,this.SharedDataGlobalToSystem=r,this.LearningObjects=o}function PackageProperties(t,e,i,n,r,o,s,a,u,l,c,d,h,p,f,g,m,S,v,A,y,T,C,_,b,E,R,I,D,O,P,N,L,w,M,x,U,G,k,q,j,F,B,W,H,V,z,X,Y,K,Q,$,J,Z,tt,et,it,nt,rt,ot,st,at,ut,lt,ct,dt,ht,pt,ft,gt,mt,St,vt,At,yt,Tt,Ct,_t,bt,Et,Rt,It,Dt,Ot,Pt,Nt,Lt,wt,Mt){this.ShowFinishButton=t,this.ShowCloseItem=e,this.ShowHelp=i,this.ShowProgressBar=n,this.UseMeasureProgressBar=r,this.ShowCourseStructure=o,this.CourseStructureStartsOpen=s,this.ShowNavBar=a,this.ShowTitleBar=u,this.EnableFlowNav=l,this.EnableChoiceNav=c,this.DesiredWidth=d,this.DesiredHeight=h,this.DesiredFullScreen=p,this.RequiredWidth=f,this.RequiredHeight=g,this.RequiredFullScreen=m,this.CourseStructureWidth=S,this.ScoLaunchType=v,this.PlayerLaunchType=A,this.IntermediateScoSatisfiedNormalExitAction=y,this.IntermediateScoSatisfiedSuspendExitAction=T,this.IntermediateScoSatisfiedTimeoutExitAction=C,this.IntermediateScoSatisfiedLogoutExitAction=_,this.IntermediateScoNotSatisfiedNormalExitAction=b,this.IntermediateScoNotSatisfiedSuspendExitAction=E,this.IntermediateScoNotSatisfiedTimeoutExitAction=R,this.IntermediateScoNotSatisfiedLogoutExitAction=I,this.FinalScoCourseSatisfiedNormalExitAction=D,this.FinalScoCourseSatisfiedSuspendExitAction=O,this.FinalScoCourseSatisfiedTimeoutExitAction=P,this.FinalScoCourseSatisfiedLogoutExitAction=N,this.FinalScoCourseNotSatisfiedNormalExitAction=L,this.FinalScoCourseNotSatisfiedSuspendExitAction=w,this.FinalScoCourseNotSatisfiedTimeoutExitAction=M,this.FinalScoCourseNotSatisfiedLogoutExitAction=x,this.PreventRightClick=U,this.PreventWindowResize=G,this.IsAvailableOffline=k,this.StatusDisplay=q,this.ScoreRollupMode=j,this.NumberOfScoringObjects=F,this.StatusRollupMode=B,this.ThresholdScore=W,this.ApplyRollupStatusToSuccess=H,this.FirstScoIsPretest=V,this.WrapScoWindowWithApi=z,this.FinishCausesImmediateCommit=X,this.DebugControlAudit=Y,this.DebugControlDetailed=K,this.DebugRteAudit=Q,this.DebugRteDetailed=$,this.DebugSequencingAudit=J,this.DebugSequencingDetailed=Z,this.DebugSequencingSimple=tt,this.DebugLookAheadAudit=et,this.DebugLookAheadDetailed=it,this.DebugIncludeTimestamps=nt,this.CaptureHistory=rt,this.CaptureHistoryDetailed=ot,this.CommMaxFailedSubmissions=st,this.CommCommitFrequency=at,this.InvalidMenuItemAction=ut,this.AlwaysFlowToFirstSco=lt,this.LogoutCausesPlayerExit=ct,this.ResetRunTimeDataTiming=dt,this.ValidateInteractionResponses=ht,this.LookaheadSequencerMode=pt,this.ScoreOverridesStatus=ft,this.AllowCompleteStatusChange=gt,this.ScaleRawScore=mt,this.RollupEmptySetToUnknown=St,this.ReturnToLmsAction=vt,this.UseQuickLookaheadSequencer=At,this.ForceDisableRootChoice=yt,this.RollupRuntimeAtScoUnload=Tt,this.ForceObjectiveCompletionSetByContent=Ct,this.InvokeRollupAtSuspendAll=_t,this.CompletionStatOfFailedSuccessStat=bt,this.SatisfiedCausesCompletion=Et,this.MakeStudentPrefsGlobalToCourse=Rt,this.LaunchCompletedRegsAsNoCredit=It,this.IsCompletionTracked=Dt,this.IsSatisfactionTracked=Ot,this.IsScoreTracked=Pt,this.IsIncompleteScoreMeaningful=Nt,this.IsIncompleteSatisfactionMeaningful=Lt,this.SuspendDataMaxLength=wt,this.TimeLimit=Mt}function PossibleRequest(t,e,i,n,r){this.NavigationRequest=t,this.TargetActivityItemIdentifier=e,this.WillSucceed=i,this.Exception=n,this.ExceptionText=r,this.TargetActivity=null,this.SequencingRequest=null,this.TerminationSequencingRequest=null,this.Hidden=!1,this.Disabled=!1,this.PreConditionSkipped=!1,this.PreConditionStopForwardTraversal=!1,this.PreConditionStopForwardTraversalViolation=!1,this.PreConditionDisabled=!1,this.PreConditionHiddenFromChoice=!1,this.LimitConditionViolation=!1,this.IsVisibleViolation=!1,this.PreventActivationViolation=!1,this.ControlChoiceViolation=!1,this.ForwardOnlyViolation=!1,this.ChoiceExitViolation=!1,this.ConstrainedChoiceViolation=!1,this.NoDeliverablieActivityViolation=!1,this.WillAlwaysSucceed=!1,this.WillNeverSucceed=!1}function Registration(t,e,i,n,r,o,s,a,u,l){this.Id=t,this.SuspendedActivity=e,this.TrackingEnabled=i,this.LessonMode=n,this.Package=r,this.Activities=o,this.GlobalObjectives=s,this.SSPBuckets=a,this.SharedData=u,this.LastSequenceNumber=l}function SequencingData(t,e,i,n,r,o,s,a,u,l,c,d,h,p,f,g,m,S,v,A,y,T,C,_,b,E,R,I,D,O,P,N,L,w,M,x,U,G,k,q,j,F,B){this.Identifier=t,this.Identifierref=e,this.ControlChoice=i,this.ControlChoiceExit=n,this.ControlFlow=r,this.ControlForwardOnly=o,this.UseCurrentAttemptObjectiveInformation=s,this.UseCurrentAttemptProgressInformation=a,this.ConstrainChoice=u,this.PreventActivation=l,this.PreConditionSequencingRules=c,this.PostConditionSequencingRules=d,this.ExitSequencingRules=h,this.LimitConditionAttemptControl=p,this.LimitConditionAttemptLimit=f,this.LimitConditionAttemptAbsoluteDurationControl=g,this.LimitConditionAttemptAbsoluteDurationLimit=m,this.RollupRules=S,this.RollupObjectiveSatisfied=v,this.RollupObjectiveMeasureWeight=A,this.RollupProgressCompletion=y,this.MeasureSatisfactionIfActive=T,this.RequiredForSatisfied=C,this.RequiredForNotSatisfied=_,this.RequiredForCompleted=b,this.RequiredForIncomplete=E,this.PrimaryObjective=R,this.Objectives=I,this.SelectionTiming=D,this.SelectionCountStatus=O,this.SelectionCount=P,this.RandomizationTiming=N,this.RandomizeChildren=L,this.Tracked=w,this.CompletionSetByContent=M,this.ObjectiveSetByContent=x,this.HidePrevious=U,this.HideContinue=G,this.HideExit=k,this.HideAbandon=q,this.HideSuspendAll=j,this.HideAbandonAll=F,this.HideExitAll=B}function SequencingObjective(t,e,i,n){this.Id=t,this.SatisfiedByMeasure=e,this.MinNormalizedMeasure=i,this.Maps=n}function SequencingObjectiveMap(t,e,i,n,r,o,s,a,u,l,c,d,h,p,f){this.TargetObjectiveId=t,this.ReadSatisfiedStatus=e,this.ReadNormalizedMeasure=i,this.ReadRawScore=n,this.ReadMinScore=r,this.ReadMaxScore=o,this.ReadCompletionStatus=s,this.ReadProgressMeasure=a,this.WriteSatisfiedStatus=u,this.WriteNormalizedMeasure=l,this.WriteRawScore=c,this.WriteMinScore=d,this.WriteMaxScore=h,this.WriteCompletionStatus=p,this.WriteProgressMeasure=f}function SequencingRollupRule(t,e,i,n,r,o){this.ConditionCombination=t,this.ChildActivitySet=e,this.MinimumCount=i,this.MinimumPercent=n,this.Action=r,this.Conditions=o}function SequencingRollupRuleCondition(t,e){this.Operator=t,this.Condition=e}function SequencingRule(t,e,i){this.ConditionCombination=t,this.Action=e,this.RuleConditions=i}function SequencingRuleCondition(t,e,i,n){this.Condition=t,this.ReferencedObjective=e,this.MeasureThreshold=i,this.Operator=n}function SharedDataMap(t,e,i){this.Id=t,this.ReadSharedData=e,this.WriteSharedData=i}function SharedData(t,e,i){this.SharedDataId=t,this.SharedDataValId=e,this.Data=i,this.DataState=DATA_STATE_CLEAN}NavigationRequest.prototype={toString:function(){return"Type="+this.Type+", TargetActivity="+this.TargetActivity+", MessageToUser="+this.MessageToUser},toDescriptiveString:function(){var t="";return t+=this.Type,null!==this.TargetActivity&&(t+=' targeting "'+this.TargetActivity+'".'),t}},LearningStandard.prototype={isAICC:function(){return this.value===STANDARD_AICC},isCmi5:function(){return this.value===STANDARD_CMI5},isLti:function(){return this.value===STANDARD_LTI11||this.value===STANDARD_LTI13},isLti11:function(){return this.value===STANDARD_LTI11},isLti13:function(){return this.value===STANDARD_LTI13},is12:function(){return this.value===STANDARD_SCORM_12},is2004:function(){return this.value===STANDARD_SCORM_2004_2ND_EDITION||this.value===STANDARD_SCORM_2004_3RD_EDITION||this.value===STANDARD_SCORM_2004_4TH_EDITION},is20043rdOrGreater:function(){return this.value===STANDARD_SCORM_2004_3RD_EDITION||this.value===STANDARD_SCORM_2004_4TH_EDITION},is20044thOrGreater:function(){return this.value===STANDARD_SCORM_2004_4TH_EDITION},isTinCan:function(){return this.value===STANDARD_TINCAN},toString:function(){return this.value}},PossibleRequest.prototype={toString:function(){return"Navigation Request = "+this.NavigationRequest+", TargetActivityItemIdentifier="+this.TargetActivityItemIdentifier},GetErrorString:function(){return this.ExceptionText.trim()},GetExceptionReason:function(){var t=this.ExceptionText.trim();return t+="["+this.Exception+"], ",t+=", WillAlwaysSucceed = ",t+=this.WillAlwaysSucceed.toString(),t+=", WillNeverSucceed = ",t+=this.WillNeverSucceed.toString(),t+=", PreConditionSkipped = ",t+=this.PreConditionSkipped.toString(),t+=", PreConditionStopForwardTraversal = ",t+=this.PreConditionStopForwardTraversal.toString(),t+=", PreConditionDisabled = ",t+=this.PreConditionDisabled.toString(),t+=", PreConditionHiddenFromChoice = ",t+=this.PreConditionHiddenFromChoice.toString(),t+=", LimitConditionViolation = ",t+=this.LimitConditionViolation.toString(),t+=", IsVisibleViolation = ",t+=this.IsVisibleViolation.toString(),t+=", PreventActivationViolation = ",t+=this.PreventActivationViolation.toString(),t+=", ControlChoiceViolation = ",t+=this.ControlChoiceViolation.toString(),t+=", ForwardOnlyViolation = ",t+=this.ForwardOnlyViolation.toString(),t+=", ChoiceExitViolation = ",t+=this.ChoiceExitViolation.toString(),t+=", ConstrainedChoiceViolation = ",t+=this.ConstrainedChoiceViolation.toString()},ResetForNewEvaluation:function(){this.WillSucceed=!0,this.Hidden=!1,this.Disabled=!1,this.PreConditionSkipped=!1,this.PreConditionStopForwardTraversal=!1,this.PreConditionDisabled=!1,this.PreConditionHiddenFromChoice=!1,this.LimitConditionViolation=!1,this.IsVisibleViolation=!1,this.PreventActivationViolation=!1,this.ControlChoiceViolation=!1,this.ForwardOnlyViolation=!1,this.ChoiceExitViolation=!1,this.ConstrainedChoiceViolation=!1}},Registration.prototype={FindActivityForThisScormObject:function(t){for(var e=0;e<this.Activities.length;e+=1)if(this.Activities[e].ScormObjectDatabaseId===t)return this.Activities[e];return Debug.AssertError("Registration_FindActivityForThisScormObject could not find the activity for learning object "+t),null}},SequencingObjective.prototype.toString=function(){var t,e="Id="+this.Id+", SatisfiedByMeasure="+this.SatisfiedByMeasure+", MinNormalizedMeasure="+this.MinNormalizedMeasure;for(t in e+="Maps:",this.Maps)this.Maps.hasOwnProperty(t)&&(e+="{"+t+"}"+this.Maps[t]+"  ");return e},SequencingObjectiveMap.prototype={toString:function(){return"TargetObjectiveId="+this.TargetObjectiveId+", ReadSatisfiedStatus="+this.ReadSatisfiedStatus+", ReadNormalizedMeasure="+this.ReadNormalizedMeasure+", ReadRawScore="+this.ReadRawScore+", ReadMinScore="+this.ReadMinScore+", ReadMaxScore="+this.ReadMaxScore+", ReadCompletionStatus="+this.ReadCompletionStatus+", ReadProgressMeasure="+this.ReadProgressMeasure+", WriteSatisfiedStatus="+this.WriteSatisfiedStatus+", WriteNormalizedMeasure="+this.WriteNormalizedMeasure+", WriteRawScore="+this.WriteRawScore+", WriteMinScore="+this.WriteMinScore+", WriteMaxScore="+this.WriteMaxScore+", WriteCompletionStatus="+this.WriteCompletionStatus+", WriteProgressMeasure="+this.WriteProgressMeasure}},SequencingRollupRule.prototype={toString:function(){var t,e="If ";if(this.ChildActivitySet===CHILD_ACTIVITY_SET_AT_LEAST_COUNT?e+="At Least "+this.MinimumCount+" Child Activities Meet ":this.ChildActivitySet===CHILD_ACTIVITY_SET_AT_LEAST_PERCENT?e+="At Least "+this.MinimumPercent+" Percent of Child Activities Meet ":this.ChildActivitySet===CHILD_ACTIVITY_SET_ALL?e+="All Child Activities Meet ":this.ChildActivitySet===CHILD_ACTIVITY_SET_ANY?e+="Any Child Activity Meets ":this.ChildActivitySet===CHILD_ACTIVITY_SET_NONE&&(e+="No Child Activity Meets "),this.ConditionCombination===RULE_CONDITION_COMBINATION_ANY?e+=" Any Condition ":e+=" All Conditions ",e+=" THEN "+this.Action,1<this.Conditions.length)for(t in e+=". Conditions: ",this.Conditions)this.Conditions.hasOwnProperty(t)&&(e+="{"+t+"} "+this.Conditions[t]+"; ");else e+=". Condition: "+this.Conditions[0];return e}},SequencingRollupRuleCondition.prototype={toString:function(){var t="";return this.Operator===RULE_CONDITION_OPERATOR_NOT&&(t+="NOT "),t+=this.Condition}},SequencingRule.prototype={toString:function(){var t,e="If "+this.ConditionCombination+" condition(s) evaluate to true, then "+this.Action+".  ";if(1<this.RuleConditions.length)for(t in e+="Conditions: ",this.RuleConditions)this.RuleConditions.hasOwnProperty(t)&&(e+="{"+t+"} "+this.RuleConditions[t]+"; ");else e+="Condition: "+this.RuleConditions[0];return e}},SequencingRuleCondition.prototype={toString:function(){var t="";return null!==this.ReferencedObjective&&0<this.ReferencedObjective.length?t+="Objective "+this.ReferencedObjective+" ":t+="Activity ",this.Operator===RULE_CONDITION_OPERATOR_NOT&&(t+="NOT "),t+=this.Condition,this.Condition!==SEQUENCING_RULE_CONDITION_OBJECTIVE_MEASURE_GREATER_THAN&&this.Condition!==SEQUENCING_RULE_CONDITION_OBJECTIVE_MEASURE_LESS_THAN||(t+=" "+this.MeasureThreshold),t}},SharedDataMap.prototype.toString=function(){return"Id="+this.Id+", ReadSharedData="+this.ReadSharedData+", WriteSharedData="+this.WriteSharedData},SharedData.prototype.toString=function(){return"SharedDataId="+this.SharedDataId+", SharedDataValId="+this.SharedDataValId+", Data="+this.Data},SharedData.prototype={GetXml:function(){var t=new ServerFormater,e=new XmlElement("SD");return e.AddAttribute("SDVI",this.SharedDataValId),e.AddAttribute("D",t.TrimToLength(this.Data,64e3)),e.toString()},GetData:function(){return this.Data},WriteData:function(t){this.Data=t,this.SetDirtyData()},SetDirtyData:function(){this.DataState=DATA_STATE_DIRTY}};
//# sourceMappingURL=player-modern-min.js.map